{"version":3,"file":"app.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;ACVA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACxCD,sCAAsC;AACtC;AACA,CAAC;AACD,sCAAsC;AACtC;AACA,CAAC;AACD,wCAAwC;AACxC;AACA,CAAC;;;;;;;ACRD,kCAAkC;AAClC;AACA,CAAC;;;;;;;ACFD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC;AACD,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC3BD,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC/BD,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACpBD,uCAAuC;AACvC;AACA,CAAC;AACD,6CAA6C;AAC7C;AACA,CAAC;;;;;;;ACLD,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACND,uCAAuC;AACvC;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACLD,sCAAsC;AACtC;AACA,CAAC;;;;;;;ACFD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACrBD,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACtBD,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACZD,6CAA6C;AAC7C;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACLD,gCAAgC;AAChC;AACA,CAAC;AACD,oCAAoC;AACpC;AACA,CAAC;;;;;;;ACLD,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACxBD,uCAAuC;AACvC;AACA,CAAC;AACD,iCAAiC;AACjC;AACA;AACA;AACA,CAAC;;;;;;;ACPD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACND,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AChCD,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC/BD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC3DD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACVD,uCAAuC;AACvC;AACA;AACA;AACA,CAAC;;;;;;;ACJD,qCAAqC;AACrC;AACA,CAAC;;;;;;;ACFD,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACfD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACND,yCAAyC;AACzC;AACA;AACA;AACA;AACA,CAAC;AACD,0CAA0C;AAC1C;AACA,CAAC;;;;;;;ACRD,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACVD,wCAAwC;AACxC;AACA;AACA;AACA,CAAC;;;;;;;ACJD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACdD,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACPD,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACND,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kDAAkD;AAClD;AACA,CAAC;;;;;;;ACTD,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oDAAoD;AACpD;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACfD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACTD,mCAAmC;AACnC;AACA;AACA;AACA,CAAC;;;;;;;ACJD,sCAAsC;AACtC;AACA,CAAC;AACD,wCAAwC;AACxC;AACA,CAAC;AACD,sCAAsC;AACtC;AACA,CAAC;AACD,0CAA0C;AAC1C;AACA,CAAC;AACD,+CAA+C;AAC/C;AACA,CAAC;;;;;;;ACdD,uCAAuC;AACvC;AACA,CAAC;AACD,oCAAoC;AACpC;AACA,CAAC;AACD,gCAAgC;AAChC;AACA,CAAC;;;;;;;ACRD,0CAA0C;AAC1C;AACA;AACA;AACA,CAAC;AACD,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACZD,qCAAqC;AACrC;AACA;AACA;AACA,CAAC;AACD,2CAA2C;AAC3C;AACA,CAAC;;;;;;;ACPD,mCAAmC;AACnC;AACA,CAAC;;;;;;;ACFD,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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;wBACZ,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;oBAE/C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;iBAC/C;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;CAkDJ;AAED,YAAY,CAAC,2CAAyB,EAAE,2BAA2B,CAAC,CAAC;;;ACjOrE;;GAEG;AACmB;AAEO;AACe;AAChB;AACO;AACa;AACC;AACL;AACE;AACF;AACG;AACE;AACL;AACG;AACF;AACJ;AACD;AACS;AACH;AACO;AACJ;AACR;AACM;AACD;AACC;AACT;AACG;AACL;AACK;AACN;AACO;AACQ;AACJ;AACE;AACE;AACP;AACR;AACI;AACH;AACE;AACH;AACK;AACD;AACD;AACE;AACD;AACE;AACC;AACD;AACE;AACL;AACM;AACR;AACU;AACP;AACK;AACI;AACR;AACK;AACM;AACA;AACM;AACI;AACR;AACF;AACA;AACQ;AACzB;AACK;AACN;AACO;AACD;AACI;AACI;AACI;AACL;AACC;AACO;AACN;AACF;AACA;AACE;AACH;AACF;AACE;AACE;AACG;AACH;AACA;AACC;AACH;AACE;AACO;AACb;AACI;AACG;AACN;AACI;AACE;AACG;AACC;AACL;AACQ;AACA;AACC;AACV;AACL;AACW;AACF;AACF;AACI;AACA;AACI;AACP;AACD;AACL;AACO;AACD;AACa;AACH;AACX;AACI;AACC;AACA;AACC;AACD;AACT;AACC;AACM;AACT;AACI;AACA;AACF;AACM;AACJ;AACA;AACA;AACL;AACQ;AACN;AACS;AACT;AACI;AACH;AACA;AACD;AACA;AACI;AACA;AACL;AACE;AACC;AACJ;AACF;AACC;AACO;AACA;AACA;AACK;AACP;AACE;AACM;AACA;AACJ;AACD;AACL;AACK;AACL;AACH;AACI;AACL;AACS;AACN;AACA;AACG;AACE;AACA;AACL;AACU;AACN;AACA;AACJ;AACI;AACJ;AACI;AACD;AACH;AACK;AACI;AACR;AACA;AACI;AACH;AACA;AACD;AACG;AACD;AACG;AACE;AACD;AACP;AACA;AACH;AACE;AACC;AACA;AACH;AACG;AACC;AACC;AACL;AACE;AACC;AACC;AACF;AACc;AACN;AACL;AACV;AACS;AACF;AACK;AACR;AACY;AACC;AACF;AACC;AACZ;AACJ;;;ACxOP;;;ACAgD;AAEpE,MAAM,kBAAkB;IAE3B,WAAW,CAAC,MAAW,EAAE,KAAU,EAAE,OAAgB;IAErD,CAAC;IAED,QAAQ,CAAC,IAAe;QACpB,6CAAmB,GAAG,IAAI,2BAAa,EAAE,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,WAAW,CAAW;IAEtB,OAAO,CAAS;IAEhB,OAAO,CAAS;IAEhB,KAAK,CAAU;IAEf,QAAQ,CAAS;CACpB;;;ACrBqC;AAE/B,IAAU,GAAG,CAwBnB;AAxBD,WAAiB,GAAG;IAET,KAAK,UAAU,SAAS,CAAC,EAAQ,EAAE,KAAa;QAEnD,IAAI,MAAM,GAAG,MAAM,4CAAkB,CAAsB,cAAc,GAAG,EAAE,EAAE,KAAK,CAAC,CAAC;QACvF,IAAI,CAAC,MAAM,CAAC,SAAS;YACjB,MAAM,MAAM,CAAC,KAAK,CAAC;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC;IACvB,CAAC;IANqB,aAAS,YAM9B;IAED,0CAA0C;IAEnC,KAAK,UAAU,SAAS,CAAI,EAAQ;QACvC,IAAI,MAAM,GAAG,MAAM,0CAAiB,CAAgB,cAAc,GAAG,EAAE,CAAC,CAAC;QACzE,IAAI,CAAC,MAAM,CAAC,SAAS;YACjB,MAAM,MAAM,CAAC,KAAK,CAAC;QACvB,OAAO,MAAM,CAAC,IAAI,CAAC;IACvB,CAAC;IALqB,aAAS,YAK9B;IAED,0CAA0C;IAEnC,KAAK,UAAU,cAAc;QAChC,OAAO,MAAM,0CAAiB,CAAmB,cAAc,CAAC,CAAC;IACrE,CAAC;IAFqB,kBAAc,iBAEnC;AACL,CAAC,EAxBgB,GAAG,KAAH,GAAG,QAwBnB;;;;;;;A1J5BiD;AACU;AAE5D,mDAAe,CAAC;IAEZ,eAAe,EAAE,mCAAmC;IAEpD,SAAS,EAAE,UAAU;IAErB,KAAK,EAAE,IAAI;IAEX,IAAI,EAAE,IAAI;IAEV,OAAO,EAAE,QAAQ;IAEjB,WAAW,EAAE,UAAU;IAEvB,aAAa,EAAE,QAAQ;IAEvB,YAAY,EAAE,QAAQ;IAEtB,mBAAmB,EAAE,yDAAqB,CAAC,iCAAiC,CAAC;IAE7E,yBAAyB,EAAE,yDAAqB,CAAC,4CAA4C,CAAC;IAE9F,mBAAmB,EAAE,kBAAkB;IAEvC,sBAAsB,EAAE,yDAAqB,CAAC,0CAA0C,CAAC;CAE5F,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;;;;;;;AE3BvB,IAAY,oCAGX;AAHD,WAAY,aAAa;IACrB,qDAAM;IACN,mDAAK;AACT,CAAC,EAHW,oCAAa,KAAb,oCAAa,QAGxB;;;ACLoC;AA2C9B,KAAK,UAAU,2BAAS,CAAI,MAA+C,EAAE,YAAuC,WAAW;IAClI,MAAM,EAAE,GAAG,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC/C,IAAI;QACA,OAAO,MAAM,MAAM,CAAC,EAAE,CAAC,CAAC;KAC3B;IACD,OAAO,EAAE,EAAE;QACP,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;KAChD;YACO;QACJ,EAAE,CAAC,GAAG,EAAE,CAAC;KACZ;AACL,CAAC;;;;;;;;;AGhDM,SAAS,8BAAY,CAAC,MAAc,EAAE,KAAK,GAAG,gEAAgE;IAEjH,IAAI,MAAM,GAAG,EAAE,CAAC;IAEhB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE;QAC3B,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAErE,OAAO,MAAM,CAAC;AAClB,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAW,CAAC,KAAa;IACrC,OAAO,KAAK,CAAC,WAAW,EAAE,KAAK,KAAK,CAAC;AACzC,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAY,CAAC,KAAa,EAAE,KAAa;IACrD,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE;QAC1B,MAAM,IAAI,KAAK,CAAC;IACpB,OAAO,MAAM,CAAC;AAClB,CAAC;AAED,0CAA0C;AAEnC,SAAS,mBAAO,CAAC,KAAa,EAAE,KAAa,EAAE,IAAY;IAC9D,IAAI,KAAK,IAAI,IAAI;QACb,OAAO;IACX,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK;QACrB,OAAO,KAAK,CAAC;IACjB,OAAO,wBAAY,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;AAC5D,CAAC;AAED,0CAA0C;AAEnC,SAAS,oBAAQ,CAAC,KAAa,EAAE,KAAa,EAAE,IAAY;IAC/D,IAAI,KAAK,IAAI,IAAI;QACb,OAAO;IACX,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK;QACrB,OAAO,KAAK,CAAC;IACjB,OAAO,KAAK,GAAG,wBAAY,CAAC,IAAI,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;AAC5D,CAAC;AAED,0CAA0C;AAEnC,SAAS,kBAAM;IAClB,IAAI,QAAQ,IAAI,MAAM,IAAI,YAAY,IAAI,MAAM;QAC5C,OAAO,MAAM,CAAC,UAAU,EAAE,CAAC;IAE/B,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,CAAC;QACtE,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;QACrE,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;AACP,CAAC;;;AC7D0C;AACI;AAE/C,IAAY,iBAMX;AAND,WAAY,QAAQ;IAChB,uDAAY;IACZ,6CAAO;IACP,6CAAO;IACP,yCAAK;IACL,uCAAI;AACR,CAAC,EANW,iBAAQ,KAAR,iBAAQ,QAMnB;AAEM,MAAM,uBAAQ;IAEjB,YAAY,QAAgB,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,0CAA0C;IAE1C,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,IAAI,iBAAiB;QACjB,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACzD,CAAC;IAED,0CAA0C;IAE1C,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;IAC1D,CAAC;IAED,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC7B,CAAC;IAGD,0CAA0C;IAE1C,MAAM,CAAC,MAAc;QACjB,OAAO,yDAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,CAAC,uBAAQ,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;IACjF,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QACJ,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,IAAI;QACP,OAAO,IAAI,uBAAQ,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,gBAAgB,CAAC,KAAa;QACjC,OAAO,IAAI,uBAAQ,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,WAAW,CAAC,KAAa;QAC5B,OAAO,IAAI,uBAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,WAAW,CAAC,KAAa;QAC5B,OAAO,IAAI,uBAAQ,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;IAC3C,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,SAAS,CAAC,KAAa;QAC1B,OAAO,IAAI,uBAAQ,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,QAAQ,CAAC,KAAa;QACzB,OAAO,IAAI,uBAAQ,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,MAAM,CAAC,OAAe,CAAC,EAAE,QAAgB,CAAC,EAAE,UAAkB,CAAC,EAAE,UAAkB,CAAC,EAAE,eAAuB,CAAC;QACjH,OAAO,IAAI,uBAAQ,CACf,CAAC,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YAC5B,CAAC,KAAK,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;YACxB,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACrB,CAAC,OAAO,GAAG,IAAI,CAAC;YAChB,CAAC,YAAY,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,cAAc,CAAC,KAAe,EAAE,GAAW;QAC9C,QAAQ,GAAG,EAAE;YAET,KAAK,GAAG;gBACJ,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACjC,KAAK,IAAI;gBACL,OAAO,mBAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;YAClD,KAAK,GAAG;gBACJ,OAAO,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;YAClC,KAAK,IAAI;gBACL,OAAO,mBAAO,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;YACnD,KAAK,GAAG;gBACJ,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACpC,KAAK,IAAI;gBACL,OAAO,mBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;YACrD,KAAK,GAAG;gBACJ,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACpC,KAAK,IAAI;gBACL,OAAO,mBAAO,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;YACrD,KAAK,GAAG;gBACJ,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;YACjD,KAAK,IAAI;gBACL,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAChD,KAAK,KAAK;gBACN,OAAO,KAAK,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SAC5C;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAS;CACjB;;;AC3K0C;AAEE;AACL;AAEjC,MAAM,mBAAS,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AACjG,MAAM,gBAAM,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;AAEzJ,0CAA0C;AAEnC,SAAS,mBAAS,CAAC,KAAoB;IAE1C,IAAI,KAAK,YAAY,IAAI;QACrB,OAAO,KAAK,CAAC;IAEjB,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3B,CAAC;AAED,0CAA0C;AAEnC,SAAS,iBAAO,CAAC,IAAmB,EAAE,KAAa;IACtD,OAAO,iBAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;AACnD,CAAC;AAED,0CAA0C;AAEnC,SAAS,iBAAO,CAAC,IAAmB,EAAE,KAAe;IACxD,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,CAAC;IACvB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;AAClD,CAAC;AAED,0CAA0C;AAEnC,SAAS,kBAAQ,CAAC,KAAoB,EAAE,KAAoB;IAC/D,OAAO,IAAI,QAAQ,CAAC,mBAAS,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,GAAG,mBAAS,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;AACjF,CAAC;AAED,0CAA0C;AAEnC,SAAS,mBAAG;IACf,OAAO,IAAI,IAAI,EAAE,CAAC;AACtB,CAAC;AAED,0CAA0C;AAEnC,SAAS,mBAAS,CAAC,KAAoB,EAAE,KAAoB;IAChE,OAAO,sBAAY,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,IAAI,sBAAY,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;AAC1E,CAAC;AAED,0CAA0C;AAEnC,SAAS,eAAK;IACjB,OAAO,sBAAY,CAAC,mBAAG,EAAE,CAAC,CAAC;AAC/B,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAY,CAAC,IAAiB;IAC1C,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,CAAC;IACvB,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;AACzE,CAAC;AAED,0CAA0C;AAEnC,SAAS,mBAAS,CAAC,IAAmB;IACzC,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,CAAC;IACvB,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,sBAAY,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;AACvE,CAAC;AAED,0CAA0C;AAEnC,SAAS,oBAAU,CAAC,IAAmB,EAAE,MAAmB;IAC/D,IAAI,GAAG,mBAAS,CAAC,IAAI,CAAC,CAAC;IACvB,OAAO,yDAAkB,CAAC,2CAAW,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,4BAAkB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;AACzF,CAAC;AAED,0CAA0C;AAEnC,SAAS,4BAAkB,CAAC,KAAoB,EAAE,GAAW;IAChE,KAAK,GAAG,mBAAS,CAAC,KAAK,CAAC,CAAC;IACzB,QAAQ,GAAG,EAAE;QACT,KAAK,GAAG;YACJ,OAAO,KAAK,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;QACtC,KAAK,IAAI;YACL,OAAO,mBAAO,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QACvD,KAAK,GAAG;YACJ,OAAO,mBAAS,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5D,KAAK,IAAI;YACL,OAAO,mBAAS,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/C,KAAK,GAAG;YACJ,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;QACvC,KAAK,IAAI;YACL,OAAO,mBAAO,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QAC9D,KAAK,KAAK;YACN,OAAO,gBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjD,KAAK,MAAM;YACP,OAAO,gBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;QACpC,KAAK,IAAI;YACL,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACpD,KAAK,MAAM;YACP,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;QAC1C,KAAK,GAAG;YACJ,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;QACvC,KAAK,IAAI;YACL,OAAO,mBAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QACxD,KAAK,GAAG;YACJ,OAAO,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;QACzC,KAAK,IAAI;YACL,OAAO,mBAAO,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QAC1D,KAAK,GAAG;YACJ,OAAO,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;QACzC,KAAK,IAAI;YACL,OAAO,mBAAO,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QAC1D,KAAK,GAAG;YACJ,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;QACtD,KAAK,IAAI;YACL,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;QACrD,KAAK,KAAK;YACN,OAAO,KAAK,CAAC,eAAe,EAAE,CAAC,QAAQ,EAAE,CAAC;KACjD;IACD,OAAO,GAAG,CAAC;AACf,CAAC;;;ACxHwC;AAElC,MAAM,4CAAiB;IAE1B,IAAI,CAAI,GAAW;QAEf,MAAM,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;QAEvD,IAAI,SAAS,EAAE;YACX,MAAM,KAAK,GAAmB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACpD,KAAK,CAAC,SAAS,EAAE,CAAC;YAClB,KAAK,CAAC,YAAY,GAAG,GAAG,EAAE,CAAC;YAC3B,YAAY,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5D,OAAO,KAAK,CAAC;SAChB;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAI,GAAW,EAAE,KAAQ;QAE3B,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAI,GAAG,CAAC,CAAC;QAE9B,IAAI,CAAC,KAAK,EAAE;YACR,KAAK,GAAG;gBACJ,YAAY,EAAE,GAAG,EAAE;gBACnB,GAAG,EAAE,GAAG;gBACR,YAAY,EAAE,IAAI;gBAClB,aAAa,EAAE,IAAI;gBACnB,KAAK,EAAE,KAAK;gBACZ,SAAS,EAAE,CAAC;gBACZ,UAAU,EAAE,CAAC;aAChB,CAAC;SACL;aACI;YACD,KAAK,CAAC,UAAU,EAAE,CAAC;YACnB,KAAK,CAAC,aAAa,GAAG,GAAG,EAAE,CAAC;YAC5B,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;SACvB;QAED,YAAY,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAE5D,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,GAAW;QACd,YAAY,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,KAAK,IAAI,CAAC,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/C,MAAM,GAAG,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC;gBACxB,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;SACpC;IACL,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,GAAW;QAEhB,OAAO,YAAY,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC;IACxD,CAAC;CAEJ;;;ACvEK,MAAO,yBAAU,SAAQ,KAAK;IAEhC,YAAY,OAAgB,EAAE,cAA0B;QAEpD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,cAAc,CAAY;CAC7B;;;ACbqE;AACjC;AACA;AACU;AAExC,MAAM,2BAAc,SAAQ,yDAAS;IAExC,YAAY,OAA2B,EAAE,MAAc,EAAE,cAA0B;QAC/E,KAAK,CAAC,2BAA2B,GAAG,MAAM,EAAE,cAAc,CAAC,CAAC;QAE5D,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,OAAO,CAAqB;CAC/B;AAED,0CAA0C;AAGnC,MAAM,oCAAa;IAEtB,YAAY,CAAC,MAA0B;IAEvC,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAI,MAA0B;QAEtC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAE1B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAEnC,MAAM,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;YAErC,IAAI,YAAwB,CAAC;YAE7B,IAAI,QAAQ,CAAC,SAAS,EAAE;gBACpB,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;oBACpC,OAAO,EAAE,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC,GAAG;oBACzC,IAAI,EAAE,aAAa,CAAC,KAAK;iBAC5B,CAAC,CAAC;aACN;YAED,OAAO,CAAC,kBAAkB,GAAG,EAAE,CAAC,EAAE;gBAE9B,IAAI,OAAO,CAAC,UAAU,IAAI,cAAc,CAAC,IAAI,EAAE;oBAE3C,IAAI,YAAY;wBACZ,YAAY,CAAC,GAAG,EAAE,CAAC;oBAEvB,IAAI,OAAO,CAAC,MAAM,IAAI,GAAG,EAAE;wBAEvB,IAAI,IAAI,GAAQ,OAAO,CAAC,YAAY,CAAC;wBAErC,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,IAAI,kBAAkB,CAAC;wBACzD,IAAI,MAAM;4BACN,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAE5B,OAAO,CAAC,IAAI,CAAC,CAAC;qBACjB;;wBAEG,MAAM,CAAC,IAAI,2BAAa,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;iBACzD;YACL,CAAC,CAAC;YAEF,IAAI,MAAM,CAAC,UAAU;gBACjB,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC,EAAE;oBAC7B,MAAM,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;oBACrC,IAAI,CAAC,MAAM;wBACP,OAAO,CAAC,KAAK,EAAE,CAAC;gBACxB,CAAC,CAAC;YAEN,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;YAE5D,IAAI,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC;YAClC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YAEvB,IAAI,MAAM,CAAC,IAAI,EAAE;gBAEb,MAAM,MAAM,GAAG,WAAW,IAAI,kBAAkB,IAAI,OAAO,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC;gBACnF,MAAM,KAAK,GAAG,WAAW,IAAI,0BAA0B;gBAEvD,IAAI,MAAM,IAAI,CAAC,KAAK,EAAE;oBAClB,WAAW,GAAG,kBAAkB,CAAC;oBACjC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,IAAI,IAAI,QAAQ;wBACtC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;iBAClC;aACJ;YAED,IAAI,WAAW;gBACX,OAAO,CAAC,gBAAgB,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YAE1D,IAAI,MAAM,CAAC,OAAO,EAAE;gBAChB,KAAK,MAAM,MAAM,IAAI,MAAM,CAAC,OAAO;oBAC/B,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;aAChE;YAED,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;;;AOtGoC;AACQ;AAE7C,MAAM,iBAAQ;IAEV,YAAY,IAAU;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,0CAA0C;IAE1C,IAAI,UAAU;QACV,OAAO,yBAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,iBAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,MAAY;QACrB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;QACxB,OAAO,OAAO,IAAI,IAAI,EAAE;YACpB,IAAI,OAAO,IAAI,MAAM;gBACjB,OAAO,IAAI,CAAC;YAChB,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;SAChC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,SAAiB;QACtB,IAAI,WAAW,IAAI,IAAI,CAAC,IAAI;YACxB,OAAQ,IAAI,CAAC,IAAoB,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACpE,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,IAAI,WAAW;QAEX,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAU;YAEzB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACtC,MAAM,IAAI,iBAAQ,CAAC,KAAK,CAAC,CAAC;gBAC1B,KAAK,MAAM,UAAU,IAAI,QAAQ,CAAC,KAAK,CAAC;oBACpC,MAAM,UAAU,CAAC;aACxB;YAAA,CAAC;QACN,CAAC;QAED,OAAO,yBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,0CAA0C;IAE1C,IAAI,iBAAiB;QAEjB,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAU;YAEzB,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,OAAO,OAAO,IAAI,IAAI,EAAE;gBACpB,MAAM,IAAI,iBAAQ,CAAC,OAAO,CAAC,CAAC;gBAC5B,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;aAChC;QACL,CAAC;QAED,OAAO,yBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrC,CAAC;IAED,0CAA0C;IAE1C,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAO;CACd;AAED,0CAA0C;AAEnC,SAAS,sBAAa,CAAC,GAAgB,EAAE,SAAiB;IAC7D,OAAoB,iBAAQ,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;AAChH,CAAC;AAED,0CAA0C;AAEnC,SAAS,iBAAQ,CAAC,GAAS;IAC9B,OAAO,IAAI,iBAAQ,CAAC,GAAG,CAAC,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAc,CAAC,OAAoB,EAAE,MAAmB;IAEpE,IAAI,UAAU,GAAG,OAAO,CAAC;IAEzB,OAAO,UAAU,EAAE;QACf,IAAI,UAAU,IAAI,MAAM;YACpB,OAAO,IAAI,CAAC;QAChB,UAAU,GAAG,UAAU,CAAC,aAAa,CAAC;KACzC;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAc,CAAC,OAAe,KAAK;IAC/C,OAAO,IAAI,EAAE;QACT,MAAM,KAAK,GAAG,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC;YAC/B,OAAO,KAAK,CAAC;KACpB;AACL,CAAC;AAED,0CAA0C;AAEnC,SAAS,0BAAW,CAAC,OAAgB,EAAE,SAAiB;IAC3D,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC;QACrC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AAC5C,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAQ,CAAC,OAAgB,EAAE,SAAiB;IACxD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC;QACtC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACzC,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAa;IAEzB,OAAO,CAAC,cAAc,IAAI,MAAM,CAAC;QACzB,CAAC,SAAS,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;AAC3C,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAa;IACzB,OAAO,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC;AACnC,CAAC;AAED,0CAA0C;AAEnC,KAAK,UAAU,iBAAQ,CAAC,KAAa;IACxC,IAAI,SAAS,CAAC,WAAW,CAAC;QACtB,MAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAC1C;QACD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACjD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACjC,KAAK,CAAC,KAAK,GAAG,KAAK;QACnB,KAAK,CAAC,MAAM,EAAE,CAAC;QACf,iDAAiD;QACjD,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC7B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACpC;AACL,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAe,CAAC,OAAoB;IAEhD,IAAI,CAAC,OAAO;QACR,OAAO,IAAI,CAAC;IAEhB,IAAI,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY;QAC3C,OAAO,OAAO,CAAC;IAEnB,OAAO,wBAAe,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AAClD,CAAC;AAED,0CAA0C;AAEnC,SAAS,2BAAkB,CAAC,OAAoB;IAEnD,MAAM,YAAY,GAAG,wBAAe,CAAC,OAAO,CAAC,CAAC;IAC9C,IAAI,CAAC,YAAY;QACb,OAAO,IAAI,CAAC;IAEhB,MAAM,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC;IACzC,MAAM,YAAY,GAAG,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC;IAE3D,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC;IAClC,MAAM,UAAU,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC;IAElD,OAAO,OAAO,GAAG,YAAY,IAAI,UAAU,GAAG,SAAS,CAAC;AAC5D,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAa,CAAC,OAAoB,EAAE,MAAM,GAAG,IAAI;IAE7D,MAAM,SAAS,GAAG,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC;IACrD,MAAM,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;IAExC,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAI,GAAG,GAAG,CAAC,CAAC;IAEZ,KAAK,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAgB,CAAC,CAAC,YAAY;QAC1E,GAAG,IAAI,CAAC,CAAC,SAAS,CAAC;IAEvB,GAAG,GAAG,OAAO,CAAC,YAAY,CAAC;IAE3B,IAAI,MAAM,IAAI,GAAG,GAAG,GAAG,GAAG,SAAS,GAAG,YAAY,IAAI,GAAG,GAAG,SAAS;QACjE,QAAQ,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAErF,OAAO,GAAG,GAAG,QAAQ,CAAC,eAAe,CAAC,SAAS,CAAC;AAEpD,CAAC;;;ACpND,MAAM,gBAAK,GAAwB,EAAE,CAAC;AAE/B,SAAS,qBAAU,CAAC,IAAY;IAEnC,IAAI,CAAC,IAAI;QACL,IAAI,GAAG,MAAM,CAAC;IAElB,IAAI,gBAAK,CAAC,IAAI,CAAC,KAAK,SAAS;QACzB,gBAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAEpB,gBAAK,CAAC,IAAI,CAAC,EAAE,CAAC;IAEd,IAAI,gBAAK,CAAC,IAAI,CAAC,IAAI,CAAC;QAChB,OAAO,IAAI,CAAC;IAEhB,OAAO,IAAI,GAAG,gBAAK,CAAC,IAAI,CAAC,CAAC;AAC9B,CAAC;;;;;;;AFlBsC;AACK;AAErC,SAAS,sBAAW,CAAI,CAAM,EAAE,CAAM;IAEzC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QACtC,OAAO,KAAK,CAAC;IAEjB,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM;QACpB,OAAO,KAAK,CAAC;IAEjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC/B,IAAI,CAAC,kBAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,OAAO,KAAK,CAAC;KACpB;IAED,OAAO,IAAI,CAAC;AAChB,CAAC;AAED,0CAA0C;AAEnC,KAAK,UAAU,uBAAY,CAAI,KAAU,EAAE,SAAiB,EAAE,MAAwC;IAEzG,IAAI,KAAK,GAAG,CAAC,CAAC;IAEd,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;QAEtB,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACpB,IAAI,KAAK,GAAG,SAAS,IAAI,CAAC;YACtB,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QACxB,KAAK,EAAE,CAAC;KACX;AACL,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAW,CAAI,GAAG,IAAW;IAEzC,MAAM,MAAM,GAAQ,EAAE,CAAC;IACvB,KAAK,MAAM,IAAI,IAAI,IAAI,EAAE;QACrB,IAAI,CAAC,IAAI;YACL,SAAS;QACb,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;KACxB;IACD,OAAO,MAAM,CAAC;AAClB,CAAC;;;AD7CkF;AAExC;AAEpC,SAAS,mBAAO,CAAC,KAAU;IAC9B,OAAO,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;AAChG,CAAC;AAED,0CAA0C;AAEnC,SAAS,kBAAM,CAAC,MAAW,EAAE,MAAW;IAE3C,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC;QAC9C,OAAO,sBAAW,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAEvC,OAAO,MAAM,IAAI,MAAM,CAAC;AAC5B,CAAC;AAED,0CAA0C;AAEnC,SAAS,0BAAc,CAAO,QAAgB,EAAE,GAAG,IAAW;IAEjE,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAElC,IAAI,OAAO,GAAQ,MAAM,CAAC;IAC1B,KAAK,MAAM,IAAI,IAAI,KAAK;QACpB,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;IAE5B,OAAO,IAAI,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;AAChC,CAAC;AAED,0CAA0C;AAEnC,SAAS,mBAAO,CAAC,GAAW,EAAE,QAAgB;IACjD,OAAO,CAAC,QAAQ,IAAI,GAAG,CAAC,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAY,CAAI,GAAQ,EAAE,IAAa;IAEnD,IAAI,CAAC,GAAG;QACJ,OAAO;IACX,IAAI,OAAO,GAAG,mBAAO,CAAC,GAAG,CAAC,CAAC;IAC3B,OAAO,OAAO,IAAI,IAAI,EAAE;QACpB,IAAI,OAAO,IAAI,IAAI;YACf,OAAO,IAAI,CAAC;QAChB,OAAO,GAAG,uBAAW,CAAC,OAAO,CAAC,CAAC;KAClC;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,0CAA0C;AAEnC,SAAS,+BAAmB,CAAI,GAAW,EAAE,QAAgB,EAAE,KAAQ;IAC1E,MAAM,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC5D,IAAI,CAAC,IAAI,EAAE;QACP,0BAAc,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;QACrC,OAAO,KAAK,CAAC;KAChB;IACD,OAAO,eAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;AAC9B,CAAC;AAED,0CAA0C;AAEnC,SAAS,0BAAc,CAAC,GAAW,EAAE,QAAgB,EAAE,KAAU;IACpE,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QAC9B,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE;YACjC,QAAQ,EAAE,IAAI;YACd,UAAU,EAAE,KAAK;YACjB,KAAK,EAAE,KAAK;SACf,CAAC,CAAC;KACN;SACI;QACD,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE;YACjC,KAAK,EAAE,KAAK;SACf,CAAC,CAAC;KACN;AACL,CAAC;AAED,0CAA0C;AAEnC,SAAS,eAAG,CAAI,GAAW,EAAE,QAAgB,EAAE,QAAY;IAE9D,IAAI,CAAC,GAAG;QACJ,OAAO,QAAQ,CAAC;IACpB,MAAM,KAAK,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC5B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI;QACrC,OAAO,QAAQ,CAAC;IACpB,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,0CAA0C;AAEnC,SAAS,eAAG,CAAC,GAAW,EAAE,QAAgB,EAAE,KAAU;IAEzD,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QAC9B,MAAM,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI;YACL,0BAAc,CAAC,GAAG,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;;YAErC,GAAG,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;KAC7B;;QAEG,GAAG,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;AAC9B,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAW,CAAC,GAAuB,EAAE,IAAY;IAE7D,IAAI,sCAAQ,CAAC,GAAG,CAAC;QACb,eAAG,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;;QAE5B,eAAG,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;AAC3D,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAW,CAAC,GAAQ;IAEhC,IAAI,CAAC,GAAG;QACJ,OAAO,SAAS,CAAC;IAErB,IAAI,IAAI,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;IAE5B,IAAI,CAAC,IAAI,EAAE;QACP,IAAI,GAAG,OAAO,GAAG,CAAC;QAElB,IAAI,IAAI,IAAI,UAAU;YAClB,OAAO,2BAAe,CAAC,GAAG,CAAC,CAAC;QAEhC,IAAI,IAAI,IAAI,QAAQ,EAAE;YAElB,MAAM,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC;YAClC,IAAI,SAAS;gBACT,OAAO,uBAAW,CAAC,SAAS,CAAC,CAAC;SACrC;KACJ;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAQM,SAAS,uBAAW,CAAC,QAA4B;IAEpD,IAAI,KAAU,CAAC;IAEf,IAAI,wCAAU,CAAC,QAAQ,CAAC;QACpB,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC;;QAE3B,KAAK,GAAG,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IAE5C,OAAO,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC;AACpD,CAAC;AAQM,SAAS,mBAAO,CAAO,UAA2B;IAErD,IAAI,sCAAQ,CAAC,UAAU,CAAC,EAAE;QACtB,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACjB,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;YACtB,IAAI,CAAC,MAAM;gBACP,OAAO,IAAI,CAAC;QACpB,CAAC,CAAC,CAAC;QACH,OAAY,MAAM,CAAC;KACtB;IAED,OAAQ,UAAqB,CAAC,WAAyB,CAAC;AAC5D,CAAC;AAED,0CAA0C;AAEnC,SAAS,2BAAe,CAAC,IAAc;IAE1C,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;IACxB,IAAI,CAAC,OAAO,EAAE;QACV,MAAM,aAAa,GAAG,wBAAwB,CAAC;QAC/C,MAAM,OAAO,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QACtD,OAAO,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;KACtE;IACD,OAAO,OAAO,CAAC;AACnB,CAAC;AAED,0CAA0C;AAEnC,SAAS,iBAAK,CAAO,GAAS;IAEjC,IAAI,WAAW,CAAC,GAAG,CAAC;QAChB,OAAO,GAAG,CAAC,KAAK,EAAE,CAAC;IAEvB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;AAC3C,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAY,CAAC,IAAc,EAAE,IAAY;IACrD,eAAG,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;AACjC,CAAC;;;AMhNqC;AAE/B,MAAM,iCAAgB;IAEjB,SAAS,CAAoC;IAErD,0CAA0C;IAE1C,YAAY,MAAoB,EAAE,IAAY;QAE1C,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;QAElB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,0CAA0C;IAE1C,GAAG;QAEC,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QAEb,wBAAwB;IAC5B,CAAC;IAED,0CAA0C;IAE1C,aAAa;QAET,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAEzB,iBAAU,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,CACjC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,OAAwC;QAC9C,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,OAAwC;QAChD,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,OAAO;QACX,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAEjC,IAAI,CAAS;IAEb,UAAU,GAAG,IAAI,CAAC;CAC9B;;;ACjEqC;AAE/B,MAAM,gDAAkB;IAEnB,SAAS,CAAoC;IAC7C,WAAW,CAAqB;IAExC,0CAA0C;IAE1C,YAAY,IAAwB,EAAE,IAAY;QAC9C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,0CAA0C;IAE1C,GAAG;QACC,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG;YACpB,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QAEb,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAE5B,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG;YACpB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;YAE5B,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QAEnC,IAAI,QAAQ,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,EAAE;YACrC,iBAAU,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,CACjC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;SACjC;IACL,CAAC;IAED,0CAA0C;IAE1C,aAAa;QAET,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAEzB,iBAAU,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,CACjC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,OAAwC;QAC9C,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,OAAwC;QAChD,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,OAAO;QACX,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAEjC,IAAI,CAAS;CACzB;;;AC1EqF;AAIhC;AACI;AAa1D,0CAA0C;AAEnC,SAAS,kBAAO,CAAS,IAAY,EAAE,KAAc,EAAE,SAAqD;IAE/G,MAAM,MAAM,GAAG,IAAI,kBAAkB,CAAS;QAC1C,KAAK,EAAE,KAAK;KACf,EAAE,IAAI,CAAC,CAAC;IAET,IAAI,SAAS;QACT,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IAChC,OAAO,MAAM,CAAC;AAClB,CAAC;AAED,0CAA0C;AAEnC,IAAU,gCAAU,CAgJ1B;AAhJD,WAAiB,UAAU;IAEvB,SAAgB,SAAS,CAAiF,GAAS,EAAE,QAAc,EAAE,OAAiC,EAAE,WAAsC;QAE1M,IAAI,QAAQ,CAAC;QAEb,OAAO;YAEH,GAAG,EAAE,GAAG,EAAE;gBACN,IAAI,QAAQ,IAAI,SAAS;oBACrB,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAW,CAAC,CAAC;gBAChD,OAAO,QAAQ,CAAC;YACpB,CAAC;YAED,GAAG,EAAE,KAAK,CAAC,EAAE;gBACT,QAAQ,GAAG,KAAK,CAAC;gBACjB,IAAI,WAAW;oBACX,GAAG,CAAC,QAAQ,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;YAC3C,CAAC;YAED,IAAI,EAAU,QAAQ;SACzB,CAAC;IACN,CAAC;IApBe,oBAAS,YAoBxB;IAED,0CAA0C;IAE1C,SAAgB,MAAM,CAAwF,GAAS,EAAE,QAAc,EAAE,QAAsC;QAE3K,IAAI,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,EAAE,mBAAmB,EAAE,uBAAW,CAAC,GAAG,CAAC,CAAC,CAAC;YACnE,IAAI,GAAG,EAAE,CAAC;SACb;QAED,IAAI,CAAC,QAAQ;YACT,QAAQ,GAAG,IAAI,gDAAkB,CAAC,IAAI,EAAU,QAAQ,CAAC,CAAC;QAE9D,MAAM,KAAK,GAAG,+BAAmB,CAAM,GAAG,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;QAC1D,KAAK,CAAC,QAAe,CAAC,GAAG,QAAQ,CAAC;QAElC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE;YAEjC,GAAG,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,GAAG,EAAE;YAEzB,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC;SAC5C,CAAC,CAAC;QAEH,OAAO,QAAQ,CAAC;IACpB,CAAC;IAtBe,iBAAM,SAsBrB;IAED,0CAA0C;IAE1C,SAAgB,SAAS,CAAO,GAAS;QAErC,MAAM,KAAK,GAAG,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;QAE9C,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAErB,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG;gBACxC,OAAO;YAEX,MAAM,QAAQ,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YAEhE,IAAI,QAAQ,IAAI,CAAC,QAAQ,CAAC,QAAQ;gBAC9B,OAAO;YAEX,MAAM,CAAC,GAAG,EAAO,QAAQ,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC;IACf,CAAC;IAlBe,oBAAS,YAkBxB;IAED,0CAA0C;IAE1C,SAAgB,GAAG,CAA6E,GAAS,EAAE,QAAc;QAErH,IAAI,mBAAO,CAAC,GAAG,EAAE,QAAQ,CAAC,EAAE;YACxB,MAAM,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,IAAI;gBACJ,OAAO,IAAI,CAAC;SACnB;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IARe,cAAG,MAQlB;IAED,0CAA0C;IAE1C,SAAgB,WAAW,CAAsF,GAAS,EAAE,QAAc,EAAE,QAAsC;QAE9K,MAAM,IAAI,GAAG,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAChC,IAAI,IAAI;YACJ,OAAoC,IAAI,CAAC;QAC7C,OAAO,MAAM,CAAC,GAAG,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC3C,CAAC;IANe,sBAAW,cAM1B;IAED,0CAA0C;IAE1C,SAAgB,UAAU,CAAC,GAAQ;QAE/B,OAAO,CAAC,GAAG,IAAI,OAAO,GAAG,IAAI,QAAQ,IAAI,OAAO,GAAG,CAAC,KAAK,CAAC,IAAI,UAAU,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,OAAO,GAAG,CAAC,KAAK,CAAC,IAAI,UAAU,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;IACrK,CAAC;IAHe,qBAAU,aAGzB;IAED,0CAA0C;IAE1C,SAAgB,oBAAoB,CAAC,GAAQ;QACzC,yBAAyB;QACzB,OAAO,GAAG,YAAY,gDAAkB,IAAI,GAAG,YAAY,iCAAgB,CAAC;IAChF,CAAC;IAHe,+BAAoB,uBAGnC;IAED,0CAA0C;IAE1C,SAAgB,IAAI,CAAsB,IAAgC,EAAE,GAAmB,EAAE,SAAuC;QAEpI,IAAI,KAAW,CAAC;QAEhB,IAAI,UAAU,CAAC,GAAG,CAAC,EAAE;YAEjB,IAAI,oBAAoB,CAAC,GAAG,CAAC,EAAE;gBAC3B,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAClB,IAAI,SAAS;wBACT,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,KAAa,CAAC,CAAC,CAAC;;wBAE7C,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACxB,CAAC,CAAC,CAAC;aACN;YAED,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBACnB,IAAI,SAAS;oBACR,GAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,KAAc,CAAC,CAAC,CAAC;;oBAEnE,GAAuB,CAAC,GAAG,CAAC,KAAwB,CAAC,CAAC;YAC/D,CAAC,CAAC,CAAC;YAEH,KAAK,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;SACrB;;YAEG,KAAK,GAAS,GAAG,CAAC;QAEtB,IAAI,SAAS;YACT,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;;YAErC,IAAI,CAAC,GAAG,CAAC,KAAyB,CAAC,CAAC;QAExC,OAAO,SAAS,CAAC;IACrB,CAAC;IAjCe,eAAI,OAiCnB;AACL,CAAC,EAhJgB,gCAAU,KAAV,gCAAU,QAgJ1B;;;ACjL4D;AAGnB;AAuC1C,0CAA0C;AAEnC,MAAM,aAAM;IAEP,SAAS,GAAuB,EAAE,CAAC;IACnC,aAAa,GAAqB,EAAE,CAAC;IACrC,WAAW,GAAkB,EAAE,CAAC;IAExC,0CAA0C;IAE1C,YAAY,KAAc;QACtB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,0CAA0C;IAEhC,QAAQ,CAAC,MAAsB;QAErC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAEhC,iBAAiB,CAAC,MAAmB;QAE3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,0CAA0C;IAEhC,mBAAmB,CAAC,MAAmB;QAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAEhC,YAAY,CAAS,KAAgC;QAC3D,IAAI,OAAO,KAAK,IAAI,UAAU;YAC1B,OAAQ,KAAiC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1D,OAAe,KAAK,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAS,KAAgC,EAAE,MAA4F;QAEvI,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;YAE5B,MAAM,OAAO,GAA6B;gBACtC,KAAK,EAA2B,KAAK;gBACrC,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,EAAE;gBACjB,SAAS,EAAE,SAAS;aACvB,CAAC;YAEF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAE7B,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,QAAQ,EAAE,EAAE;gBACzD,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;gBACvC,OAAO,IAAI,CAAC;YAChB,CAAC,CAAC,CAAC,CAAC;YAEJ,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE5C,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAE5C,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;SACjC;;YAEG,MAAM,CAAC,KAAe,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAC,OAAyB,EAAE,UAAmB;QAEhE,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAEhC,IAAI,8CAAgB,CAAC,GAAG,CAAC,MAAM,CAAC;gBAC5B,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,OAAsC,CAAC,CAAC;;gBAEnE,GAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,OAAuC,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;QAEH,IAAI,UAAU,IAAI,OAAO,CAAC,SAAS,EAAE;YACjC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACpD,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;SAC5B;QAED,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAEhC,SAAS,CAAC,GAAG,EAAE,QAAgB,EAAE,OAAyB;QAEhE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACnD,MAAM,GAAG,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,QAAQ;gBAClD,OAAO;SACd;QAED,IAAI,8CAAgB,CAAC,GAAG,CAAC,EAAE;YAEvB,MAAM,OAAO,GAAgC;gBACzC,SAAS,EAAE,GAAG,EAAE;oBAEZ,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAE5C,IAAI,SAAS,IAAI,OAAO,CAAC,SAAS;wBAC9B,OAAO;oBAEX,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;oBAEnD,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;gBAClC,CAAC;aACJ,CAAC;YAEF,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAEvB,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;gBACvB,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,OAAO;aACnB,CAAC,CAAC;SACN;aACI;YAED,MAAM,QAAQ,GAAG,MAAM,CAAC,wBAAwB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YAEhE,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACpD,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,EAAE,kCAAkC,CAAC,CAAC;gBAC7F,OAAO;aACV;YAED,MAAM,IAAI,GAAG,4CAAsB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YAEnD,MAAM,OAAO,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;gBAEhC,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAE5C,IAAI,SAAS,IAAI,OAAO,CAAC,SAAS;oBAC9B,OAAO;gBAEX,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAEjC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,QAAQ,EAAE,EAAE;oBACzD,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;oBACvC,OAAO,IAAI,CAAC;gBAChB,CAAC,CAAC,CAAC,CAAC;gBAEJ,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAEnD,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;YAClC,CAAC,CAAC;YAEF,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAExB,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC;gBACvB,MAAM,EAAE,GAAG;gBACX,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,OAAO;aACnB,CAAC,CAAC;SACN;IACL,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAS,KAAgC;QACjE,IAAI,OAAO,KAAK,IAAI,UAAU;YAC1B,OAAO,IAAI,CAAC;QAEhB,IAAI,QAAyB,CAAC;QAC7B,KAAiC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,QAAQ,EAAE,EAAE;YAC9E,QAAQ,GAAG;gBACP,GAAG,EAAE,GAAG;gBACR,QAAQ,EAAE,QAAQ;aACrB;YACD,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,QAAQ,IAAI,QAAQ,CAAC,GAAG;YACxB,OAAO,4CAAsB,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACvE,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAO,GAAS,EAAE,MAA+C;QAUlF,IAAI,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,QAAQ;YAChC,OAAO,GAAG,CAAC;QAEf,MAAM,QAAQ,GAAa,EAAE,CAAC;QAE9B,MAAM,KAAK,GAAG,EAAE,CAAC;QAEjB,IAAI,8CAAgB,CAAC,GAAG,CAAC,EAAE;YAEvB,MAAM,SAAS,GAAe,KAAK,CAAC;YAEpC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAEvB,SAAS,CAAC,aAAa,GAAG,EAAE,CAAC;YAE7B,SAAS,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,EAAE;gBAEtB,IAAI,CAAC,CAAC,KAAK,IAAI,SAAS,CAAC,aAAa,CAAC,EAAE;oBAErC,IAAI,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;wBAC7B,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,CAAC;;wBAE1E,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;iBACvD;gBAED,OAAO,SAAS,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,CAAC;SACJ;aACI;YACD,KAAK,MAAM,QAAQ,IAAI,GAAG;gBACtB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC/B;QAED,KAAK,MAAM,QAAQ,IAAI,QAAQ,EAAE;YAE7B,IAAI,UAAU,CAAC;YACf,IAAI,MAAM,GAAG,KAAK,CAAC;YACnB,IAAI,YAAY,CAAC;YAEjB,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE;gBACnC,GAAG,EAAE,GAAG,EAAE;oBACN,IAAI,CAAC,MAAM,EAAE;wBAET,IAAI,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC;4BACrB,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,CAAC;;4BAErD,UAAU,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAE/B,MAAM,GAAG,IAAI,CAAC;qBACjB;oBACD,OAAO,UAAU,CAAC;gBACtB,CAAC;gBACD,GAAG,EAAE,KAAK,CAAC,EAAE;oBAET,IAAI,YAAY,IAAI,KAAK;wBACrB,OAAO;oBAEX,IAAI,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC;wBACrB,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;;wBAE7C,UAAU,GAAG,KAAK,CAAC;oBAEvB,YAAY,GAAG,KAAK,CAAC;oBAErB,MAAM,GAAG,IAAI,CAAC;gBAClB,CAAC;aACJ,CAAC,CAAC;SACN;QACD,OAAa,KAAK,CAAC;IACvB,CAAC;IAGD,0CAA0C;IAEhC,aAAa,CAAC,UAAmB;QAEvC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;QAE3C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAChC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;QAEtC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAC9B,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;QAEtC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,KAAa;QAErB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAEnB,iBAAU,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE;YACjC,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,OAAO,CAAC,SAAS,IAAI,KAAK;gBAC1B,OAAO;YACX,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;YAC9C,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,iBAAU,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,EAAE,CACpC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAS;CACjB;AAED,0CAA0C;AAEnC,SAAS,iBAAU,CAAI,KAAU,EAAE,MAAyB;IAE/D,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;QAC3B,OAAO;IAEX,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;QACtC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC;AAED,0CAA0C;AAEnC,KAAK,UAAU,sBAAe,CAAI,KAAU,EAAE,MAAkC;IAEnF,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;QAC3B,OAAO;IAEX,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;QACtC,MAAM,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC;;;ACtX2G;AAG1E;AACoB;AACe;AAE9D,MAAM,wCAAc;IAEf,eAAe,CAAe;IAEtC,IAAI,CAAmC,QAAc;QACjD,OAAO,4CAAsB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAClD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,SAAS,CAAI,KAAkB;QAClC,IAAI,2CAAqB,CAAC,KAAK,CAAC;YAC5B,OAAO,KAAK,CAAC,GAAG,EAAE,CAAC;QACvB,OAAY,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAkH,QAAc,EAAE,MAAe,EAAE,SAAwC,EAAE,cAA+C;QAElP,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAiB,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;IAChI,CAAC;IAED,0CAA0C;IAG1C,gBAAgB,CAA4D,QAAc,EAAE,MAAe,EAAE,aAAkD,EAAE,cAAgD;QAE7M,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,IAAI,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAM,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;IAC/H,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAA8D,QAAc,EAAE,OAAgC;QAElH,OAAO,uCAAiB,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,EAAU,QAAQ,CAAC,CAAC,CAAC;IAC7F,CAAC;IAED,0CAA0C;IAE1C,cAAc,CAAS,OAAgC,EAAE,IAAa;QAElE,IAAI,CAAC,IAAI,CAAC,eAAe;YACrB,IAAI,CAAC,eAAe,GAAG,IAAI,aAAM,CAAC,IAAI,CAAC,CAAC;QAE5C,MAAM,IAAI,GAAG,IAAI,iCAAgB,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAE7D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;QAE/D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAmE,QAAc,EAAE,KAAqB,EAAE,SAAwC,EAAE,cAA+C;QAEnM,MAAM,IAAI,GAAG,4CAAsB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAEpD,IAAI,cAAc;YACd,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;QAEnC,IAAI,KAAK,KAAK,SAAS;YACnB,qCAAe,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAmC,QAAc,EAAE,KAA4B,EAAE,aAAkD,EAAE,cAAgD;QAE3L,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE;YAC9B,SAAS,EAAE,CAAC,CAAC,EAAE,CAAM,2DAAsB,CAAC,CAAC,EAAO,aAAa,CAAC;YAClE,WAAW,EAAE,CAAC,CAAC,EAAE,CAAM,CAAC;SAC3B,EAAO,cAAc,CAAC,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,KAAyB;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;;;AC1ED,IAAY,oCAGX;AAHD,WAAY,YAAY;IACpB,+CAAI;IACJ,mDAAM;AACV,CAAC,EAHW,oCAAY,KAAZ,oCAAY,QAGvB;;;ACjBD,gGAAgG;AAEhG;;gCAEgC;AAEU;AACN;AAC0B;AACwF;AAE/I,MAAM,0BAAW;IAEpB,YAAY,OAAuB,EAAE,OAA8B;QAE/D,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QACvC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAC/B,CAAC;IAED,iCAAiC;IAEjC,QAAQ;QACJ,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YACvB,OAAO,EAAE,IAAI;YACb,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;SACtC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,SAAS;QACL,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YACvB,OAAO,EAAE,KAAK;SACjB,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,EAAE,CAAS;IACX,KAAK,CAAS;IACd,WAAW,CAAS;IACpB,IAAI,CAAS;IACb,KAAK,CAAS;IACd,KAAK,CAAY;IAEjB,QAAQ,CAAY;IACpB,UAAU,CAAyB;IACnC,MAAM,CAAyB;IAC/B,QAAQ,CAAyB;CACpC;AAED;;iCAEiC;AAE1B,MAAM,6BAAe,SAAQ,8DAAc;IAEtC,MAAM,GAAkB,EAAE,CAAC;IAC3B,IAAI,CAAqB;IACzB,cAAc,CAAsC;IACpD,OAAO,CAAS;IAChB,cAAc,CAAU;IACxB,WAAW,CAAyB;IACpC,gBAAgB,CAAyB;IACzC,SAAS,CAAuB;IAExC,iCAAiC;IAEjC,YAAY,MAAc;QAEtB,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QAGtB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE;YACnD,IAAI,MAAM;gBACN,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;YAC7D,IAAI,MAAM;gBACN,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;YACtD,IAAI,CAAC,kBAAkB,EAAE;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,UAAU;QACN,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACd,MAAM,EAAE,aAAa;SACxB,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,SAAS,CAAC,OAA0B;QAEhC,IAAI,MAAM,GAAG,uDAAuD,CAAC;QAErE,IAAI,OAAO,CAAC,MAAM,EAAE;YAChB,MAAM,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC;YACzE,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAChE;QAED,MAAM,IAAI,GAAG,CAAC;QAEd,IAAI,OAAO,CAAC,IAAI;YACZ,MAAM,IAAI,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAEhF,IAAI,OAAO,CAAC,IAAI,EAAE;YACd,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACvB,MAAM,IAAI,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;gBAC9E,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;gBAC1C,IAAI,GAAG,CAAC,IAAI;oBACR,MAAM,IAAI,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAE3C,MAAM,IAAI,GAAG,CAAC;YAClB,CAAC,CAAC,CAAC;SACN;QAED,MAAM,IAAI,iBAAiB,GAAG,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE/D,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,iCAAiC;IAEjC,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,eAAe,CAAC,4BAA4B,CAAC,CAAC;QAEnD,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;YACxC,WAAW,EAAE,IAAI,CAAC,OAAO;YACzB,IAAI,EAAE,EAAE;YACR,mBAAmB,EAAE,KAAK;YAC1B,kBAAkB,EAAE,IAAI;YACxB,QAAQ,EAAE,IAAI;SACjB,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAExC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,iCAAiC;IAEjC,UAAU;IAEV,CAAC;IAED,iCAAiC;IAEjC,kBAAkB;IAElB,CAAC;IAED,iCAAiC;IAEjC,WAAW;QAEP,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;SAC1C;aACI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAE7B,MAAM,SAAS,GAA8B,EAAE,CAAC;YAEhD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CACvB,SAAS,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAElG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBACd,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC;aAC/D,CAAC;SACL;IACL,CAAC;IAED,iCAAiC;IAEjC,eAAe;QACX,IAAI,CAAC,SAAS,CAAC,WAAW;YACtB,OAAO;QACX,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;YAC3C,IAAI,CAAC,QAAQ,CAAC;gBACV,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,QAAQ;gBAC7B,SAAS,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS;aAClC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,YAAY,CAAC,iBAAyB,EAAE,QAAgB;QAEpD,MAAM,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC;QACjE,MAAM,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,YAAY,CAAC;QAEnE,MAAM,aAAa,GAAG,iBAAiB,GAAG,IAAI,CAAC;QAE/C,MAAM,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,kBAAkB,CAAC,CAAC;QAC3E,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,aAAa,GAAG,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAExI,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,iCAAiC;IAEjC,QAAQ,CAAC,QAAmB,EAAE,YAAqB;QAE/C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACd,MAAM,EAAE,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,CAAC;YAC1E,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS;SAC7F,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEzB,KAAK,CAAC,qBAAqB;QAE/B,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,MAAM,IAAI,CAAC,eAAe,CAAC,uBAAuB,CAAC,CAAC;YACpD,IAAI,CAAC,cAAc,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5E;QACD,OAAO,IAAI,CAAC,cAAc,CAAC;IAC/B,CAAC;IAED,iCAAiC;IAEjC,KAAK,CAAC,eAAe,CAAC,QAAmB;QAErC,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE9C,OAAO,IAAI,OAAO,CAAS,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YACpC,EAAE,CAAC,cAAc,CAAC;gBACd,QAAQ,EAAE,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,CAAC;gBAC5E,QAAQ,EAAE,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO;wBACd,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;;wBAEhC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB,CAAC;aACJ,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,KAAK,CAAC,gBAAgB,CAAC,OAAe;QAElC,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE9C,OAAO,IAAI,OAAO,CAAY,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YACvC,EAAE,CAAC,OAAO,CAAC;gBACP,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBAC7B,QAAQ,EAAE,CAAC,CAAC,EAAE;oBACV,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;wBACtC,GAAG,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;;wBAE9F,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB,CAAC;aACJ,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAiC;IAEjC,KAAK,CAAC,wBAAwB,CAAC,KAAc;QAEzC,IAAI,KAAK,IAAI,IAAI,CAAC,cAAc;YAC5B,OAAO;QAEX,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAE5B,IAAI,KAAK,EAAE;YACP,IAAI,MAAM,QAAQ,CAAC,iBAAiB,CAAC,WAAW,CAAC,SAAS,EAAE;gBACxD,IAAI,CAAC,kBAAkB,EAAE,CAAC;SACjC;QAED,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,iCAAiC;IAEvB,KAAK,CAAC,kBAAkB,CAAC,GAAyB;QAExD,IAAI,CAAC,GAAG;YACJ,GAAG,GAAG,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;QAElF,MAAM,QAAQ,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACxF,MAAM,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,EAAE,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAE9I,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEhC,MAAM,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;QAC1C,MAAM,SAAS,GAAG,UAAU,QAAQ,SAAS,CAAC;QAC9C,MAAM,WAAW,GAAG,GAAG,GAAG,EAAE,CAAC;QAC7B,MAAM,KAAK,GAAG,GAAG,GAAG,WAAW,CAAC;QAChC,MAAM,MAAM,GAAG,GAAG,GAAG,WAAW,CAAC;QAEjC,MAAM,OAAO,GAAG,yHAAyH,KAAK,aAAa,MAAM,+jBAA+jB,SAAS,6oCAA6oC,CAAC;QAEv3D,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;gBACpD,IAAI,EAAE,OAAO;gBACb,MAAM,EAAE,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,WAAW,CAAC;gBACpF,kBAAkB,EAAE,KAAK;gBACzB,SAAS,EAAE,KAAK;gBAChB,KAAK,EAAE,SAAS;aACnB,CAAC,CAAC;YACH,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YAExB,IAAI,CAAC,gBAAgB,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;gBACrD,SAAS,EAAE,WAAW;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAC7C;QAED,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,IAAI,CAAC,cAAc;YACnB,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,iCAAiC;IAEjC,QAAQ,CAAC,YAAqC;QAE1C,MAAM,KAAK,GAAkB,EAAE,CAAC;QAChC,MAAM,QAAQ,GAAgC,EAAE,CAAC;QAEjD,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAE3B,MAAM,IAAI,GAAG,IAAI,0BAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAE5C,IAAI,CAAC,MAAM,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACzH,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,KAAK,EAAE,OAAO,CAAC,KAAK;aACvB,CAAC,CAAC;YAEH,IAAI,OAAO,CAAC,KAAK,EAAE;gBAEf,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,IAAI,YAAY,CAAC,MAAM,EAAE;oBAE3C,MAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;oBAErP,IAAI,MAAM,EAAE,IAA0B,CAAC;oBAEvC,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE;wBACrB,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;wBACrH,IAAI,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;4BACrC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;wBAEjD,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;wBAC/G,IAAI,IAAI,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;4BACnC,IAAI,CAAC,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;qBAClD;oBAED,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;wBAC3C,WAAW,EAAE,MAAM;wBACnB,SAAS,EAAE,IAAI;wBACf,eAAe,EAAE,OAAO,CAAC,KAAK,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;qBAEtH,CAAC,CAAC;oBAEH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACxB;aACJ;YAED;;;;;;;;;cASE;YAEF,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE;gBACxD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC7B,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAE3B,IAAI,IAAI,CAAC,QAAQ;gBACb,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEvB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAErB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEjC,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,iCAAiC;IAEjC,KAAK;QACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;IAED,iCAAiC;IAEjC,WAAW,CAAC,EAAU;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,iCAAiC;IAEjC,UAAU,CAAC,IAAiB;QAExB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEvC,IAAI,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAEjC,IAAI,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjD,CAAC;IAED,iCAAiC;IAEzB,eAAe,CAAC,IAAY;QAChC,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAC5B,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACtD,CAAC;IAED,iCAAiC;IAEjC,IAAI,GAAG;QACH,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,OAAO,GAAY,KAAK,CAAC;IAEzB,YAAY,GAAgB,IAAI,CAAC;IAEjC,cAAc,GAAW,SAAS,CAAC;CACtC;;;AChcM,SAAS,uBAAa,CAAC,KAAU;IAEpC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,WAAW,IAAI,KAAK,IAAI,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,UAAU,CAAC;AAChH,CAAC;AAED,0CAA0C;AAEnC,SAAS,gBAAM,CAAC,KAAU;IAE7B,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,YAAY,IAAI,KAAK,IAAI,UAAU,IAAI,KAAK,CAAC;AAC7F,CAAC;AAED,0CAA0C;AAEnC,SAAS,qBAAW,CAAC,KAAU;IAElC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,CAAC,eAAe,CAAC,IAAI,UAAU,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;AAClI,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAY,CAAC,KAAU;IAEnC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,YAAY,IAAI,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC;AACnI,CAAC;AAED,0CAA0C;AAEnC,SAAS,8BAAoB,CAAC,KAAU;IAE3C,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,cAAc,IAAI,KAAK,CAAC;AACxE,CAAC;AAED,0CAA0C;AAEnC,SAAS,qBAAW,CAAC,KAAU;IAElC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,UAAU,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;AAC1H,CAAC;AAED,0CAA0C;AAEnC,SAAS,qBAAW,CAAC,KAAU;IAElC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,CAAC,eAAe,CAAC,IAAI,UAAU,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;AACjI,CAAC;AAED,0CAA0C;AAEnC,SAAS,yBAAe,CAAC,KAAU;IAEtC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,IAAI,KAAK,CAAC;AACjE,CAAC;AAED,0CAA0C;AAEnC,SAAS,oBAAU,CAAC,KAAU;IAEjC,OAAO,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,cAAc,IAAI,KAAK,IAAI,OAAO,KAAK,CAAC,YAAY,IAAI,UAAU,CAAC;AACnH,CAAC;AAED,0CAA0C;AAEnC,SAAS,sBAAY,CAAC,KAAU;IAEnC,OAAO,OAAO,KAAK,IAAI,QAAQ,IAAI,QAAQ,IAAI,KAAK,IAAI,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU;AAChG,CAAC;;;ACtED,0CAA0C;AAEnC,IAAI,qCAAe,GAAuC,EAAE;;;ACT/B;AACoB;AACI;AACS;AAIxB;AAQ7C,0CAA0C;AAEnC,MAAM,+BAAe,GAAsC,EAAE,CAAC;AAE9D,SAAS,8BAAc,CAAC,IAAY,EAAE,QAAwB;IACjE,+BAAe,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;AACrC,CAAC;AAED,MAAM,CAAC,kBAAkB,CAAC,GAAG,8BAAc,CAAC;AAE5C,0CAA0C;AAEnC,MAAM,0CAAoE,SAAQ,aAAc;IAEzF,WAAW,CAAO;IAClB,aAAa,CAAO;IACpB,YAAY,CAAO;IACnB,WAAW,GAAG,CAAC,CAAC;IAChB,YAAY,GAAG,CAAC,CAAC;IACjB,WAAW,GAAS,IAAI,CAAC;IAEnC,0CAA0C;IAE1C,YAAY,KAAa,EAAE,OAAiB,EAAE,MAA6B;QAEvE,KAAK,CAAC,KAAK,CAAC,CAAC;QAEb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,IAAI,8BAA8B;YAC9E,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,YAAY,CAAC;IAC9C,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAAc,KAAmB,EAAE,OAAc,EAAE,aAA8B,OAAO,EAAE,MAAe;QAE5H,MAAM,YAAY,GAAG,IAAI,0CAAe,CAAc,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAEjF,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAE9C,YAAY,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;QAEhD,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU,EAAE;YAC/B,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACtC,YAAY,CAAC,UAAU,GAAG,SAAS,CAAC;SACvC;QAED,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAa,YAAyC;QAEvE,YAAY,CAAC,GAAG,EAAE,CAAC;QAEnB,IAAI,YAAY,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO;YACpC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC,YAAY,CAAC;IACtD,CAAC;IAGD,0CAA0C;IAEhC,WAAW;QAEjB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;YAEnD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YAC/C,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC;SACvE;QACD,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAGD,0CAA0C;IAEhC,SAAS;QAEf,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE;YAE5C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC;YACxE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;IAGD,0CAA0C;IAE1C,KAAK,CAAC,OAAc,EAAE,UAA4B,EAAE,MAAe;QAE/D,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAEtG,IAAI,OAAO,EAAE;YAET,IAAI,UAAU,IAAI,OAAO,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,WAAW;oBACpB,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;;oBAEnD,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;aAChF;iBAEI,IAAI,UAAU,IAAI,QAAQ;gBAC3B,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;iBAE5D,IAAI,UAAU,IAAI,QAAQ;gBAC3B,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC/C;;YAEG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAEzC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;QAEvC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,GAAG;QAEC,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO;QAEX,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY;YAChD,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;;YAEpG,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAEnD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAEnC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAkB,KAAK;QAEzB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QAErB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO,CAAC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YACnD,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;QAED,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;QAE/B,OAAO,IAAI,EAAE;YAET,IAAI,UAAU,GAAG,IAAI,CAAC;YAEtB,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,IAAI,OAAO,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM;gBACzE,UAAU,GAAG,KAAK,CAAC;YAEvB,MAAM,IAAI,GAAG,OAAO,CAAC,eAAe,CAAC;YAErC,IAAI,UAAU,EAAE;gBAEZ,IAAI,UAAU;oBACV,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;aAC/C;YAED,IAAI,OAAO,IAAI,IAAI,CAAC,aAAa;gBAC7B,MAAM;YAEV,OAAO,GAAG,IAAI,CAAC;SAClB;QAED,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;;YAEG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;QAE3C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAEzB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,IAAU;QAElB,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,4BAA4B;YACjF,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aAC9B;YACD,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW;gBAC7B,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;;gBAE/E,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAEtD;QACD,gCAAgC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,EAAE;QACF,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAQ,QAA6D,EAAE,cAAsC;QAChH,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC1C,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK;YAC9B,IAAI,CAAC,YAAY,CAAC,QAAe,EAAE,cAAc,CAAC,CAAC;;YAEnD,IAAI,CAAC,WAAW,CAAC,QAAe,EAAE,cAAc,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAQ,QAAmD,EAAE,cAAsC;QAE1G,IAAI,aAAa,GAA6B,EAAE,CAAC;QAEjD,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;QAEnD,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAE3C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAEzB,MAAM,OAAO,GAAkC;YAE3C,OAAO,EAAE,GAAG,EAAE;gBACV,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC1C,aAAa,GAAG,EAAE,CAAC;YACvB,CAAC;YAED,aAAa,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE;gBAEnC,IAAI,MAAM,IAAI,SAAS,IAAI,MAAM,IAAI,OAAO;oBACxC,OAAO;gBAEX,aAAa,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACjC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YACnC,CAAC;YAED,UAAU,EAAE,CAAC,KAAa,EAAE,QAAgB,EAAE,EAAE;YAEhD,CAAC;YAED,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE;gBAExC,aAAa,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAC9C,CAAC;YAED,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE;gBAEjC,IAAI,MAAM,IAAI,SAAS;oBACnB,OAAO;gBAEX,IAAI,WAAmC,CAAC;gBAExC,IAAI,KAAK,IAAI,aAAa,CAAC,MAAM,EAAE;oBAC/B,IAAI,KAAK,IAAI,CAAC;wBACV,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;;wBAEjF,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;oBAEnH,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBACnC;qBACI;oBACD,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC9G,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;iBAC/C;gBAED,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;gBAE1B,QAAQ,CAAC,WAAW,CAAC,CAAC;gBAEtB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAClC,CAAC;SACJ,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;YAEvD,IAAI,OAAO;gBACP,OAAO;YAEX,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,QAAQ;gBACR,OAAO,CAAC,OAAO,EAAE,CAAC;YAEtB,IAAI,QAAQ;gBACR,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAElC,IAAI,KAAK,EAAE;gBAEP,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE;oBAChC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;aACnD;YAED,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,YAAY,CAAQ,QAAoC,EAAE,cAAsC;QAEtG,IAAI,aAAa,GAA6B,EAAE,CAAC;QACjD,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;QACnD,MAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAE3C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAEzB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;YAEvD,IAAI,OAAO;gBACP,OAAO;YAEX,IAAI,QAAQ,EAAE;gBAEV,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;gBACtC,aAAa,GAAG,EAAE,CAAC;aACtB;YAED,IAAI,KAAK,EAAE;gBAEP,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;gBAE3B,IAAI,CAAC,WAAW,EAAE,CAAC;gBAEnB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAEjB,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;oBAE7C,WAAW,CAAC,KAAK,GAAG,aAAa,CAAC,MAAM,CAAC;oBAEzC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBAEtB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;oBAE9B,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAEpC,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,SAAS,EAAE,CAAC;aACpB;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,EAAE,CAAC,SAAqC,EAAE,YAA+B,EAAE,aAAiC;QAExG,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEpD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAE5B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;YAExD,IAAI,OAAO;gBACP,OAAO;YAEX,IAAI,QAAQ;gBACR,YAAY,CAAC,KAAK,EAAE,CAAC;YAEzB,IAAI,KAAK;gBACL,YAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;iBACnC,IAAI,aAAa;gBAClB,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAE7C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAE/B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,KAAa;QAElC,IAAI,IAAI,CAAC,QAAQ;YACb,MAAM,mDAAmD,CAAC;QAE9D,IAAI,CAAC,KAAK,EAAE,CAAC;QAEb,KAAK,MAAM,IAAI,IAAI,KAAK;YACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAEhC,cAAc;QAEpB,MAAM,MAAM,GAAW,EAAE,CAAC;QAC1B,KAAK,MAAM,KAAK,IAAI,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;YAC/C,IAAI,KAAK,IAAI,IAAI,CAAC,aAAa,IAAI,KAAK,IAAI,IAAI,CAAC,WAAW;gBACxD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC1B;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAwC,OAAuC,EAAE,SAAkB,KAAK;QAE3G,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAc,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;QAElH,YAAY,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC/B,YAAY,CAAC,UAAU,GAAG,UAAU,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;YAEtD,IAAI,OAAO;gBACP,OAAO;YAEX,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,CAAC,YAAY,CAAC,QAAQ,IAAI,yBAAe,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,cAAc,KAAK,IAAI;gBAChG,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;iBAExC;gBAED,IAAI,QAAQ,IAAI,KAAK,IAAI,QAAQ,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ;oBACxD,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;qBAC/B;oBAED,IAAI,QAAQ;wBACR,YAAY,CAAC,KAAK,EAAE,CAAC;oBAEzB,IAAI,KAAK,EAAE;wBAEP,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBAEzC,IAAI,CAAC,QAAQ;4BACT,MAAM,YAAY,GAAG,KAAK,CAAC,QAAQ,GAAG,cAAc,CAAC;wBAEzD,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBAChC,QAAQ,CAAC,YAAY,CAAC,CAAC;qBAC1B;iBACJ;gBAED,IAAI,yBAAe,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,cAAc,KAAK,IAAI;oBACvD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;aAC3C;YAED,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAE/B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAS,KAAa;QAE7B,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,IAAI,QAAQ;YACpD,OAAO,IAAI,CAAC,YAAY,CAAS,MAAM,CAAC,CAAC;QAE7C,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,UAAU,IAAI,KAAK;YAC/C,OAAO,IAAI,CAAC,YAAY,CAAU,KAAa,CAAC,QAAQ,CAAC,CAAC;QAE9D,MAAM,qCAAqC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAS,cAAuC;QAExD,IAAI,OAAO,cAAc,IAAI,QAAQ,EAAE;YACnC,MAAM,MAAM,GAAG,+BAAe,CAAC,cAAc,CAAC,CAAC;YAC/C,IAAI,CAAC,MAAM;gBACP,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,cAAc,EAAE,aAAa,CAAC,CAAC;YAC9D,OAAO,MAAM,CAAC;SACjB;QAED,OAA0B,cAAc,CAAC;IAC7C,CAAC;IAQD,QAAQ,CAAC,cAAoC,EAAE,KAA8B;QAEzE,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,CAAC;QAEnD,IAAI,KAAK,EAAE;YAEP,MAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;YAE/G,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;gBAEpD,IAAI,OAAO;oBACP,OAAO;gBAEX,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gBAEhC,IAAI,CAAC,QAAQ;oBACT,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SAClC;;YAEG,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEnB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAC,MAA+B;QAChC,MAAM,CAAC,IAAI,CAAC,CAAC;QACb,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAA2C,IAAU,EAAE,SAAkB;QAE/E,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC;YACrC,MAAM,sEAAsE,CAAC;QAEjF,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QAEtI,MAAM,YAAY,GAAG,IAAI,oCAAoB,CAAuD,IAAI,CAAC,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;QAEpI,IAAI,YAAY,IAAI,IAAI,CAAC,OAAO;YAC5B,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAElD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAE5B,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,OAAO,YAAY,CAAC;IACxB,CAAC;IAQD,KAAK,CAA2C,IAAU,EAAE,mBAAyB,EAAE,SAAkB;QAErG,MAAM,YAAY,GAAG,IAAI,0CAAe,CAAsC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,IAAI,CAAC,CAAC;QAErI,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAE5B,IAAI,OAAO,mBAAmB,IAAI,UAAU;YACxC,mBAAmB,CAAC,YAAY,CAAC,CAAC;;YAElC,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAE9C,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAGvC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,SAAiB,EAAE,KAAwF;QAE3G,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE;YACjB,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,YAAY,OAAO,EAAE;oBACtB,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,QAAkB,CAAC,CAAC,CAAC;iBAChF;;oBAEG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,CAAW,CAAC,CAAC;aACzD;;gBAEG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,EAAE,CAAyC,KAAW,EAAE,OAA+D;QACnH,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;QACpE,OAAO,IAAI,CAAC;IAChB,CAAC;IAQD,KAAK,CAAC,IAAS,EAAE,SAAsC;QACnD,IAAI,SAAS,EAAE;YACX,MAAM,SAAS,GAAa,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACxD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;gBACzB,IAAI,KAAK;oBACL,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;;oBAEtD,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,CAAC,CAAC;SACL;;YAEG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;gBAChC,IAAI,QAAQ;oBACR,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAC/B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7C,IAAI,KAAK;oBACL,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAC5B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9C,CAAC,CAAC,CAAC;QACP,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,KAAiC;QAErC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE;YAEvD,IAAI,OAAO;gBACP,OAAO;YAEX,IAAI,QAAQ,EAAE;gBACV,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aAC3C;iBACI;gBACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACrC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;aAC5C;QACL,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAC,KAAyC;QAC1C,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAE3B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,GAAQ,CAAC,CAAC,CAAC;QAErD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAC,KAAgC;QACjC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,KAAiC;QAEnC,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAEjD,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CACxC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAC3C,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;SAC7B;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE;YACjB,IAAI,CAAC,IAAI,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO;gBAC3C,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,KAA0C;QAE5C,MAAM,OAAO,GAA0B,IAAI,CAAC,OAAO,CAAC;QAEpD,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAEjD,IAAI,SAAS,EAAE;YACX,IAAI,OAAO,CAAC,OAAO,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,UAAU,EAAE;gBAE7D,IAAI,OAAO,CAAC,IAAI,IAAI,UAAU,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO;oBACrD,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE;wBACpC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACnC,CAAC,CAAC,CAAC;qBACF;oBACD,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;wBACnC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE;wBACpC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;iBACN;aACJ;iBACI,IAAI,OAAO,CAAC,OAAO,IAAI,QAAQ,EAAE;gBAClC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE;oBACpC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACjC,CAAC,CAAC,CAAC;aACN;SAEJ;QACD,IAAI,OAAO,CAAC,OAAO,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,IAAI,UAAU,IAAI,OAAO,CAAC,OAAO,IAAI,QAAQ,EAAE;YAE5F,IAAI,OAAO,CAAC,IAAI,IAAI,UAAU,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO;gBACrD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAU,EAAE,EAAE,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;;gBAEtD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC;SACrF;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAyC,IAAU,EAAE,KAAmD;QACzG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,OAAO,IAAI,CAAC;IAChB,CAAC;IAQD,QAAQ,CAAC,WAAgB;QAErB,IAAI,OAAO,WAAW,IAAI,QAAQ;YAC9B,qCAAe,CAAS,WAAW,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;;YAEvE,WAAyB,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAEhE,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,KAAoD;QACvD,KAAK,MAAM,IAAI,IAAI,KAAK;YACpB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,KAAsE;QAE1E,KAAK,MAAM,IAAI,IAAI,KAAK;YACpB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QAEhC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QAEJ,QAAQ,CAAC;QACT,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAA2C,IAAU,EAAE,SAAkB;QAC5F,IAAI,CAAC,SAAS;YACV,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAC/B,IAAI,SAAS;YACT,OAAO,QAAQ,CAAC,eAAe,CAAC,SAAS,EAAE,IAAI,CAAgC,CAAC;QACpF,OAAO,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAEhC,YAAY,CAAC,GAAQ,EAAE,WAAmB,EAAE;QAElD,OAAO,SAAS,CAAC;QAEjB,IAAI,OAAO,GAAG,IAAI,UAAU;YACxB,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,QAAQ,CAAC,CAAC;QAExD,IAAI,OAAO,GAAG,IAAI,QAAQ;YACtB,OAAO,QAAQ,GAAG,GAAG,CAAC;QAE1B,IAAI,GAAG,IAAI,IAAI;YACX,OAAO,QAAQ,GAAG,MAAM,CAAC;QAE7B,OAAO,IAAI,CAAC,YAAY,CAAC,uBAAW,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;IACzD,CAAC;IAED,0CAA0C;IAE1C,SAAS,GAAW,IAAI,CAAC;IAEzB,OAAO,GAAa,IAAI,CAAC;IAEzB,MAAM,GAAyB,IAAI,CAAC;IAEpC,QAAQ,GAAY,KAAK,CAAC;IAE1B,UAAU,GAAuB,OAAO,CAAC;IAEzC,KAAK,GAAW,CAAC,CAAC;CACrB;AAGD,0CAA0C;AAE1C,MAAM,oCAAoG,SAAQ,0CAAiC;IAE/I,YAAY,KAAa,EAAE,OAAiB,EAAE,MAAgB;QAC1D,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QAEJ,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO;YACnC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACrC;YAED,IAAI,IAAI,CAAC,YAAY;gBACjB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;SACvD;QAED,OAAgB,IAAI,CAAC,MAAM,CAAC;IAChC,CAAC;CACJ;;;ACp1BgE;AAEvB;AACU;AAE7C,SAAS,eAAK,CAAmB,GAAM;IAC1C,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC1B,OAAO,GAAG,CAAC;AACf,CAAC;AAED,0CAA0C;AAEnC,SAAS,6BAAQ,CAAS,IAAiB,EAAE,QAAiC,EAAE,KAAa;IAEhG,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IAEpB,MAAM,OAAO,GAAG,IAAI,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAEjD,OAAO,CAAC,KAAK,EAAE,CAAC;IAEhB,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IAExC,OAAO,CAAC,GAAG,EAAE,CAAC;AAClB,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAa,CAAI,GAAM,EAAE,QAAiB;IACtD,IAAI,OAAO,GAAG,mBAAO,CAAC,GAAG,CAAC,CAAC;IAC3B,OAAO,IAAI,EAAE;QACT,MAAM,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAC1E,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC9C;YACD,OAAO;SACV;QACD,OAAO,GAAG,uBAAW,CAAC,OAAO,CAAC,CAAC;KAClC;AACL,CAAC;;;ACpCM,MAAM,6BAAc;IAEb,MAAM,GAAQ,EAAE,CAAC;IACjB,SAAS,CAA8B;IAEjD,0CAA0C;IAE1C,YAAY,KAAW,EAAE,gBAAsC;QAE3D,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAe,IAAQ;QACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACjG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,KAAkB;QACvB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;SACpG;QACD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAe,KAAa,EAAE,IAAQ;QACxC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACnF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,IAAO;QACV,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,SAAyB;QAChC,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9C,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACxB;IACL,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,UAAkB,EAAE,KAAa;QAEzC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QAEpD,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACxC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,UAAU,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YACpG,SAAS,GAAG,IAAI,CAAC;SACpB;QAED,IAAI,SAAS;YACT,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAE9D,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,KAAa;QAClB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACvF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC;YACvB,OAAO;QAEX,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;YAC5C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAEhG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,IAAO;QACZ,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,IAAO;QAEX,IAAI,IAAI,CAAC,gBAAgB,EAAE;YAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC3C,OAAO,CAAC,CAAC;aAChB;YACD,OAAO,CAAC,CAAC,CAAC;SACb;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,0CAA0C;IAE1C,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;QACd,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,MAAM;YAC1B,MAAM,IAAI,CAAC;IACnB,CAAC;IAED,0CAA0C;IAE1C,OAAO;QACH,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QACb,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa,EAAE,KAAQ;QACvB,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,OAAO,IAAI,KAAK;YAChB,OAAO;QACX,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC3F,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACrF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACzF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAC,KAAa,EAAE,QAAgB;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC3E,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,OAAkC;QACxC,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,OAAkC;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,OAAO;QACX,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,MAAyC;QAC7C,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,MAAM,IAAI,IAAI,IAAI,EAAE;YACrB,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACpB,KAAK,EAAE,CAAC;SACX;IAEL,CAAC;IAED,0CAA0C;IAEhC,MAAM,CAAC,MAAmD;QAEhE,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,OAAO;QACX,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAC7B,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAE,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC9B,CAAC;IAED,MAAM;QACF,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,gBAAgB,CAAsB;CACzC;AACD,0CAA0C;AAEnC,SAAS,gCAAM,CAAI,KAAW;IACjC,OAAO,IAAI,6BAAc,CAAC,KAAK,CAAC,CAAC;AACrC,CAAC;AAED,0CAA0C;AAEnC,SAAU,0CAAgB,CAAI,KAAW,EAAE,gBAAsC;IACpF,OAAO,IAAI,6BAAc,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;AACvD,CAAC;;;ACnPmC;AAYpC,0CAA0C;AAEnC,MAAe,qBAAU;IAE5B,WAAW,CAAC,KAAa,EAAE,YAAoB,EAAE;QAE7C,IAAI,CAAC,KAAK;YACN,KAAK,GAAG,EAAE,CAAC;QACf,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QAE5G,MAAM,MAAM,GAA2B,EAAE,CAAC;QAE1C,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEtC,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAC9F,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAC,OAAe,EAAE,IAAY;QAE/C,IAAI,CAAC,IAAI;YACL,OAAO,CAAC,CAAC;QAEb,IAAI,OAAO,IAAI,IAAI,QAAQ;YACvB,IAAI,GAAI,IAAe,CAAC,QAAQ,EAAE,CAAC;QAEvC,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAE1B,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAEpC,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,OAAO,CAAC,CAAC;QAEb,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;YAChH,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM;IACpD,CAAC;IAQD,0CAA0C;IAEhC,UAAU,CAAC,KAAa,EAAE,UAAoB;QAEpD,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC;YACtB,OAAO,CAAC,CAAC;QAEb,IAAI,SAAS,GAAW,CAAC,CAAC;QAE1B,KAAK,MAAM,KAAK,IAAI,UAAU,EAAE;YAE5B,IAAI,UAAU,GAAG,CAAC,CAAC;YAEnB,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;gBAC9C,UAAU,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,IAAI,CAAC,CAAC;YAElF,IAAI,UAAU,IAAI,CAAC;gBACf,OAAO,CAAC,CAAC;YAEb,SAAS,IAAI,UAAU,CAAC;SAC3B;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;;;ACjF8C;AACC;AACN;AACI;AACI;AAa3C,MAAM,oCAAe;IAEd,kBAAkB,CAAS;IAC3B,UAAU,GAAG,CAAC,CAAC;IACf,UAAU,CAAS;IACnB,WAAW,GAAG,IAAI,MAAM,EAAE,CAAC;IAC3B,YAAY,GAAG,IAAI,CAAC;IAE9B,YAAY,SAAyB;QAEjC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QAChD,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;QAElD,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,UAAU,CAAC,KAAoB;QAE3C,OAAO,CAAC,KAAK,CAAC,kBAAkB,EAAE,KAAK,EAAE,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1E,IAAI,IAAI,CAAC,UAAU;YACf,OAAO;QAEX,IAAI,KAAK;YACL,MAAM,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEtC,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QAEvB,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IAC3C,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,IAAI,IAAI,CAAC,UAAU;YACf,OAAO;QAEX,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO;YACpB,IAAI,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAC,QAAiB,KAAK;QAExC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;YAC3D,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;YACpB,OAAO;SACV;QAED,MAAM,KAAK,GAAI,GAAwB,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAExE,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAE1G,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAExB,IAAI,KAAK,EAAE;YAEP,MAAM,QAAQ,GAAkB;gBAC5B,SAAS,EAAE,IAAI,CAAC,UAAU;gBAC1B,KAAK,EAAE,IAAI,CAAC,YAAY;aAC3B,CAAC;YAEF,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;SAClD;;YAEG,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;QAElE,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAE1G,IAAI,CAAC,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;YAC1E,MAAM,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACvF,IAAI,QAAQ,CAAC,SAAS;gBAClB,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SAC3C;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU;QAEZ,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;QAElC,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAE9B,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QAE3C,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAEtB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QACb,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QAEb,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,EAAE;YAEvB,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YAE9B,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YAEzB,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YAEtB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;YAE/E,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;SAC1C;aACI;YACD,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;YACxB,MAAO,GAAwB,CAAC,SAAS,EAAE,CAAC;SAC/C;IAEL,CAAC;IAED,0CAA0C;IAE1C,cAAc;QACV,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,KAAa;QAEzB,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEtC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,gBAAgB;QAE5B,IAAI,IAAI,CAAC,UAAU;YACf,OAAO;QAEX,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI;YAEA,IAAI,QAAQ,GAAkB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;YAEnD,OAAO,QAAQ,IAAI,QAAQ,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,KAAK,GAAG,CAAC,EAAE;gBAE5E,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;gBAEzB,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;gBAEtB,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;gBAE/D,QAAQ,GAAkB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;aAClD;YAED,IAAI,QAAQ,GAAG,CAAC,CAAC;YAEjB,OAAO,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE;gBAE9B,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAEnC,MAAM,KAAK,GAAI,GAAwB,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACnE,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAEhG,QAAQ,GAAG;oBACP,SAAS,EAAE,IAAI,CAAC,UAAU;oBAC1B,KAAK,EAAE,QAAQ;iBAClB,CAAC;gBAEF,IAAI,QAAQ,IAAI,CAAC;oBACb,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;;oBAElD,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;gBAEnD,IAAI,QAAQ,IAAI,IAAI,CAAC,YAAY;oBAC7B,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;gBAE3B,QAAQ,EAAE,CAAC;aACd;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YAEvD,IAAI,KAAK,GAAG,CAAC;gBACT,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAChC;gBACO;YACJ,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAsB,IAAW,EAAE,OAA0B;QAExE,MAAM,QAAQ,GAAkB,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;QAErD,MAAM,MAAM,GAAG,QAAQ,IAAI,QAAQ,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,IAAI,QAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC;QAExG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAE7C,IAA4B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;QACrF,IAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;QAEpF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAEjB,IAAI,MAAM;YACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aACtB;YACD,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAE9B,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAE1B,OAAO,IAAI,CAAC;IAChB,CAAC;IAQD,IAAI,CAAsB,UAAgC;QACtD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAyB,CAAC,CAAC;IAC1D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAW;QAE7B,MAAM,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAE3C,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IACvC,CAAC;IAED,IAAI,eAAe,CAAC,KAAa;QAC7B,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,IAAK,GAAwB,CAAC,OAAO,CAAC;IACzE,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAiB;CAE7B;;;ACnTwE;AAER;AAWjE,8CAA8C;AAEvC,MAAM,oBAAK,SAAQ,wCAAc;IAEpC,YAAY,MAAoB;QAE5B,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,IAAI,CAAC,QAAQ;YACd,IAAI,CAAC,QAAQ,GAAG,uBAAW,CAAC,IAAI,CAAC,CAAC;QAEtC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;SAC3C;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAGD,8CAA8C;IAEpC,aAAa;QAEnB,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QACtC,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO;YACR,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO,GAAG,sBAAsB,CAAC;IACjE,CAAC;IAED,8CAA8C;IAE9C,QAAQ,GAA0B,IAAI,CAAC;IAEvC,UAAU,GAAU,IAAI,CAAC;IAEzB,OAAO,CAAc;CACxB;AAGD,wBAAY,CAAC,oBAAI,EAAE,MAAM,CAAC,CAAC;;;AhBvDrB,SAAU,oBAAU,CAAC,KAAa,EAAE,KAAa;IACnD,IAAI,qBAAW,CAAC,KAAK,CAAC;QAClB,OAAO,SAAS,CAAC;IACrB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC;AAC7C,CAAC;AAED,0CAA0C;AAEnC,SAAS,eAAK,CAAC,KAAa,EAAE,MAAc;IAC/C,IAAI,qBAAW,CAAC,KAAK,CAAC;QAClB,OAAO,SAAS,CAAC;IAErB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;AAC3E,CAAC;AAED,0CAA0C;AAEnC,SAAS,qBAAW,CAAC,KAAa,EAAE,SAAiB,CAAC;IACzD,IAAI,qBAAW,CAAC,KAAK,CAAC;QAClB,OAAO,SAAS,CAAC;IACrB,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,EAAE,MAAM,CAAC,CAAC;AAC3C,CAAC;AAED,0CAA0C;AAEnC,SAAS,qBAAW,CAAC,CAAS;IACjC,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC;AAClC,CAAC;AAED,0CAA0C;AAEnC,SAAS,iBAAO,CAAC,CAAS,EAAE,CAAS;IAExC,IAAI,qBAAW,CAAC,CAAC,CAAC,IAAI,qBAAW,CAAC,CAAC,CAAC;QAChC,OAAO,SAAS,CAAC;IAErB,IAAI,qBAAW,CAAC,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IAEb,IAAI,qBAAW,CAAC,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IAEb,OAAO,CAAC,GAAG,CAAC,CAAC;AACjB,CAAC;AAED,0CAA0C;AAEnC,SAAS,oBAAU,CAAC,CAAS,EAAE,CAAS;IAC3C,IAAI,qBAAW,CAAC,CAAC,CAAC,IAAI,qBAAW,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QAC1C,OAAO,SAAS,CAAC;IACrB,OAAO,CAAC,GAAG,CAAC,CAAC;AACjB,CAAC;;;AiBnDqC;AAEyD;AAEhC;AAET;AACA;AACA;AAGP;AACU;AACT;AACA;AAShD,0CAA0C;AAE1C,MAAM,4BAAc,SAAQ,oBAAI;IAEpB,SAAS,CAAqB;IAC9B,KAAK,CAAgB;IAE7B,0CAA0C;IAE1C,YAAY,MAA4B;QAEpC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,CAAC,IAAI;YACZ,IAAI,CAAC,KAAK,GAAG,2CAAoB,CAAC;;YAElC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;QAE7B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;IAClD,CAAC;IAED,0CAA0C;IAE1C,GAAG;QACC,wDAAsB,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ,CAAC,KAAyB;QAElC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAEvB,IAAI,IAAI,CAAC,SAAS,EAAE;YAEhB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAEzD,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO;gBACtB,IAAI,CAAC,OAAO,GAAG,2CAAW,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;SAC1D;;YAEG,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,eAAe,CAAC,SAAqB;QACjC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,kBAAkB,CAAC,SAAqB;QACpC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,sBAAsB,CAAC,KAAyB;QAE5C,IAAI,GAAG,GAAG,YAAY,CAAC;QAEvB,IAAI,KAAK,CAAC,OAAO;YACb,GAAG,IAAI,GAAG,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;QAErC,IAAI,KAAK,CAAC,OAAO,IAAI,IAAI,IAAI,KAAK,CAAC,QAAQ,IAAI,IAAI;YAC/C,GAAG,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,IAAI,GAAG,eAAK,CAAC,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;QAEvH,OAAO,GAAG,CAAC;IACf,CAAC;IAED,0CAA0C;IAEjC,aAAa,GAAG,gCAAM,EAAc,CAAC;IAE9C,OAAO,GAAW,IAAI,CAAC;IAEvB,eAAe,GAAe,IAAI,CAAC;CACtC;AAED,0CAA0C;AAEnC,MAAM,mCAAoB;IAE7B,QAAQ,CAAC,QAAqC;QAE1C,IAAI,QAAQ,CAAC,QAAQ,CAAC;YAClB,QAAQ,GAAG,EAAE,OAAO,EAAE,QAAQ,EAAwB,CAAC;QAE3D,IAAI,IAAI,CAAC,OAAO,EAAE;YAEd,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEjC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE;gBACxB,SAAS,EAAE,IAAI,CAAC,OAAO;gBACvB,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAC;SACN;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,cAAkD;QAEpD,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC;YACzB,cAAc,GAAG,EAAE,OAAO,EAAE,cAAc,EAAwB,CAAC;QAEvE,MAAM,SAAS,GAAG,IAAI,4BAAa,CAAC,cAAsC,CAAC,CAAC;QAE5E,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;QAEtD,SAAS,CAAC,QAAQ,GAAG,cAAsC,CAAC;QAE5D,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS;YACvC,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;QAE7C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAE/B,IAAI,SAAS,CAAC,eAAe;YACzB,SAAS,CAAC,eAAe,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAEzD,IAAI,SAAS,CAAC,IAAI,IAAI,aAAa,CAAC,KAAK,EAAE;YAEvC,MAAM,IAAI,GAAI,cAAuC,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;gBAC1E,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,EAAE,SAAS,CAAC;aACxD,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAEd,GAAwB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACzC;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,SAAqB;QAErB,OAAO,CAAC,QAAQ,EAAE,CAAC;QAEnB,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;QAElD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAElC,IAAI,SAAS,CAAC,eAAe;YACzB,SAAS,CAAC,eAAe,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;QAE5D,IAAI,SAAS,CAAC,IAAI,IAAI,aAAa,CAAC,KAAK;YACpC,GAAwB,CAAC,OAAO,EAAE,CAAC;IAC5C,CAAC;IAED,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC7F,CAAC;IAED,0CAA0C;IAEjC,UAAU,GAAsB,MAAM,EAAE,CAAC;IAEzC,OAAO,GAAyB,KAAK,EAAE,CAAC;IAExC,KAAK,GAAyB,KAAK,EAAE,CAAC;IAEtC,UAAU,GAAsE,KAAK,EAAE,CAAC;CACpG;AAED,0CAA0C;AAG1C,wBAAY,CAAC,4BAAa,EAAE,eAAe,CAAC,CAAC;;;AC9MN;AACoB;AAEjB;AAEnC,KAAK,UAAU,sBAAY,CAAI,KAAmC;IAErE,MAAM,OAAO,GAAG,yBAAI,CAAC,KAAY,CAAC,CAAC,MAAM,CAAa,CAAC,CAAC,EAAE,CAAC,qBAAW,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;IAEhH,OAAO,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACtC,CAAC;AAED,0CAA0C;AAEnC,SAAS,8BAAY,CAAC,IAAY;IACrC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAClC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACzB,QAAQ,CAAC,EAAE;YACP,sBAAsB;YACtB,KAAK,CAAC;gBACF,MAAM,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC1B,IAAI,CAAC,uBAAW,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG;oBAC3B,CAAC,GAAG,CAAC,CAAC;gBACV,MAAM;YACV,YAAY;YACZ,KAAK,CAAC;gBACF,IAAI,uBAAW,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE;oBAC5B,MAAM,IAAI,GAAG,CAAC;oBACd,CAAC,GAAG,CAAC,CAAC;iBACT;gBACD,MAAM,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC1B,MAAM;SACb;KACJ;IACD,OAAO,MAAM,CAAC;AAClB,CAAC;;;ACrC8F;AAK3C;AACT;AAe3C,0CAA0C;AAEnC,MAAM,2BAAc,SAAQ,oBAAI;IAEnC,YAAY,MAA6B;QAErC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,MAAM;gBACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAEhC,IAAI,MAAM,CAAC,IAAI;gBACX,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;SAC/B;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAExD,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,KAAgB;QACrB,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChC,OAAO;QACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,KAAgB;QACxB,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,OAAO;QACX,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,WAAW;QAEP,IAAI,MAAM,GAAG,EAAE,CAAC;QAEhB,IAAI,OAAO,GAAc,mBAAO,CAAC,IAAI,CAAC,CAAC;QAEvC,OAAO,OAAO,IAAI,2BAAa,EAAE;YAC7B,MAAM,QAAQ,GAAG,uBAAW,CAAC,OAAO,CAAC,CAAC;YACtC,MAAM,IAAI,8BAAY,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;YACvC,OAAO,GAAG,uBAAW,CAAC,OAAO,CAAC,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,IAAI;YACT,MAAM,IAAI,8BAAY,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;QAE5C,IAAI,IAAI,CAAC,MAAM;YACX,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEpC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,uBAAW,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,OAAO,GAAY,IAAI,CAAC;IAExB,OAAO,GAAY,IAAI,CAAC;IAExB,MAAM,GAAgB,EAAE,CAAC;IAEzB,IAAI,GAAW,IAAI,CAAC;IAEpB,KAAK,GAAW,IAAI,CAAC;IAErB,cAAc,GAAY,KAAK,CAAC;IAEhC,SAAS,CAAS;IAElB,MAAM,GAAwB,EAAE,CAAC;CAEpC;AAGD,wBAAY,CAAC,2BAAa,EAAE,eAAe,CAAC,CAAC;;;ACrHe;AAId;AACwB;AAStE,8CAA8C;AAEvC,MAAM,uBAA4B,SAAQ,2BAAa;IAE1D,YAAY,MAAqC;QAE7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;QAExE,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,IAAI,CAAC,eAAe;YACpB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC;IAGD,8CAA8C;IAEpC,gBAAgB;QAEtB,IAAI,gBAAM,CAAC,IAAI,CAAC,OAAO,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC;IACvC,CAAC;IAED,8CAA8C;IAE9C,OAAO,GAAa,IAAI,CAAC;IAEzB,eAAe,GAA8B,IAAI,CAAC;CACrD;AAED,wBAAY,CAAC,uBAAW,EAAE,aAAa,CAAC,CAAC;;;AC9CkB;AAEM;AACE;AACA;AAEzB;AACN;AACwB;AAO5D,0CAA0C;AAEnC,MAAM,kCAAY,SAAQ,wCAAc;IAEnC,cAAc,CAAc;IAC5B,aAAa,CAAC;IAEtB,0CAA0C;IAE1C,YAAY,MAA2B;QACnC,KAAK,EAAE,CAAC;QAER,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SACtD;QAED,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,iBAAiB,CAAC;QAElD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjD,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QAErB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,2CAAqB,CAAC,MAAM,CAAC,CAAC,CAAC;IACpD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,OAAqB,EAAE,KAA0C;QAE7E,MAAM,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QAE9B,IAAI,CAAC,OAAO,IAAI,KAAK,EAAE;YAEnB,IAAI,KAAK,YAAY,UAAU,EAAE;gBAC7B,OAAO,GAAG,KAAK,CAAC,UAAyB,CAAC;gBAC1C,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;gBACzB,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;aAC5B;iBACI;gBACD,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBACpC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;aACvC;SACJ;QAED,MAAM,OAAO,GAAG,IAAI,0CAAe,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAE/D,OAAO,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAExC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAE/C,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,MAAM,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAE3D,IAAI,OAAO,EAAE;YAET,IAAI,KAAK,GAAG,OAAO,CAAC;YACpB,IAAI,QAAQ,GAAG,OAAO,CAAC;YAEvB,OAAO,KAAK,EAAE;gBACV,IAAI,KAAK,IAAI,QAAQ,EAAE;oBACnB,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC;oBAC5B,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC;oBAC7B,QAAQ,GAAgB,KAAK,CAAC,YAAY,CAAC;iBAC9C;gBACD,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC;gBAC5B,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC;gBAC7B,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC;aAC/B;SACJ;QAED,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,MAAM,GAAG,EAAE,CAAC;QAEhB,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE;YACxE,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;YAC5C,MAAM,GAAG,OAAO,CAAC;SACpB;;YAEG,MAAM,GAAG,MAAM,CAAC;QAEpB,IAAI,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE;YAC1E,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC;YAC7C,MAAM,GAAG,QAAQ,CAAC;SACrB;;YAEG,MAAM,GAAG,KAAK,CAAC;QAEnB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;QAChD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;QACjD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC;QAElE,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAED,0CAA0C;IAE1C,IAAI;QAEA,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAEhD,MAAM,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QAE9D,UAAU,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,GAAG,CAAC,CAAC;IAC1E,CAAC;IAED,0CAA0C;IAEhC,OAAO,CAAC,CAAa;QAC3B,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,0CAA0C;IAEjC,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAEnE,SAAS,GAAW,cAAc,CAAC;CACtC;AAED,wBAAY,CAAC,kCAAW,EAAE,aAAa,CAAC,CAAC;;;AC3I6B;AACV;AACvB;AACR;AAW7B,0CAA0C;AAEnC,MAAM,oCAAa,SAAQ,2BAAa;IAE3C,YAAY,MAA4B;QAEpC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,0CAA0C;IAE1C,IAAI,GAAW,IAAI,CAAC;IAEpB,IAAI,GAAW,IAAI,CAAC;IAEpB,KAAK,GAAW,IAAI,CAAC;CACxB;AAED,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;ACxCuB;AAEf;AACuB;AAEP;AACA;AAGH;AACpB;AACE;AACX;AACe;AACU;AACrB;AAiBvC,0CAA0C;AAE1C,IAAY,0BAIX;AAJD,WAAY,eAAe;IACvB,qDAAI;IACJ,6DAAQ;IACR,yDAAM;AACV,CAAC,EAJW,0BAAe,KAAf,0BAAe,QAI1B;AAED,0CAA0C;AAEnC,MAAM,gCAA2B,SAAQ,uBAAqB;IAEjE,YAAY,MAAoC;QAE5C,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,EAAE,uDAAmB,CAAC,CAAC;QAE9D,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,YAAY;gBACnB,IAAI,CAAC,gBAAgB,GAAG,GAAE,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAE3D,IAAI,MAAM,CAAC,UAAU;gBACjB,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAC5B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,gCAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACrD;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,IAAI,MAAM,CAAC,KAAK;YACZ,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;QAEnC,IAAI,gDAAkB;YAClB,8DAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzC,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,YAAY,GAAG,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAEjG,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;QAC1B,IAAI;YAEA,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAE9B,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,EAAE;gBAE3B,MAAM,IAAI,GAAG,IAAI,kCAAW,EAAE,CAAC;gBAC/B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,UAAyB,CAAC,CAAC;aAC1D;SACJ;QACD,OAAO,EAAE,EAAE;YACP,+CAAe,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC1B,MAAM,EAAE,CAAC;SACZ;gBACO;YACJ,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,EAAE,CAAC,GAAG,EAAE,CAAC;SACZ;IACL,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,UAAU,CAAC,MAAe,EAAE,MAA+B;QAE9D,MAAM,gBAAgB,GAAG,CAAC,CAAU,EAAE,EAAE,CAAC,CAAC;YACtC,IAAI,EAAE,CAAC,CAAC,IAAI;YACZ,SAAS,EAAE,CAAC,CAAC,SAAS;YACtB,MAAM,EAAE,CAAC,CAAC,MAAM;YAChB,QAAQ,EAAE,YAAY;YACtB,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,yBAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,SAAS;YACpG,OAAO,EAAE,IAAI,oCAAY,CAAC;gBACtB,QAAQ,EAAE,oBAAoB;gBAC9B,IAAI,EAAE,+CAAa,CAAC,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,IAAI,CAAC;gBAC5C,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,KAAK,EAAE,CAAC,CAAC,KAAK;aACjB,CAAC;YACF,YAAY,EAAE,CAAC,CAAC,YAAY;YAC5B,GAAG,MAAM;SACU,EAAC;QAExB,MAAM,MAAM,GAAG,IAAI,gCAAU,CAAe,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;QAEtE,IAAI,MAAM,CAAC,UAAU;YACjB,0CAAoB,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC;QAEvE,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,cAAc,CAAQ,MAA0B,EAAE,OAAoB,EAAE,MAA0B;QACrG,MAAM,MAAM,GAAG,IAAI,gCAAU,CAAC;YAC1B,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,SAAS,EAAE,MAAM,CAAC,SAAS;YAC3B,MAAM,EAAE,MAAM,CAAC,MAAM;YACrB,OAAO,EAAE,IAAI,oCAAY,CAAC;gBACtB,QAAQ,EAAE,oBAAoB;gBAC9B,IAAI,EAAE,+CAAa,CAAC,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,IAAI,CAAC;gBACtD,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,KAAK,EAAE,MAAM,CAAC,KAAK;aACtB,CAAC;YACF,YAAY,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAClD,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,MAAM,CAAC,UAAU;YACjB,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtF,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,cAAc,CAAC,MAAe,EAAE,MAA0B;QAC7D,MAAM,MAAM,GAAG,IAAI,gCAAU,CAAC;YAC1B,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,MAAM,EAAE,MAAM,CAAC,MAAM;YACrB,SAAS,EAAE,MAAM,CAAC,SAAS;YAC3B,QAAQ,EAAE,YAAY;YACtB,OAAO,EAAE,MAAM,CAAC,IAAI;YACpB,OAAO,EAAE,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,IAAI;YAC1C,YAAY,EAAE,MAAM,CAAC,YAAY;YACjC,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,MAAM,CAAC,UAAU;YACjB,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;QAE7E,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,OAAO,GAAW,IAAI,CAAC;IAEvB,SAAS,GAAkB,2CAAoB,CAAC;IAEhD,YAAY,GAAoB,0BAAe,CAAC,IAAI,CAAC;IAE5C,UAAU,GAAgC,0CAAgB,EAAE,CAAC;CACzE;AAED,wBAAY,CAAC,gCAAU,EAAE,YAAY,CAAC,CAAC;;;AC5LqB;AAEE;AACE;AAIX;AAE9C,MAAM,iCAA4C,SAAQ,wCAAc;IAE3E;QAEI,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;YACzB,SAAS,EAAE,GAAG,EAAE;gBACZ,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,IAAI,CAAC;oBAC7B,IAAI,CAAC,KAAK,EAAE,CAAC;YACrB,CAAC;SACJ,CAAC;IACN,CAAC;IAED,0CAA0C;IAE1C,KAAK;QAED,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAEtB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;YAClD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;QAEjD,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,IAAI;QAEA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAA4B;QAElC,MAAM,MAAM,GAAG,+CAAyB,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzB,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,UAAU;QAChB,IAAI,CAAC,aAAa,GAAG,2DAAsB,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;IAC7J,CAAC;IAED,0CAA0C;IAEjC,aAAa,GAA2B,0CAAgB,EAAE,CAAC;IAE3D,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAEnE,aAAa,GAAW,IAAI,CAAC;IAE7B,QAAQ,GAAY,KAAK,CAAC;CAC7B;;;ACjEM,MAAM,uCAAc;IAEvB,MAAM,CAAC,OAAoB,EAAE,SAA+B;QAExD,IAAI,QAAQ,IAAI,SAAS,EAAE;YACvB,UAAU,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB,EAAE,SAA+B;IAC5D,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAU,QAAQ,GAAG,IAAI,uCAAc,EAAE,CAAC;;;;AEpBO;AAGpD,MAAM,iDAAmB;IAE5B,MAAM,CAAC,OAAoB;QACvB,OAAO,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACzE,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;QACvB,OAAO,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,OAAO,CAAC,CAAQ;QAElB,MAAM,SAAS,GAAgB,CAAC,CAAC,aAAa,CAAC;QAC/C,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAExC,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAErC,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QAEtB,IAAI,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,CAAC;YACzC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAU,QAAQ,GAAG,IAAI,iDAAmB,EAAE,CAAC;;;;ACnCC;AACC;AAKpD,MAAM,iDAAmB;IAE5B,KAAK,CAAC,MAAM,CAAC,OAAoB,EAAE,SAAmC;QAElE,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,MAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,sBAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAEjJ,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,SAAS,aAAa;YAElB,IAAI,CAAC,SAAS,CAAC,mBAAmB,IAAI,WAAW;gBAC7C,OAAO;YAEX,WAAW,GAAG,IAAI,CAAC;YAEnB,qBAAqB,CAAC,GAAG,EAAE;gBAEvB,IAAI,KAAK,GAAG,KAAK,CAAC;gBAElB,IAAI,YAAY,IAAI,QAAQ,CAAC,gBAAgB,EAAE;oBAE3C,IAAI,OAAO,GAAS,OAAO,CAAC;oBAC5B,KAAK,GAAG,KAAK,CAAC;oBACd,OAAO,OAAO,IAAI,IAAI,EAAE;wBACpB,IAAI,OAAO,IAAI,YAAY,EAAE;4BACzB,KAAK,GAAG,IAAI,CAAC;4BACb,MAAM;yBACT;wBACD,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;qBAChC;iBACJ;;oBAEG,KAAK,GAAG,IAAI,CAAC;gBAEjB,IAAI,CAAC,KAAK;oBACN,YAAY,CAAC,mBAAmB,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;qBACzD;oBAED,SAAS,CAAC,QAAQ,CAAC;wBACf,SAAS,EAAE,YAAY,CAAC,SAAS;wBACjC,YAAY,EAAE,YAAY,CAAC,YAAY,GAAG,CAAC,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC;wBAC9F,UAAU,EAAE,CAAC,YAAY,CAAC,YAAY,GAAG,CAAC,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,YAAY;wBAC1H,OAAO,EAAE,YAAY,CAAC,SAAS,GAAG,YAAY,CAAC,YAAY;wBAC3D,QAAQ,EAAE,YAAY,CAAC,YAAY,GAAG,YAAY,CAAC,YAAY;qBAClE,CAAC,CAAC;iBACN;gBAED,WAAW,GAAG,KAAK,CAAC;YACxB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,IAAI,YAAY,IAAI,IAAI,EAAE;YACtB,IAAI,YAAY,IAAI,QAAQ,CAAC,gBAAgB;gBACzC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAAa,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;;gBAEpE,YAAY,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAAa,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;SACjF;IACL,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB,EAAE,SAAmC;IAChE,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAU,QAAQ,GAAG,IAAI,iDAAmB,EAAE,CAAC;;;;ACxElD,MAAM,mDAAoB;IAE7B,MAAM,CAAC,OAAoB;QACvB,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACpD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;QACvB,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,0CAA0C;IAElC,OAAO,CAAC,CAAQ;QACpB,IAAI,SAAS,IAAI,SAAS;YACtB,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAU,QAAQ,GAAG,IAAI,mDAAoB,EAAE,CAAC;;;;ACvB1B;AAE2B;AACQ;AAEP;AAChB;AAEd;AAEvB,MAAM,0BAAQ,SAAQ,uBAAkB;IAE3C;QAEI,KAAK,CAAC;YACF,QAAQ,EAAE,mBAAmB;YAC7B,OAAO,EAAE,IAAI,oBAAI,CAAC,EAAC,QAAQ,EAAE,SAAS,EAAC,CAAC;SAC3C,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,MAAM,OAAO,GAAG,IAAI,0CAAe,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEzD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAEnF,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;YACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC5C,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,OAAe;QAE3B,IAAI,IAAI,CAAC,OAAO;YACZ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAEjD,IAAI,CAAC,MAAM,GAAG,SAAS;QAEvB,IAAI,OAAO;YACP,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAE3B,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;YACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,CAAC,OAAO,GAAG,IAAI,oBAAI,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC;YAEhD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QAEvB,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QAEtB,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAE;YACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,IAAI,CAAC,OAAO;gBACZ,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC3C;IACL,CAAC;CACJ;AAED,wBAAY,CAAC,0BAAO,EAAE,SAAS,CAAC,CAAC;;;AC3EuB;AAE0B;AAKpD;AAM9B,0CAA0C;AAEnC,MAAM,gDAAmB,SAAQ,oBAAI;IAEhC,WAAW,CAAiB;IAEpC,0CAA0C;IAE1C,YAAY,MAA4B;QAEpC,KAAK,CAAC,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEjD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,CAAC;IAClE,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAED,0CAA0C;IAE1C,UAAU;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,WAAW;QACP,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,cAAc;QACV,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,eAAe,CAAC,IAAW;QAEvB,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO;YACpB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAClD,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAsB,IAAW,EAAE,OAA0B;QAElE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YACvB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SAChC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAsB,UAAgC;QAEtD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,sCAAQ,CAAC,UAAU,CAAC,IAAI,UAAU,IAAI,uBAAW,CAAC,IAAI,CAAC,OAAO,CAAC;gBAC/D,OAAc,IAAI,CAAC,OAAO,CAAC;YAE/B,IAAI,mBAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,UAAU;gBACnC,OAAc,IAAI,CAAC,OAAO,CAAC;SAClC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAyB,CAAC,CAAC;IAC5D,CAAC;IAGD,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,KAAa;QAEzB,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,KAAK,CAAC;QACtC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;IACzC,CAAC;IAED,IAAI,YAAY,CAAC,KAAa;QAC1B,IAAI,CAAC,WAAW,CAAC,YAAY,GAAG,KAAK,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAQ;CAClB;AAID,wBAAY,CAAC,gDAAkB,EAAE,oBAAoB,CAAC,CAAC;;;AC/HL;AAEuB;AACR;AAmBjE,0CAA0C;AAEnC,MAAM,SAAkC,SAAQ,wCAAc;IAEjE,YAAY,MAA2B;QAEnC,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAE/B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,IAAI;gBACX,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;SAC/B;IACL,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QACJ,OAAO,EAAE,CAAC;IACd,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,KAAa;IAEtB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,MAAY,EAAE,KAAU;QAChC,+CAAe,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QACX,IAAI,IAAI,CAAC,MAAM,IAAI,WAAW,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO,EAAE;YAEtD,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,gBAAgB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,uBAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3I,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,IAAI;gBAEA,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;aAC9B;YACD,OAAO,CAAC,EAAE;gBACN,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;gBACtB,+CAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;aAC5B;oBACO;gBACJ,EAAE,CAAC,GAAG,EAAE,CAAC;gBACT,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;SACJ;IACL,CAAC;IAED,0CAA0C;IAEhC,aAAa;QACnB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,YAAY;QACR,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU,CAAC,MAAY;QAEzB,IAAI,aAAa,IAAI,IAAI,CAAC,IAAI;YAC1B,MAAO,IAAI,CAAC,IAAuB,CAAC,WAAW,EAAE,CAAC;QAEtD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QAEvB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,GAAG,GAAW,IAAI,CAAC;IAEnB,IAAI,GAAc,IAAI,CAAC;IAEvB,IAAI,GAAU,IAAI,CAAC;IAEnB,KAAK,GAAW,IAAI,CAAC;IAErB,QAAQ,GAAW,IAAI,CAAC;IAExB,IAAI,GAAW,IAAI,CAAC;IAEpB,MAAM,GAAe,WAAW,CAAC;IAEjC,IAAI,GAAW,IAAI,CAAC;CACvB;AAED,wBAAY,CAAC,SAAI,EAAE,MAAM,CAAC,CAAC;;;AC/HwC;AACH;AAE9B;AAC0B;AAO5D,8CAA8C;AAEvC,MAAM,8BAAuB,SAAQ,uBAAmC;IAEjE,YAAY,GAAW,CAAC,CAAC;IAEnC,YAAY,MAAgC;QAExC,KAAK,CAAC,EAAE,OAAO,EAAE,0CAAgB,EAAS,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEzD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;YACnB,WAAW,EAAE,CAAC,IAAW,EAAE,EAAE;gBAEzB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;oBACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC/B,CAAC;YAED,aAAa,EAAE,CAAC,IAAW,EAAE,EAAE;gBAC3B,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;oBACtB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,8CAA8C;IAEpC,SAAS;QACf,IAAI,IAAI,CAAC,OAAO;YACZ,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,8CAA8C;IAE9C,WAAW;QACP,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,8CAA8C;IAE9C,SAAS;QACL,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,IAAW;IAEjC,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,IAAW;IAEnC,CAAC;IAED,SAAS,GAAS,IAAI,CAAC;CAC1B;AAED,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;ACvEmB;AACjB;AACqB;AAIR;AACM;AAO1D,8CAA8C;AAEvC,MAAM,sBAAM,SAAQ,8BAAgB;IAEvC,YAAY,MAAqB;QAC7B,KAAK,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAI,MAAM,EAAE,WAAW,EAAE;YACrB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC;gBACjC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;;gBAEjD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;SACxC;IACL,CAAC;IAED,8CAA8C;IAE9C,SAAS;QAEL,OAAO,sBAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED,8CAA8C;IAE9C,KAAK;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,8CAA8C;IAE9C,OAAO,CAAsB,IAAW;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAE9C,UAAU,CAAC,IAAW;QAClB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAQD,WAAW,CAAC,OAAuB,EAAE,OAAc;QAE/C,IAAI,KAAa,CAAC;QAElB,IAAI,sCAAQ,CAAC,OAAO,CAAC;YACjB,KAAK,GAAG,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,IAAK,CAA8B,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC;;YAExG,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,KAAK,IAAI,CAAC,CAAC;YACX,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,IAAW;QAC7B,IAAI,IAAI;YACJ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,IAAW;QAC/B,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI;YAC/B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC/B,CAAC;CACJ;AAED,wBAAY,CAAC,sBAAK,EAAE,OAAO,CAAC,CAAC;;;AC1F0D;AAIhC;AACX;AACQ;AAMpD,0CAA0C;AAEnC,MAAM,iBAAyB,SAAQ,SAAW;IAE3C,UAAU,GAAiB,EAAE,CAAC;IAC9B,cAAc,CAA2B;IAEnD,YAAY,MAAwB;QAEhC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,IAAI,GAAG,IAAI,sBAAK,CAAC,EAAE,IAAI,EAAE,8BAAY,CAAC,uBAAW,CAAC,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC;QACvH,kCAAkC;QAElC,IAAI,IAAI,CAAC,IAAI;YACT,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,IAAI,MAAM;QACN,OAAO,IAAI,OAAO,CAAU,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC;IAClE,CAAC;IAED,0CAA0C;IAE1C,aAAa;QACT,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,eAAe,CAAC,MAA+B;QAC3C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU,CAAC,MAAgB;QAE7B,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAEnD,IAAI,IAAI,CAAC,cAAc;YACnB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAEhC,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,0CAA0C;IAEhC,aAAa;QAEnB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAEhC,WAAW;QAEjB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,UAAU,CAAC,GAAQ;QAEtB,OAAO,wBAAY,CAAC,GAAG,EAAE,iBAAQ,CAAC,CAAC;IACvC,CAAC;CACJ;AAED,wBAAY,CAAC,iBAAQ,EAAE,UAAU,CAAC,CAAC;;;AClFI;AAEoB;AAKT;AACP;AACO;AACU;AAC3B;AAyBjC,0CAA0C;AAEnC,MAAM,sCAAc,SAAQ,oBAAI;IAE3B,gBAAgB,GAAW,CAAC,CAAC;IAC7B,UAAU,CAAmB;IAC7B,aAAa,CAAS;IACtB,YAAY,CAAS;IAE7B,0CAA0C;IAE1C,YAAY,MAA6B;QACrC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;YACpD,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,kBAAkB;gBACzB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;SAC3D;IACL,CAAC;IAED,0CAA0C;IAE1C,UAAU;QACN,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAE1B,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAE/C,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,gBAAgB,CAAC;IACnD,CAAC;IAGD,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QACb,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC;YACtB,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,cAAc;QAChB,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC;YACtB,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAW;QAE7B,MAAM,SAAS,GAAG,yBAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;QAErE,IAAI,SAAS,IAAI,CAAC,CAAC;YACf,MAAO,IAAI,CAAC,IAAuB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IACjE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAsB,IAAW,EAAE,OAA0B;QAExE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;YACtB,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC;SACf;QAED,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,MAAM,EAAE,GAAG,4DAAwB,CAAC,kBAAkB,CAAC,CAAC;QACxD,IAAI;YAEA,IAAI,IAAI,CAAC,OAAO,IAAI,4BAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;gBACjD,MAAM,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YAElD,IAAI,OAAO,EAAE,QAAQ,IAAI,OAAO;gBAC5B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;YAE5B,IAAI,OAAO,EAAE,QAAQ,IAAI,SAAS,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;gBACxD,IAAI,CAAC,aAAa,EAAE,CAAC;YAEzB,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC;gBAClD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;YAE1D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;YAEvD,IAAI,OAAO,IAAI,OAAO,CAAC,WAAW;gBAC9B,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,WAAW,CAAC;;gBAE7C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;YAErD,IAAI,CAAC,aAAa,EAAE,CAAC;YAErB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAEjB,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAE5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,gBAAgB,CAAC;YAE5D,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;YAEpB,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;YAEvB,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE;gBAExB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;gBAEnD,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;gBAEpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,cAAc,CAAC;gBAC3D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,gBAAgB,CAAC;gBAC5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC;gBAEvC,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;iBACI;gBAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;gBAEpD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,QAAQ,CAAC;aACxD;YAED,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YAEvB,IAAI,4BAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;gBACjC,MAAM,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;SAC1C;QACD,OAAO,CAAC,EAAE;YACN,+CAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAC5B;gBACO;YACJ,EAAE,CAAC,GAAG,EAAE,CAAC;SACZ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,KAAa;QAEb,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;IACvC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,KAAa;QAEzB,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,KAAK,IAAI,IAAI,CAAC,aAAa;YAC3E,OAAO;QAEX,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,MAAM,EAAE,GAAG,4DAAwB,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;QACzD,IAAI;YAEA,IAAI,4BAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;gBACjC,MAAM,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YAElD,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC;YAE/B,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC;YAC5D,IAAI,OAAO,IAAI,OAAO,CAAC,WAAW;gBAC9B,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,WAAW,CAAC;;gBAE7C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;YAErD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAE3B,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI;gBACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAExC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAEvF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,iBAAiB,CAAC;YAE7D,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;YAEpB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,GAAG,cAAc,CAAC;YAC3D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,gBAAgB,CAAC;YAE5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC;YAEvC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC;YAE/B,IAAI,4BAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;gBACjC,MAAM,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;YAEvC,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;QACD,OAAO,CAAC,EAAE;YACN,+CAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAC5B;gBACO;YACJ,EAAE,CAAC,GAAG,EAAE,CAAC;SACZ;IACL,CAAC;IAED,0CAA0C;IAElC,cAAc;QAElB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;IACL,CAAC;IAED,0CAA0C;IAElC,QAAQ;QAEZ,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YAEvC,IAAI,CAAC,IAAI,CAAC,YAAY;gBAClB,OAAO;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,GAAG,WAAW,CAAC;QAC3D,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,0CAA0C;IAE1C,mBAAmB;IAEnB,CAAC;IAED,0CAA0C;IAE1C,gBAAgB;IAEhB,CAAC;IAQD,IAAI,CAAsB,UAAgC;QAEtD,IAAI,OAAuB,CAAC;QAE5B,IAAI,OAAO,UAAU,IAAI,QAAQ;YAC7B,OAAO,GAAG,yBAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAY,UAAU,CAAC,CAAC;;YAE9E,OAAO,GAAG,yBAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,IAAI,UAAU,CAAC,CAAC;QAExG,IAAI,OAAO;YACP,OAAc,OAAO,CAAC,IAAI,CAAC;IACnC,CAAC;IAGD,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC;IAC3F,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,IAAI,YAAY,CAAC,KAAa;QAC1B,IAAI,IAAI,CAAC,aAAa,IAAI,KAAK;YAC3B,OAAO;QACX,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,kBAAkB,GAAwB,aAAa,CAAC;IAExD,iBAAiB,GAAwB,MAAM,CAAC;IAEhD,SAAS,CAAc;CAC1B;AAGD,wBAAY,CAAC,sCAAa,EAAE,eAAe,CAAC,CAAC;;;;;AE1VX;AACC;AACJ;AACC;AACM;AACA;AACF;AACA;AACF;AACE;AACA;AACA;AACD;AACK;AACT;AACQ;AACN;AACJ;AACQ;AACH;AACE;AACF;AACD;AACA;AACI;AACD;AACF;AACC;AACK;AACT;AACE;AACiB;AACb;AACA;AACA;AACK;AACP;AACG;AACD;AACM;AACJ;AACE;AACE;AACV;AACE;AACF;AACH;AACI;AACF;AACG;;;ACjDnC,IAAY,wCAEX;AAFD,WAAY,WAAW;IACnB,uDAAS;AACb,CAAC,EAFW,wCAAW,KAAX,wCAAW,QAEtB;;;ACD+E;AASzE,MAAM,0CAAgB;IAEf,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/C,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnD,kBAAkB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnD,UAAU,CAAS;IACnB,QAAQ,CAAc;IACtB,SAAS,CAA2B;IAE9C,MAAM,CAAC,OAAoB,EAAE,SAAoC;QAE7D,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9F,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAC,EAAgB;QAElC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAAC,EAAgB;QAEpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEpC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAEtF,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAE1F,gDAAgD;IACpD,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAAC,EAAgB;QAEpC,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEhC,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAEnH,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEhH,iDAAiD;QAEjD,IAAI,QAAQ,GAAG,EAAE,EAAE;YACf,IAAI,KAAK,GAAG,GAAG,IAAI,KAAK,GAAG,GAAG;gBAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC;YAC9D,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;SACvB;IACL,CAAC;IAED,0CAA0C;IAEhC,QAAQ,CAAC,EAAgB;QAC/B,OAAO;YACH,CAAC,EAAE,EAAE,CAAC,OAAO;YACb,CAAC,EAAE,EAAE,CAAC,OAAO;SACN,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,UAAU,CAAC,EAAgB;QAEjC,oDAAoD;QAEpD,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtE,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC9E,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB,EAAE,SAAoC;QAC7D,OAAO,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACpE,OAAO,CAAC,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACpE,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACpE,CAAC;CACJ;;;AC5FwE;AAIjB;AAOxD,0CAA0C;AAEnC,MAAM,iDAAmB;IAE5B,MAAM,CAAC,OAAoB,EAAE,SAAiC;QAE1D,MAAM,QAAQ,GAAG,CAAC,EAA0C,EAAE,EAAE;YAE5D,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,EAAE,CAAC,eAAe,EAAE,CAAC;YACrB,EAAE,CAAC,wBAAwB,EAAE,CAAC;YAE9B,MAAM,KAAK,GAAG,SAAS,CAAC,iBAAiB,EAAE,CAAC;YAC5C,IAAI,KAAK,EAAE;gBACP,MAAM,IAAI,GAAG,IAAI,kCAAW,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;gBACjD,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;aAC5B;QAEL,CAAC,CAAC;QAEF,IAAI,sBAAa,EAAE;YACf,OAAO,CAAC,gBAAgB,CAAC,aAAa,EAAC,EAAE,CAAC,EAAE;gBACxC,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,EAAE,CAAC,eAAe,EAAE,CAAC;gBACrB,EAAE,CAAC,wBAAwB,EAAE,CAAC;gBAC9B,OAAO,KAAK,CAAC;YACjB,CAAC,CAAC,CAAC;QAEP,OAAO,CAAC,gBAAgB,CAAC,aAAa,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;IAEhE,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;IAC3B,CAAC;IAED,MAAM,CAAU,QAAQ,GAAG,IAAI,iDAAmB,EAAE,CAAC;;;;AChDS,CAAC;AACZ;AACgB;AACR;AACb;AACoB;AACR;AACX;AAKS;AACO;AACG;AACA;AACE;AACzB;AACsB;AACV;AACP;AACE;AACH;AACgB;AAC5C;AACmB;AACqB;AAEI;AACG;AAG/D,MAAM,+BAAmD,SAAQ,8DAAc;IAExE,WAAW,GAAG,CAAC,CAAC;IAChB,QAAQ,CAAU;IAClB,YAAY,CAAQ;IAE9B;QACI,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,QAAQ,CAAC,IAAY;QAEvB,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;QAExE,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;QAE9F,IAAI,CAAC,YAAY,GAAG,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,IAAI,EAAC,CAAC;QAE5C,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG;YACxE,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC;QAExB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,MAAM,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAEpC,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,kBAAkB,EAAE,CAAC;YACzC,IAAI,CAAC,IAAI,GAAQ,IAAI,CAAC,QAAQ,CAAC;YAC/B,mEAAmE;SACtE;aACI;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,IAAI,GAAI,IAAI,CAAC,QAA4B,CAAC,SAA6B,CAAC;SAChF;QAED,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAElC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QAE9B,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvD,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,0CAA0C;IAEhC,cAAc;QAEpB,QAAQ,CAAC,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE9C,WAAW,CAAC,aAAa,GAAG;YACxB,QAAQ,EAAE,IAAI,CAAC,QAAQ;SAC1B,CAAC;IACN,CAAC;IAED,0CAA0C;IAEhC,SAAS;IAEnB,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,MAAW,EAAE,KAAU,EAAE,OAAgB;QAEjD,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC;IAC9E,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,KAAa;QACrB,IAAI,IAAI,CAAC,OAAO,IAAI,KAAK;YACrB,OAAO,IAAI,CAAC,OAAO,GAAG,KAAK,GAAG,KAAK,CAAC;QACxC,IAAI,KAAK;YACL,OAAO,KAAK,CAAC;QACjB,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,cAAc;QACpB,OAAO,IAAI,aAAa,EAAE,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAEhC,YAAY;QAElB,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;QAC5B,QAAQ,CAAC,WAAW,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAChD,QAAQ,CAAC,aAAa,GAAG,IAAI,aAAa,EAAE,CAAC;QAE7C,QAAQ,CAAC,UAAU,GAAG,IAAI,aAAa,EAAE,CAAC;QAC1C,QAAQ,CAAC,KAAK,GAAG,IAAI,iBAAiB,EAAE,CAAC;QACzC,QAAQ,CAAC,SAAS,GAAG,IAAI,SAAS,EAAE,CAAC;QACrC,QAAQ,CAAC,SAAS,GAAG,IAAI,oBAAoB,EAAE,CAAC;QAEhD,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI;YACrB,QAAQ,CAAC,SAAS,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAEpE,eAAe,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC1D,eAAe,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC;QAC/D,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC,oBAAoB,CAAC,QAAQ,CAAC;QACjE,eAAe,CAAC,cAAc,CAAC,GAAG,GAAG,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC;QACrE,eAAe,CAAC,YAAY,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,iBAAiB,EAAE,CAAC;QAC9D,eAAe,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,gBAAgB,EAAE,CAAC;QAC1D,eAAe,CAAC,cAAc,CAAC,GAAG,GAAG,EAAE,CAAC,mBAAmB,CAAC,QAAQ,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,sBAAsB;QAE5B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,OAAe;QAEjB,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAEhB,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;YAE9B,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;SAChD;;YAEG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,OAAe;QAExB,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,SAAS;YAC3F,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aAChC,IAAI,OAAO;YACZ,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,QAAiB,KAAK;QAE1B,IAAI,CAAC,IAAI,CAAC,QAAQ;YACd,OAAO;QAEX,IAAI,KAAK,EAAE;YAEP,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,SAAS;gBACnE,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;SACjC;aACI;YACD,IAAI,EAAE,IAAI,CAAC,WAAW,IAAI,CAAC;gBACvB,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;SACjC;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS;QAEL,OAAO,OAAO,CAAC,OAAO,CAAQ,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;IACrC,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,aAAa,CAAC;IACrD,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACrB,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,IAAI,YAAY;QACZ,IAAI;YACA,OAAO,MAAM,CAAC,MAAM,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC;SAC/F;QACD,OAAO,CAAC,EAAE;YACN,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAED,IAAI,OAAO;QACP,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,QAAQ,GAAmB,IAAI,CAAC;IAEhC,OAAO,GAAW,IAAI,CAAC;IAEvB,IAAI,GAAU,IAAI,CAAC;IAEnB,QAAQ,GAAW,IAAI,CAAC;CAC3B;;;ACzOD,IAAY,kCAKX;AALD,WAAY,cAAc;IAEtB,yDAAO;IACP,6DAAS;IACT,2DAAQ;AACZ,CAAC,EALW,kCAAc,KAAd,kCAAc,QAKzB;;;ACID,IAAY,sBAGX;AAHD,WAAY,YAAY;IACpB,qDAAO;IACP,qDAAO;AACX,CAAC,EAHW,sBAAY,KAAZ,sBAAY,QAGvB;;;ACnByE;AAEP;AAKZ;AACb;AAC4B;AACpC;AAC0B;AAwB5D,0CAA0C;AAEnC,MAAM,8BAAU,SAAQ,2BAAa;IAExC,YAAY,MAAyB;QAEjC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;YACnB,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YAC1C,aAAa,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;SACjD,CAAC,CAAC;QAGH,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAElC,IAAI,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAEnD,IAAI,MAAM,CAAC,MAAM;gBACb,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;SACjC;IACL,CAAC;IAED,0CAA0C;IAEhC,eAAe,CAAC,MAAkB;QACxC,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU,IAAI,IAAI;YACnC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;IACjC,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAAC,MAAkB;QAEtC,IAAI,MAAM;YACN,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,kBAAkB;QAEpB,IAAI,IAAI,CAAC,cAAc;YACnB,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,+CAAyB,CAAC,MAAM,CAAC,CAAC,CAAC;IACxD,CAAC;IAED,0CAA0C;IAE1C,IAAI;IAEJ,CAAC;IAED,0CAA0C;IAE1C,cAAc;QAEV,IAAI,CAAC,IAAI,CAAC,gBAAgB;YACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,iCAAgB,EAAO,CAAC;QACxD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtC,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAED,0CAA0C;IAEjC,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAEnE,UAAU,GAA4B,MAAM,CAAC;IAE7C,cAAc,GAAe,IAAI,CAAC;IAElC,KAAK,GAAW,IAAI,CAAC;IAErB,IAAI,GAAW,IAAI,CAAC;IAEpB,OAAO,GAAU,IAAI,CAAC;IAEtB,gBAAgB,GAA0B,IAAI,CAAC;CAClD;AAED,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;ACpIE;AAM4B;AACT;AAC3B;AAC6B;AAiB5D,0CAA0C;AAEnC,MAAM,iBAAqB,SAAQ,oCAAY;IAElD,YAAY,MAAmC;QAC3C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEpB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,MAAM;YACN,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IAChC,CAAC;IAED,0CAA0C;IAE1C,MAAM;QACF,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,IAAI,GAAW,IAAI,CAAC;IAEpB,MAAM,GAA4B,EAAE,CAAC;IAErC,KAAK,GAAW,IAAI,CAAC;IAErB,SAAS,GAA2B,EAAE,CAAC;IAEvC,OAAO,GAAa,IAAI,CAAC;CAC5B;AAiBD,0CAA0C;AAEnC,MAAM,wBAAuB,SAAQ,8BAA+B;IAEvE,YAAY,MAAgC;QACxC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,KAAK;gBACZ,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAE/C,IAAI,MAAM,CAAC,cAAc,EAAE;gBAEvB,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;oBAClC,wBAAM,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACxD,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAC7B,CAAC,CAAC;aACL;SACJ;QAED,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,EAAE;YACpC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAW,CAAC;YACzC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS;SAC3C,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;IAEnC,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,IAAY;QAChB,OAAO,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IACzD,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,IAAY;QACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,MAAmC;QAEvC,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,UAAU,CAAC,MAAoC;QAErD,MAAM,IAAI,GAAG,IAAI,iBAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QACvH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,GAAG,EAAE,CACf,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC7B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,qBAAqB,CAAC,OAA6B,EAAE,OAA6B;QACxF,IAAI,OAAO;YACP,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC;QACxB,IAAI,OAAO;YACP,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,YAAY,GAAyB,IAAI,CAAC;IAE1C,YAAY,GAA2B,cAAc,CAAC;IAEtD,aAAa,GAA2B,EAAE,CAAC;CAC9C;AAED,wBAAY,CAAC,iBAAU,EAAE,YAAY,CAAC,CAAC;AAEvC,wBAAY,CAAC,wBAAM,EAAE,QAAQ,CAAC,CAAC;;;ACnK6B;AACD;AAEE;AAa7D,0CAA0C;AAEnC,MAAM,gCAAW,SAAQ,gCAAU;IAE5B,eAAe,GAAW,IAAI,CAAC;IAEzC,0CAA0C;IAE1C,YAAY,MAA0B;QAClC,KAAK,CAAC;YACF,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE,YAAY;YACtB,OAAO,EAAE,eAAe;YACxB,OAAO,EAAE,SAAS;YAClB,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;QAErE,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,YAAY;gBACnB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;YAE5C,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC;SAC/C;IACL,CAAC;IAGD,0CAA0C;IAEhC,cAAc,CAAC,KAAc;QAEnC,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC;YACvC,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;IACL,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,mBAAmB;QAE/B,OAAO,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,eAAe,EAAE;gBACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC;gBACvC,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAChD;YACD,MAAM,wCAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACvC;IACL,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW,CAAC,IAAY;QAE1B,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;QAE1B,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI;YACA,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAClC;gBACO;YACJ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;SAC1B;IACL,CAAC;IAED,0CAA0C;IAEhC,aAAa,CAAC,IAAY;QAEhC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,UAAU,GAAW,IAAI,CAAC;IAE1B,UAAU,GAAY,KAAK,CAAC;IAE5B,QAAQ,GAAY,KAAK,CAAC;IAE1B,YAAY,GAAW,GAAG,CAAC;CAC9B;AAED,wBAAY,CAAC,gCAAU,EAAE,YAAY,CAAC,CAAC;;;ACjIM;AACM;AACZ;AACmB;AACE;AAEK;AAOb;AACqB;AAC3B;AACF;AACU;AAEC;AAEvD,IAAY,+BAIX;AAJD,WAAY,eAAe;IACvB,yDAAU;IACV,qDAAQ;IACR,+DAAa;AACjB,CAAC,EAJW,+BAAe,KAAf,+BAAe,QAI1B;AAGD,IAAY,iCAIX;AAJD,WAAY,iBAAiB;IACzB,iEAAY;IACZ,6DAAU;IACV,yEAAgB;AACpB,CAAC,EAJW,iCAAiB,KAAjB,iCAAiB,QAI5B;AAiBD,0CAA0C;AAEnC,MAAM,0CAA+B,SAAQ,iBAAiB;IAEzD,UAAU,CAAY;IACtB,YAAY,CAAQ;IACpB,aAAa,CAAQ;IACrB,gBAAgB,GAAY,KAAK,CAAC;IAClC,OAAO,CAAqC;IAC5C,SAAS,GAAoB,+BAAe,CAAC,IAAI,CAAC;IAClD,eAAe,GAAG,KAAK,CAAC;IAEhC,0CAA0C;IAE1C,YAAY,MAA+C;QACvD,KAAK,CAAC;YACF,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,MAAM,CAAC,SAAS;YAChB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;QAEtC,IAAI,MAAM,CAAC,IAAI;YACX,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QAE5B,IAAI,MAAM,CAAC,QAAQ;YACf,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC;QAErC,IAAI,MAAM,CAAC,OAAO;YACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAElC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAE7B,IAAI,IAAI,CAAC,UAAU,EAAE,UAAU,IAAI,MAAM,IAAK,IAAI,CAAC,IAAuB,EAAE,SAAS;gBACjF,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,MAAM,CAAC;QAC5C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU,CAAC,MAAgB;QAE7B,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAEpC,OAAO,MAAM,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,aAAa;QAET,IAAI,CAAC,IAAI,CAAC,gBAAgB;YACtB,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;QAE/B,IAAI,IAAI,CAAC,qBAAqB,EAAE,aAAa;YACzC,OAAO,IAAI,CAAC,qBAAqB,EAAE,aAAa,CAAC,SAAS,CAAC,CAAC;QAEhE,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,MAA+B;QAEjD,IAAI,IAAI,CAAC,eAAe;YACpB,OAAO;QAEX,IAAI;YACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,IAAI,CAAC,qBAAqB,EAAE,eAAe;gBAC3C,MAAM,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SAChE;gBACO;YACJ,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;SAChC;IACL,CAAC;IAED,0CAA0C;IAE1C,YAAY;QAER,IAAI,IAAI,CAAC,qBAAqB;YAC1B,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QACnE,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,oBAAoB,CAAC,QAAoC;QAErD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,cAAc;QAEV,OAAO,IAAI,CAAC,UAAU,CAAC,cAAc,EAAS,CAAC;IACnD,CAAC;IAED,0CAA0C;IAEhC,sBAAsB,CAAC,KAAc;QAE3C,MAAM,QAAQ,GAAG,yBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC;QAEpF,OAAO,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,aAAa;QAEzB,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,qBAAqB;YAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;IAClE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,gBAAgB,CAAC,QAAoC,EAAE,KAAc;QAEvE,MAAM,gBAAgB,GAAG,IAAI,CAAC,qBAAqB,IAAI,QAAQ,CAAC;QAEhE,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAK;YAC3B,OAAO;QAEX,IAAI,gBAAgB,IAAI,IAAI,CAAC,qBAAqB,EAAE,eAAe;YAC/D,IAAI,CAAC,qBAAqB,EAAE,eAAe,CAAC,SAAS,CAAC,CAAC;QAE3D,IAAI,CAAC,qBAAqB,GAAG,QAAQ,CAAC;QAEtC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,WAAW,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ,CAAC,EAAE;YAC/F,OAAO,CAAC,KAAK,CAAC,wBAAwB,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YAC5D,OAAO;SACV;QAED,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,mBAAmB,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAC3F,IAAI;YACA,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAErD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,6CAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YAE3D,IAAI,OAAO,CAAC,GAAG;gBACX,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;YAE3B,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,sBAAW,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAClG,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;YAEhC,IAAI,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAE7D,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YAEhC,IAAI,IAAI,CAAC,aAAa;gBAClB,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAE/B,IAAI,WAAkB,CAAC;YAEvB,IAAI,OAAO,CAAC,OAAO,EAAE;gBAEjB,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAE7B,IAAI,MAAM,CAAC,QAAQ,IAAI,IAAI,IAAI,MAAM,CAAC,QAAQ,IAAI,4CAAwB;wBACtE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;yBAE1D,IAAI,MAAM,CAAC,QAAQ,IAAI,0CAAsB,EAAE;wBAChD,IAAI,OAAO,CAAC,UAAU,KAAK,SAAS,IAAI,OAAO,CAAC,UAAU,IAAI,iCAAiB,CAAC,MAAM,EAAE;4BACpF,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;4BAClC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,CAAC,UAAU,EAAE,GAAG,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;4BAC5G,IAAI,OAAO,CAAC,UAAU,IAAI,iCAAiB,CAAC,YAAY;gCACpD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;;gCAEpC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;yBAC9C;6BACI;4BAED,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;4BAEnC,MAAM,UAAU,GAAG,2CAAqB,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,cAAc,EAAE,CAAC,CAAC;4BAC/E,IAAI,CAAC,WAAW,EAAE;gCACd,WAAW,GAAG,IAAI,sBAAK,CAAC;oCACpB,IAAI,EAAE,SAAS;oCACf,MAAM,EAAE,CAAC,UAAU,EAAE,gBAAgB,CAAC;iCACzC,CAAC,CAAC;gCAEH,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;6BAC1C;4BAED,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;yBACnC;qBACJ;gBACL,CAAC,CAAC,CAAC;aACN;YAED,IAAI,OAAO,CAAC,WAAW,EAAE;gBAErB,MAAM,UAAU,GAAG,IAAI,gCAAU,CAAC;oBAC9B,IAAI,EAAE,iBAAiB;oBACvB,UAAU,EAAE,IAAI;oBAChB,WAAW,EAAE,OAAO,CAAC,WAAW;iBACnC,CAAC,CAAC;gBAEH,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aAC3C;YAED,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;YAElE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAE1D,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAEpC,IAAI,QAAQ,EAAE,aAAa;gBACvB,MAAM,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAE5C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;YAEhC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;QACD,OAAO,CAAC,EAAE;YAEN,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAC7B;gBACO;YACJ,EAAE,CAAC,GAAG,EAAE,CAAC;SACZ;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,IAAY;QAElB,OAAO,yBAAI,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,gCAAU,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAe,CAAC;IAChH,CAAC;IAED,0CAA0C;IAEhC,WAAW,CAAC,KAAa;QAC/B,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAEhC,WAAW;QAEjB,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,8BAAS,CAAC;gBAC9C,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBACzB,UAAU,EAAE,MAAM;gBAClB,cAAc,EAAE,IAAI,CAAC,IAAI;aAC5B,CAAC,CAAC,CAAC;SACP;aACI;YACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,8BAAS,CAAC;gBAC9C,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;gBAC/B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBACzB,UAAU,EAAG,IAAI,CAAC,IAAuB,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;aACxE,CAAC,CAAC,CAAC;SACP;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAE3B,IAAI,IAAI,CAAC,SAAS,IAAI,+BAAe,CAAC,MAAM,EAAE;gBAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;aAClF;iBACI;gBACD,IAAI,QAAgB,CAAC;gBACrB,IAAI,YAAoB,CAAC;gBACzB,IAAI,aAAuB,CAAC;gBAE5B,QAAQ,IAAI,CAAC,SAAS,EAAE;oBACpB,KAAK,+BAAe,CAAC,IAAI;wBACrB,QAAQ,GAAG,UAAU,CAAC;wBACtB,YAAY,GAAG,UAAU,CAAC;wBAC1B,aAAa,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC3B,MAAM;oBACV,KAAK,+BAAe,CAAC,SAAS;wBAC1B,QAAQ,GAAG,YAAY,CAAC;wBACxB,YAAY,GAAG,cAAc,CAAC;wBAC9B,aAAa,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC3B,MAAM;iBACb;gBAED,IAAI,CAAC,OAAO,GAAG,IAAI,wBAAM,CAAC;oBACtB,MAAM,EAAE,CAAM,QAAQ,CAAC;oBACvB,YAAY,EAAE,YAAY;oBAC1B,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC;oBAC5D,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC;oBACxC,aAAa,EAAE,aAAa;oBAC5B,KAAK,EAAE,yBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;wBACrC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI;wBACjB,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI;wBACjB,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW;wBACxB,OAAO,EAAE,CAAC;qBACb,CAAC,CAAC,CAAC,OAAO,EAAE;iBAChB,CAAC,CAAC;aACN;SACJ;QAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,IAAI,+BAAe,CAAC,IAAI;YACtD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,sBAAK,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAEhF,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,SAAS,IAAI,+BAAe,CAAC,SAAS;YAC3D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,sBAAK,CAAC,EAAE,IAAI,EAAE,oBAAoB,EAAE,QAAQ,EAAE,kBAAkB,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;QAE5J,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC;YAC1B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAEnD,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QAExB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAEhC,gBAAgB,CAAC,MAAe,EAAE,MAA0B;QAClE,OAAO,2CAAqB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;IAED,0CAA0C;IAEhC,gBAAgB,CAAC,UAAsC;IAEjE,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS,KAAK,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IAE3C,aAAa,GAAW,IAAI,CAAC;IAE7B,qBAAqB,GAA+B,IAAI,CAAC;IAEzD,SAAS,GAAiC,EAAE,CAAC;IAE7C,IAAI,GAAe,IAAI,CAAC;IAExB,OAAO,GAAiB,EAAE,CAAC;IAE3B,aAAa,GAAgB,CAAC,UAAU,EAAE,eAAe,EAAE,QAAQ,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAC;IAEjG,YAAY,GAAgB,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;CACtD;AAED,wBAAY,CAAC,0CAAe,EAAE,iBAAiB,CAAC,CAAC;;;ACnZiB;AACrB;AACc;AAGpD,MAAM,8BAAe;IAExB,KAAK,CAAC,cAAc,CAAC,SAAsC,EAAE,SAAiB;QAE1E,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC;QAC7B,MAAM,SAAS,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;QACpG,IAAI;YAEA,MAAM,KAAK,GAAG,MAAM,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAE1E,SAAS,CAAC,KAAK,EAAE,CAAC;YAElB,IAAI,KAAK;gBACL,MAAM,uBAAY,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SAEvE;gBACO;YACJ,SAAS,CAAC,GAAG,EAAE,CAAC;YAChB,SAAS,CAAC,MAAM,GAAG,QAAQ,CAAC;SAC/B;IACL,CAAC;IAED,MAAM,CAAU,QAAQ,GAAG,IAAI,8BAAe,EAAE,CAAC;;;;AC3BW;AAC/B;AAC2B;AAM5D,8CAA8C;AAEvC,MAAM,4BAAS,SAAQ,uBAAmB;IAE7C,YAAY,MAAwB;QAEhC,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAClD,CAAC;CACJ;AAED,wBAAY,CAAC,4BAAQ,EAAE,UAAU,CAAC,CAAC;;;AClBI;AACkC;AAEN;AAOF;AACP;AAGA;AACpB;AAEL;AACY;AAoC7C,0CAA0C;AAEnC,MAAM,4BAA2E,SAAQ,8BAAgB;IAElG,SAAS,GAAY,KAAK,CAAC;IAC3B,YAAY,GAAG,IAAI,GAAG,EAAgB,CAAC;IACvC,SAAS,CAAkC;IAErD,YAAY,MAA+C;QAEvD,KAAK,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,SAAS,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEhE,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAE1C,IAAI,MAAM,CAAC,aAAa,KAAK,SAAS;gBAClC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;YAE9C,IAAI,MAAM,CAAC,cAAc;gBACrB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,cAAc,CAAC;YAEpD,IAAI,MAAM,CAAC,MAAM;gBACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAExC,IAAI,MAAM,CAAC,MAAM;gBACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;SAC3C;QAED,IAAI,CAAC,MAAM,EAAE,KAAK;YACd,IAAI,CAAC,KAAK,GAAG,0CAAgB,EAAE,CAAC;QAEpC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW;YACrC,IAAI,CAAC,WAAW,GAAG,uCAAwB,CAAC;QAEhD,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU;YAC3B,IAAI,CAAC,SAAS,EAAE,CAAC;QAErB,MAAM,YAAY,GAAkC;YAEhD,OAAO,EAAE,GAAG,EAAE;gBACV,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACzB,CAAC;YAED,WAAW,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE;gBACjC,IAAI,MAAM,IAAI,SAAS;oBACnB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9D,CAAC;YAED,aAAa,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE;gBACnC,IAAI,MAAM,IAAI,QAAQ;oBAClB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;YACpC,CAAC;YAED,cAAc,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAElG,UAAU,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC;SACtE,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,EAAE;YAE9C,IAAI,SAAS,IAAI,IAAI;gBACjB,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAExC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YAErB,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC9B,KAAK,MAAM,IAAI,IAAI,KAAK;oBACpB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC/C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,CAAC;QAEnC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;YAEpD,IAAI,IAAI,CAAC,aAAa,IAAI,QAAQ;gBAC9B,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAE9C,IAAI,IAAI,CAAC,aAAa,IAAI,MAAM,EAAE;gBAC9B,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAEtC,IAAI,MAAM,EAAE,oBAAoB;oBAC5B,MAAM,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aAC1C;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,MAAM,EAAE,gBAAgB;YACxB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAChC,CAAC;IAED,0CAA0C;IAE1C,gBAAgB;QAEZ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ;YAC3B,OAAO;QAEX,IAAI,CAAC,IAAI,CAAC,SAAS;YAEf,IAAI,CAAC,SAAS,GAAG;gBAEb,WAAW,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;gBAExC,aAAa,EAAE,IAAI,CAAC,EAAE;oBAClB,IAAI,IAAI,CAAC,KAAK;wBACV,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC1G,CAAC;gBAED,aAAa,EAAE,KAAK,EAAC,IAAI,EAAC,EAAE;oBAExB,MAAM,KAAK,GAAG,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBACnH,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;wBACb,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBACvE,IAAI,OAAO;4BACP,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;qBACtC;gBACL,CAAC;aACJ,CAAC;QAEN,0EAA+B,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAC/E,CAAC;IAED,0CAA0C;IAE1C,kBAAkB;QAEd,IAAI,IAAI,CAAC,SAAS;YACd,8EAAiC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACrF,CAAC;IAED,0CAA0C;IAEhC,mBAAmB,CAAC,IAAW,EAAE,UAAmB;QAE1D,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAErC,IAAI,sBAAY,CAAC,IAAI,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;IACrC,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,IAAW;QAEpB,IAAI,CAAC,IAAI;YACL,OAAO,IAAI,CAAC;QAChB,OAAO,yBAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IAChG,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,IAAW;QAElB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,IAAW,EAAE,KAAc;QAE/B,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC/B,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAClC;aACI;YACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAC5B;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,SAAS;YACd,OAAO;QAEX,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,gCAAgC;IAC/D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAErC,IAAI,IAAI,CAAC,WAAW,EAAE;YAElB,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAEhD,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY;gBAClC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YAErC,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAEtB,IAAI,YAAY,IAAI,IAAI,CAAC,WAAW;YAChC,IAAI,CAAC,YAAY,GAAG,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC;;YAEhG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IACjC,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,QAAe;QAEnC,IAAI,QAAQ,EAAE;YAEV,IAAI,QAAQ,CAAC,UAAU,IAAI,IAAI;gBAC3B,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;YAE/B,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAE7C,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY;gBACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAE7B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAEnC,uBAAuB;YACvB;;iFAEqE;SACxE;IACL,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAE/C,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ,CAAC,IAAI,qBAAW,CAAC,QAAQ,CAAC,EAAE;YAChF,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,aAAa;SACtC;QAED,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YACtC,IAAI,sBAAY,CAAC,QAAQ,CAAC;gBACtB,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAC1C,IAAI,KAAK;wBACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACjC,CAAC,CAAC,CAAC;SACV;QAED,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAC,IAAW;QAEpC,MAAM,OAAO,GAAG,wCAAc,CAAC,uBAAW,CAAC,IAAI,CAAC,CAAC,CAAC;QAClD,IAAI,OAAO;YACP,OAAc,OAAO,CAAC,IAAI,CAAC,CAAC;QAEhC,OAAY,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACnH,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,IAAiB;QAEtB,IAAI,IAAI,CAAC,WAAW,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW;YACjD,IAAI,CAAC,WAA0C,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACxE,CAAC;IAED,0CAA0C;IAE1C,IAAI,UAAU,KAAK,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC,CAAC;IAE9C,IAAI,mBAAmB,KAAK,OAAO,IAAI,CAAC,WAAW,IAAI,UAAU,IAAI,IAAI,CAAC,WAAW,EAAC,CAAC;IAE9E,MAAM,GAA4B,0CAAgB,EAAE,CAAC;IAErD,MAAM,GAA2B,0CAAgB,EAAE,CAAC;IAE7D,WAAW,GAAqC,IAAI,CAAC;IAErD,WAAW,GAAiC,IAAI,CAAC;IAEjD,KAAK,GAA2B,IAAI,CAAC;IAErC,YAAY,GAAU,IAAI,CAAC;IAE3B,MAAM,GAAmB,EAAE,CAAC;IAE5B,aAAa,GAAkB,MAAM,CAAC;IAEtC,aAAa,GAAY,KAAK,CAAC;IAE/B,MAAM,GAAY,IAAI,CAAC;CAC1B;AAED,wBAAY,CAAC,4BAAQ,EAAE,UAAU,CAAC,CAAC;;;ACpX+C;AAalF,0CAA0C;AAEnC,MAAM,SAAI;IAEb,MAAM,CAAC,MAAM,CAAwB,OAA0C;QAE3E,IAAI,QAAQ,GAAQ,OAAO,CAAC,KAAK,CAAC;QAElC,IAAI,OAAO,QAAQ,IAAI,QAAQ;YAC3B,QAAQ,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;aAC/B,IAAI,OAAO,QAAQ,IAAI,QAAQ;YAChC,QAAQ,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC;aAC/B,IAAI,OAAO,QAAQ,IAAI,SAAS;YACjC,QAAQ,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;aAChC,IAAI,QAAQ,YAAY,IAAI;YAC7B,QAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;QAE5C,IAAI,OAAO,CAAC,IAAI,EAAE;YACd,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;YAC3C,IAAI,OAAO,CAAC,KAAK;gBACb,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;YACjD,IAAI,OAAO,CAAC,IAAI;gBACZ,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/C,IAAI,OAAO,CAAC,IAAI;gBACZ,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;SAClD;QAED,IAAI,QAAQ,EAAE;YAEV,IAAI,OAAO,CAAC,IAAI;gBACZ,QAAQ,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC;YAE3C,IAAI,OAAO,CAAC,IAAI;gBACZ,uBAAW,CAAC,QAAQ,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;YAExC,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS;gBAC1B,eAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;YAEzC,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE;gBACtB,IAAK,OAAO,CAAC,KAAa,EAAE,MAAM;oBAC9B,OAAQ,OAAO,CAAC,KAAa,CAAC,MAAM,EAAE,CAAC;gBAC3C,OAAO,OAAO,CAAC,KAAK,CAAC;YACzB,CAAC;SACJ;QAED,IAAI,QAAQ;YACR,OAAO,QAAQ,CAAC;QAEpB,OAAY,OAAO,CAAC,IAAI,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAO,CAAC,KAAU;QAErB,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,SAAS;YACnC,OAAO,EAAE,CAAC;QAEd,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,IAAI,KAAK,KAAK;YACd,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;QAE3B,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAO,CAAC,KAAU;QAErB,OAAO,uBAAW,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,QAAQ,CAAS,KAAU;QAE9B,IAAI,CAAC,KAAK;YACN,OAAO;QAEX,IAAI,KAAK,CAAC,OAAO;YACb,OAAe,KAAK,CAAC,OAAO,EAAE,CAAC;QAEnC,OAAe,KAAK,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAO,CAAQ,KAAU;QAC5B,IAAI,CAAC,KAAK;YACN,OAAO;QAEX,MAAM,IAAI,GAAG,eAAG,CAAQ,KAAK,EAAE,OAAO,CAAC,CAAC;QACxC,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC;QAEhB,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;;;AC5G6B;AAyB9B,0CAA0C;AAEnC,MAAM,6BAAW;IAEV,SAAS,CAAS;IAClB,UAAU,CAAU;IAE9B,YAAY,MAAmD;QAE3D,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,aAAa;gBACpB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;YAE9C,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS;gBAC9B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;YAEvC,IAAI,MAAM,CAAC,YAAY;gBAEnB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE;oBAEhC,IAAI,QAAQ,KAAK,KAAK;wBAClB,OAAO,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oBAElC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAQ,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;wBAC3C,OAAO,SAAS,CAAC;oBACrB,MAAM,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,KAAK,KAAK,IAAI;wBACd,OAAO,IAAI,CAAC;oBAChB,OAAO,gBAAW,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;gBAClG,CAAC;YAEL,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAE1C,IAAI,MAAM,CAAC,SAAS;gBAChB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;YAEtC,IAAI,MAAM,CAAC,mBAAmB,EAAE;gBAE5B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,EAAE;oBAE/B,MAAM,IAAI,GAAG,iBAAY,CAAQ,KAAK,CAAC,CAAC;oBAExC,IAAI,IAAI;wBACJ,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAEjC,OAAO,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAC7C,CAAC,CAAC;aACL;YAED,IAAI,MAAM,CAAC,MAAM;gBACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAEhC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC;YAEjC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;SACzC;IACL,CAAC;IAED,0CAA0C;IAE1C,aAAa,CAAC,MAAgB;QAE1B,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,IAAW;QAEnB,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,IAAW,EAAE,QAAkB;QACxC,OAAY,IAAI,CAAC;IACrB,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,IAAa,EAAE,MAAe,EAAE,QAAiB;QAEvD,OAAgB,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU,CAAC,MAAe;QAE5B,OAAO,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;IACrD,CAAC;IAED,0CAA0C;IAE1C,mBAAmB,CAAC,KAAa;QAE7B,MAAM,IAAI,GAAG,iBAAY,CAAQ,KAAK,CAAC,CAAC;QAExC,IAAI,IAAI;YACJ,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAEjC,OAAO,OAAO,CAAC,OAAO,CAAC,KAAyB,CAAC,CAAC;IACtD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,CAAS,EAAE,CAAS;QAEvB,IAAI,CAAC,IAAI,CAAC;YACN,OAAO,IAAI,CAAC;QAChB,IAAI,CAAC,IAAI,SAAS,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,SAAS,IAAI,CAAC,CAAC,OAAO;YAC1D,OAAO,CAAC,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACtC,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,IAAI,YAAY;QAEZ,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7E,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAc;CAC5B;;;ACvKiE;AACrB;AACoB;AAWjE,0CAA0C;AAEnC,MAAM,uCAAgD,SAAQ,wCAAc;IAEvE,aAAa,GAAY,IAAI,CAAC;IAC9B,UAAU,CAAkC;IAEpD,YAAY,MAA+C;QAEvD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,SAAS;gBAChB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;SACzC;IACL,CAAC;IAED,0CAA0C;IAE1C,cAAc,CAAC,SAA0C,EAAE,SAAiB;QAExE,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAE5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAExB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,iBAAiB;QAEnB,IAAI,CAAC,IAAI,CAAC,eAAe;YACrB,OAAO;QAGX,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE;YAE7B,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEzE,MAAM,SAAS,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;YAEvI,IAAI;gBAEA,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,SAAS,CAAC;gBAEnC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE,GAAG,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;gBAE3G,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC;oBACjC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;qBAC1B;oBAED,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CACpB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;oBAEnC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC;iBACzD;aACJ;oBACO;gBACJ,SAAS,CAAC,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,QAAQ,CAAC;aACrC;SAEJ;IACL,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,IAAiB;QACtB,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,eAAe;YAC3C,IAAI,CAAC,iBAAiB,EAAE,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAc,EAAE,QAAgB;QAEtC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,CAAC,EAAE,CAAC;IAChH,CAAC;IAED,0CAA0C;IAE1C,IAAc,eAAe;QACzB,OAAO,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,SAAS,CAAC;IACrE,CAAC;IAED,0CAA0C;IAE1C,QAAQ,GAAW,EAAE,CAAC;IAEb,mBAAmB,GAAG,IAAI,CAAC;CAGvC;;;AC9GkD;AAES;AAER;AACM;AACS;AACb;AACH;AACU;AACN;AAuBvD,0CAA0C;AAEnC,MAAM,6BAA8D,SAAQ,iBAAiB;IAEtF,UAAU,CAAY;IACtB,SAAS,CAA6B;IACtC,WAAW,CAAa;IACxB,UAAU,CAAe;IACzB,UAAU,CAAU;IAE9B,YAAY,MAAgD;QACxD,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,cAAc;gBACrB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;YAEhD,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,WAAW,CAAC;YAG9C,IAAI,MAAM,CAAC,KAAK;gBACZ,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;YAEnC,IAAI,MAAM,CAAC,UAAU;gBACjB,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/D;IAEL,CAAC;IAED,0CAA0C;IAE1C,YAAY;QAER,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IACzC,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,WAAW;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,8BAAS,CAAC;YAC9C,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;YAC/B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACzB,UAAU,EAAE,MAAM;SACrB,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,WAAW,GAAG,IAAI,gCAAU,CAAC;YAC9B,IAAI,EAAE,iBAAiB;YACvB,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;YAC7B,UAAU,EAAE,IAAI;YAChB,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;YACnC,WAAW,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;SACrD,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,GAAG,IAAI,oCAAY,CAAC;YAC/B,MAAM,EAAE,CAAC,YAAY,CAAC;YACtB,OAAO,EAAE,KAAK;SACjB,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,4BAAQ,CAAC;YAC5C,IAAI,EAAE,SAAS;YACf,MAAM,EAAE,IAAI,CAAC,UAAU;YACvB,QAAQ,EAAE,gBAAgB;YAC1B,MAAM,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC;YACzB,WAAW,EAAE,IAAI,6BAAW,CAAC;gBACzB,aAAa,EAAE,KAAK,IAAI,EAAE;oBACtB,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;oBACnC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;oBACrD,IAAI,CAAC,UAAU;wBACX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;oBAC/C,OAAO,KAAK,CAAC;gBACjB,CAAC;aACJ,CAAC;YACF,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,uCAAgB,CAAC;gBAC9C,SAAS,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,QAAQ,CAAC;gBAClF,QAAQ,EAAE,IAAI,CAAC,QAAQ;aAC1B,CAAC,CAAC,CAAC,CAAC,SAAS;YACd,cAAc,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;YACjD,GAAG,IAAI,CAAC,iBAAiB,EAAE;SAC9B,CAAC,CAAC,CAAC;QAIJ,UAAU,CAAC,GAAG,EAAE,CACZ,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,EAAE,GAAG,CAAC,CAAC;QAE3C,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,0CAA0C;IAEhC,UAAU,CAAC,QAAiB,EAAE,UAAkB;QAEtD,IAAI,CAAC,QAAQ,EAAE;YAEX,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;YAE/B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBAClB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,mBAAmB,CAAC;gBAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE,CAAC;aAC7B;iBACI;gBAED,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,gBAAgB,CAAC;gBACxC,IAAI,IAAI,CAAC,cAAc;oBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,2CAAW,CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;aAC3E;SACJ;;YAEG,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;IACxC,CAAC;IAED,0CAA0C;IAEhC,iBAAiB;QAEvB,OAA+C,EAAE,CAAC;IACtD,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAChC,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAEhC,eAAe,CAAC,KAAa,EAAE,MAAe,EAAE,QAAiB;QACvE,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAEhC,SAAS,CAAC,KAAa,EAAE,MAAe,EAAE,QAAiB;QACjE,OAAO,EAAE;IACb,CAAC;IAED,0CAA0C;IAE1C,UAAU,GAAW,IAAI,CAAC;IAE1B,OAAO,GAAW,IAAI,CAAC;IAEvB,QAAQ,GAAW,CAAC,CAAC;IAErB,UAAU,GAAgB,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAE5D,SAAS,CAAe;IAExB,cAAc,GAAgB,IAAI,CAAC;CACtC;AAED,wBAAY,CAAC,6BAAc,EAAE,gBAAgB,CAAC,CAAC;;;ACnMY;AAIK;AAC7B;AACyB;AAiB5D,8CAA8C;AAEvC,MAAM,kCAA4C,SAAQ,uBAAqB;IAExE,QAAQ,CAAc;IACtB,OAAO,GAAW,EAAE,CAAC;IACvB,YAAY,GAAG,CAAC,CAAC;IAEzB,8CAA8C;IAE9C,YAAY,MAAqC;QAC7C,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IAC5C,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAExB,MAAM,MAAM,GAAG,IAAI,gBAAM,CAAC,OAAO,EAAE;YAC/B,WAAW,EAAE,CAAC,CAAC,oBAAU,EAAE,EAAE,SAAS,EAAE,mCAAyB,EAAE,CAAC,CAAC;SACxE,CAAC,CAAC;QAEH,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;QAC5B,IAAI,cAAc,GAAG,CAAC,CAAC;QAEvB,MAAM,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE;YAEvB,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;YACxB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YAEvB,cAAc,GAAG,OAAO,CAAC,SAAS,CAAC;YACnC,WAAW,GAAG,OAAO,CAAC,YAAY,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,EAAE;YAErB,IAAI,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO;gBACrD,IAAI,CAAC,KAAK,EAAE,CAAC;iBACZ;gBAED,IAAI,SAAS,IAAI,MAAM,EAAE;oBACrB,IAAI,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,CAAC;wBACxD,IAAI,CAAC,IAAI,EAAE,CAAC;;wBAEZ,IAAI,CAAC,IAAI,EAAE,CAAC;iBACnB;qBACI;oBACD,IAAI,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO;wBACrD,IAAI,CAAC,IAAI,EAAE,CAAC;;wBAEZ,IAAI,CAAC,IAAI,EAAE,CAAC;iBACnB;aACJ;QACL,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,EAAE;YAEtB,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;YAEvB,uBAAuB;YAEvB,IAAI,SAAS,IAAI,MAAM,EAAE;gBACrB,MAAM,YAAY,GAAG,cAAc,GAAG,MAAM,CAAC;gBAC7C,IAAI,MAAM,GAAG,CAAC,EAAE;oBACZ,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC;oBACvC,OAAO;iBACV;qBACI;oBAED,IAAI,YAAY,IAAI,CAAC,EAAE;wBACnB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC;wBACvC,OAAO;qBACV;oBACD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;oBAC5B,MAAM,GAAG,CAAC,YAAY,CAAC;iBAC1B;aACJ;YAED,oBAAoB;YAEpB,IAAI,SAAS,GAAG,WAAW,GAAG,MAAM,CAAC;YACrC,MAAM,SAAS,GAAG,SAAS,CAAC;YAC5B,IAAI,eAAe,GAAG,KAAK,CAAC;YAE5B,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO;gBACxB,SAAS,GAAG,CAAC,CAAC;iBAEb,IAAI,SAAS,GAAI,OAAO,CAAC,UAA0B,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;gBAC5H,SAAS,GAAI,OAAO,CAAC,UAA0B,CAAC,YAAY,CAAC;gBAC7D,eAAe,GAAG,IAAI,CAAC;aAC1B;iBAEI,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY;gBAC3C,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;iBAEtC,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO;gBAC7F,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;YAEhC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC;YAExC,sBAAsB;YAEtB,IAAI,SAAS,GAAG,SAAS,GAAG,CAAC,IAAI,eAAe;gBAC5C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC;;gBAEhD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,QAAQ,IAAI,CAAC,MAAM,EAAE;YACjB,KAAK,MAAM;gBACP,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,MAAM;gBACP,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,MAAM;YACV,KAAK,OAAO;gBACR,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,MAAM;SACb;IACL,CAAC;IAGD,8CAA8C;IAEpC,KAAK,CAAC,cAAc,CAAC,KAAa;QAExC,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAE3C,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;QAErD,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QAEtB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAED,8CAA8C;IAE9C,MAAM;QAEF,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO;YAC/C,IAAI,CAAC,IAAI,EAAE,CAAC;;YAEZ,IAAI,CAAC,IAAI,EAAE,CAAC;IACpB,CAAC;IAED,8CAA8C;IAE9C,IAAI;QAEA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IACxD,CAAC;IAED,8CAA8C;IAE9C,IAAI;QAEA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,IAAI,CAAC,QAAQ,EAAE;YAEf,IAAI,IAAI,CAAC,YAAY,EAAE;gBAEnB,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC9D,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC;oBACtC,IAAI,IAAI,CAAC,YAAY;wBACjB,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC;iBAC9E;aACJ;YAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACxC;IACL,CAAC;IAGD,8CAA8C;IAE9C,KAAK;QAED,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QAEtB,IAAI,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAE9C,YAAY,GAAY,KAAK,CAAC;IAE9B,UAAU,GAAW,GAAG,CAAC;IAEzB,YAAY,GAAW,IAAI,CAAC;IAE5B,MAAM,GAAsB,OAAO,CAAC;CACvC;AAED,wBAAY,CAAC,kCAAW,EAAE,aAAa,CAAC,CAAC;;;AC/OkB;AAEK;AACtB;AACkB;AAS5D,0CAA0C;AAEnC,MAAM,8CAAoD,SAAQ,uBAAkB;IAEvF,YAAY,MAA+C;QACvD,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,WAAW,CAAC;SACjD;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QAEb,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QACxB,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QACtB,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;IACjC,CAAC;IAED,0CAA0C;IAEhC,eAAe;QAErB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,IAAI,GAAU,IAAI,CAAC;CACtB;AAED,wBAAY,CAAC,8CAAiB,EAAE,mBAAmB,CAAC,CAAC;;;AClDO;AAGI;AACrB;AAS3C,0CAA0C;AAEnC,MAAM,gDAAoC,SAAQ,uBAAqB;IAC1E,YAAY,MAAmD;QAE3D,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAEF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAEF,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAED,0CAA0C;IAE1C,UAAU,GAAY,KAAK,CAAC;IAE5B,IAAI,GAAU,IAAI,CAAC;CACtB;AAED,wBAAY,CAAC,gDAAkB,EAAE,oBAAoB,CAAC,CAAC;;;AC9CmB;AAGV;AAC9B;AAC0B;AAW5D,8CAA8C;AAEvC,MAAM,8BAA0B,SAAQ,uBAAqB;IAEtD,QAAQ,CAAiB;IAEnC,YAAY,MAAmC;QAC3C,KAAK,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;IAC/D,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,QAAQ,GAAmB,OAAO,CAAC;QAExC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;YACrE,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;IACL,CAAC;IAED,8CAA8C;IAE9C,aAAa;QACT,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACvB,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;YAChE,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;gBAC9D,IAAI,CAAC,IAAI,CAAC,UAAU;oBAChB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aAC9B;SACJ;IACL,CAAC;IAED,8CAA8C;IAEpC,gBAAgB;IAE1B,CAAC;IAED,8CAA8C;IAE9C,YAAY;QACR,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAED,8CAA8C;IAE9C,KAAK,GAAW,EAAE,CAAC;IAEnB,UAAU,GAAY,IAAI,CAAC;IAE3B,SAAS,GAAY,KAAK,CAAC;IAE3B,UAAU,GAAY,IAAI,CAAC;CAC9B;AAGD,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;ACnF6B;AACQ;AACT;AAUb;AACD;AAyBnD,0CAA0C;AAEnC,MAAM,+BAA8B,SAAQ,wCAAc;IAErD,KAAK,CAAmB;IAEhC,YAAY,MAA4C;QACpD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAE/B,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE/D,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,aAAa;gBACpB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;SACjD;IACL,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAsB;QAExC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7C,MAAM,SAAS,GAAG,IAAI,8BAAS,CAAC;YAC5B,IAAI,EAAE,kBAAkB;YACxB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;SAC5B,CAAC,CAAC;QAEH,IAAI,qBAAW,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB,UAAU,CAAC,GAAG,EAAE,CAAE,IAAI,CAAC,MAAgC,CAAC,aAAa,EAAE,EAAE,GAAG,CAAC,CAAC;QAElF,MAAM,OAAO,GAAc,EAAE,CAAC;QAE9B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CACxC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;SACzB;aACI;YACD,OAAO,CAAC,IAAI,CAAC;gBACT,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,aAAa;gBACnB,WAAW,EAAE,IAAI,CAAC,SAAS;gBAC3B,SAAS,EAAE,2CAAoB;gBAC/B,QAAQ,EAAE,IAAI,CAAC,YAAY;gBAC3B,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE;aACvC,CAAC,CAAC;SACN;QAED,OAAO;YACH,KAAK,EAAE,CAAC,SAAS,CAAC;YAClB,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC;YACtC,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,GAAG,EAAE,IAAI,CAAC,GAAG;SACA,CAAC;IACtB,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,aAAa,CAAC,IAAW;QAErC,OAAO,IAAwB,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,qCAAqC;QACrC,0CAA0C;QAE1C,IAAI,IAAI,CAAC,YAAY,EAAE;YAEnB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO;gBACpB,OAAO;SACd;aACI;YAED,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC;gBACpC,OAAO;SACd;QAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAE3D,IAAI,MAAM,IAAI,IAAI;YACd,OAAO;QAEX,MAAM,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAA8B,IAAI,CAAC;IAEzC,KAAK,GAAW,IAAI,CAAC;IAErB,GAAG,GAAW,IAAI,CAAC;IAEnB,KAAK,GAAU,IAAI,CAAC;IAEpB,SAAS,GAAW,MAAM,CAAC;IAE3B,YAAY,GAAY,KAAK,CAAC;IAE9B,YAAY,GAAmB,IAAI,CAAC;IAEpC,OAAO,GAAc,EAAE,CAAC;IAExB,MAAM,GAAgB,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;IAE7D,IAAI,GAAG;QACZ,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,aAAa;QACnB,WAAW,EAAE,MAAM;KACF,CAAC;CACzB;;;AC5K2D;AAEI;AAMhE,8CAA8C;AAEvC,MAAM,0BAAQ,SAAQ,uBAAmB;IAE5C,YAAY,MAAuB;QAE/B,KAAK,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAyB;QAC5B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC;IACxC,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAS;CAClB;AAGD,wBAAY,CAAC,0BAAO,EAAE,SAAS,CAAC,CAAC;;;AC7BO;AACW;AACN;AACe;AAEjB;AACP;AAMpC,0CAA0C;AAEnC,MAAM,eAAQ,SAAQ,SAAa;IAEtC,YAAY,MAAuB;QAE/B,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,IAAI,GAAG,IAAI,0BAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,0CAA0C;IAEhC,SAAS;QACf,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,6CAAY,CAAC,yDAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,+CAAe,CAAC,CAAC,CAAC;IACpF,CAAC;IAED,0CAA0C;IAEhC,aAAa;QAEnB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,IAAI,UAAU;YACvE,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAE7B,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YAE5B,SAAS,MAAM,CAAC,EAAS;gBACrB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACrD,GAAG,EAAE,CAAC;YACV,CAAC;YAED,SAAS,OAAO,CAAC,EAAS;gBACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBACvD,GAAG,EAAE,CAAC;YACV,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,YAAY;QAER,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;YACjB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;QAE7B,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YAE5B,SAAS,MAAM,CAAC,EAAS;gBACrB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACrD,GAAG,EAAE,CAAC;YACV,CAAC;YAED,SAAS,OAAO,CAAC,EAAS;gBACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBACvD,GAAG,EAAE,CAAC;YACV,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAEpD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAChD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU;QAEZ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QAEzB,IAAI,aAAa,IAAI,IAAI,CAAC,IAAI;YAC1B,MAAO,IAAI,CAAC,IAAuB,CAAC,WAAW,EAAE,CAAC;QAEtD,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ;AAGD,wBAAY,CAAC,eAAO,EAAE,SAAS,CAAC,CAAC;;;AChGO;AACoB;AACD;AACQ;AAExB;AAM3C,0CAA0C;AAEnC,MAAe,iCAAiB,SAAQ,oBAAI;IAErC,UAAU,CAAc;IAExB,YAAY,CAA0B;IAEtC,UAAU,GAAG,KAAK,CAAC;IAE7B,0CAA0C;IAE1C,YAAY,MAAgC;QAExC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,UAAU;YACf,OAAO;QAEX,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAEtB,uCAAgC,CAAC,IAAI,CAAC,CAAC;QAExC,MAAM,OAAO,GAAG,IAAI,0CAAe,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAE3D,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAExC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE3C,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAEzC,OAAO,IAAI,OAAO,CAAS,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;IAC/D,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAC,UAAkB;QAEnB,IAAI,CAAC,IAAI,CAAC,UAAU;YAChB,OAAO;QAEX,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAEvB,iDAAqC,EAAE,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAE5C,IAAI,IAAI,CAAC,YAAY,EAAE;YAEnB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;QAED,UAAU,CAAC,GAAG,EAAE;YAEZ,IAAI,CAAC,IAAI,CAAC,UAAU;gBAChB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnD,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,0CAA0C;IAE1C,SAAS,GAAW,IAAI,CAAC;CAC5B;AAGD,wBAAY,CAAC,iCAAgB,EAAE,kBAAkB,CAAC,CAAC;;;ACxFgB;AAEF;AAIvB;AACqC;AAC/C;AACK;AACuB;AACT;AAanD,0CAA0C;AAEnC,MAAM,oCAA4B,SAAQ,iCAAgB;IAEnD,cAAc,CAA2B;IAEnD,YAAY,MAA4B;QAEpC,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,SAAS,EAAE,gBAAgB,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5E,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,WAAW;QAEvB,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAErE,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,SAAS,CAAC;gBACX,IAAI,EAAE,OAAO;gBACb,IAAI,EAAE,cAAc;gBACpB,WAAW,EAAE,IAAI,CAAC,UAAU;gBAC5B,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;aACxC,CAAC,CAAC;SACN;QAED,IAAI,WAAW,CAAC,OAAO;YACnB,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK;YAChC,IAAI,CAAC,KAAK,GAAG,6CAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEjD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAEjC,IAAI,WAAW,CAAC,KAAK;YACjB,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhE,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC;IAC5E,CAAC;IAED,0CAA0C;IAE1C,IAAI,MAAM;QACN,OAAO,IAAI,OAAO,CAAU,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC;IAClE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAEzB,MAAM,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;QAEnC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,aAAa;QAE/B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,oBAAoB,CAAC,QAA8B;QAE/C,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,MAAY;QAEnB,IAAI,IAAI,CAAC,cAAc;YACnB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAEd,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QAErB,MAAM,UAAU,GAAG,2CAAqB,CAAC,MAAM,CAAC,CAAC;QAEjD,IAAI,MAAM,CAAC,QAAQ,IAAI,2CAAuB,EAAE;YAC5C,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAClC,UAAU,CAAC,WAAW,EAAE,CAAC;SAC5B;QAED,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAE7B,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,eAAe,GAAyB,IAAI,CAAC;IAEpC,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAE1D,WAAW,GAAG,IAAI,sBAAK,EAAE,CAAC;IAEnC,KAAK,GAAW,IAAI,CAAC;IAErB,YAAY,GAAgB,CAAC,UAAU,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;IAElE,UAAU,GAAY,QAAQ,CAAC;CAClC;AAGD,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;AChJQ;AACuB;AACd;AACK;AAKP;AAC2B;AAWrF,8CAA8C;AAEvC,MAAM,+BAAkC,SAAQ,wCAAc;IAEjE,YAAY,MAAyC;QAEjD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAEhE,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE/D,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,eAAe;gBACtB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;SACrD;QAED,IAAI,CAAC,IAAI,CAAC,UAAU;YAChB,IAAI,CAAC,UAAU,GAAG,+CAAa,CAAC,QAAQ,CAAC,CAAC;QAE9C,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,IAAI,CAAC,SAAS,GAAG,+CAAa,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS,CAAC,KAAY,EAAE,QAAiD;QAE3E,MAAM,KAAK,GAAG,IAAI,oCAAY,CAAQ;YAClC,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,eAAe,EAAE,IAAI,+BAAe,CAAe;gBAC/C,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,YAAY,EAAE,IAAI,CAAC,YAAY;gBAC/B,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,aAAa,EAAE,KAAK,EAAC,IAAI,EAAC,EAAE;oBACxB,IAAI,QAAQ,EAAE;wBACV,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;wBACvC,IAAI,SAAS,IAAI,IAAI;4BACjB,OAAO,IAAI,CAAC;qBACnB;oBACD,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC5C,CAAC;aACJ,CAAC;YACF,UAAU,EAAE,IAAI,CAAC,UAAU;SAC9B,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,MAAM,CAAC;QAEtD,IAAI,CAAC,MAAM;YACP,OAAO,IAAI,CAAC;QAEhB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,eAAe,CAAC,IAAW;QACjC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAwB,CAAC,CAAC;IACrD,CAAC;IAED,8CAA8C;IAE9C,MAAM,GAA8B,IAAI,CAAC;IAEzC,KAAK,GAAW,MAAM,CAAC;IAEvB,SAAS,GAAY,IAAI,CAAC;IAE1B,OAAO,GAAe,EAAE,CAAC;IAEzB,YAAY,GAAmB,IAAI,CAAC;IAEpC,UAAU,GAAW,IAAI,CAAC;IAE1B,YAAY,GAAY,KAAK,CAAC;IAE9B,MAAM,GAAgB,EAAE,CAAC;IAEzB,IAAI,GAAW,IAAI,CAAC;CACvB;AAED,wBAAY,CAAC,+BAAW,EAAE,aAAa,CAAC,CAAC;;;ACxHgB;AACgB;AACd;AAIuB;AAC9B;AAqBpD,8CAA8C;AAEvC,MAAe,qBAAmC,SAAQ,2BAAa;IAEhE,eAAe,GAAY,KAAK,CAAC;IACjC,UAAU,GAAW,CAAC,CAAC;IACvB,SAAS,CAA4B;IACrC,UAAU,GAAU,IAAI,CAAC;IAEnC,8CAA8C;IAE9C,YAAY,MAAyC;QAEjD,KAAK,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAErB,gDAAgD;QAChD,uBAAa,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAEjC,IAAI,CAAC,SAAS,GAAG,MAAM,EAAE,QAAQ,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAE1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE,CACxC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAEpD,IAAI,MAAM,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC;YAChD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;SACjD;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,8CAA8C;IAEpC,SAAS;QACf,IAAI,CAAC,GAAG,GAAG,qBAAU,CAAC,8BAAY,CAAC,IAAI,CAAC,IAAI,IAAI,uBAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACxE,CAAC;IAED,8CAA8C;IAEpC,mBAAmB;QAEzB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;IAC/E,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,2BAA2B;QAEvC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAE5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAElB,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU;gBAC7B,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;;gBAEzB,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;SAClC;IACL,CAAC;IAED,8CAA8C;IAEpC,cAAc,CAAC,KAAa,EAAE,QAAiB;QAErD,IAAI,IAAI,CAAC,MAAM,IAAI,WAAW;YAC1B,OAAO;QAEX,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAE9C,KAAK;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS;QAEX,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,EAAE,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAE1E,IAAI;YAEA,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;gBACrB,OAAO;YAEX,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YAExB,IAAI;gBAEA,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;aAC9B;oBACO;gBAEJ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;SACJ;gBACO;YACJ,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;IACL,CAAC;IAED,8CAA8C;IAE9C,UAAU;QACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8CAA8C;IAEpC,aAAa;QAEnB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,cAAc,CAAC,KAAa;QAE9B,IAAI,IAAI,CAAC,UAAU;YACf,OAAO;QAEX,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI;YAEA,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;gBACrB,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;YAE3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YAEnB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAEzC,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAErC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;gBACO;YACJ,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;IACL,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAa;QAC/B,OAAY,KAAK,CAAC;IACtB,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAY;QAC9B,OAAY,KAAK,CAAC;IACtB,CAAC;IAED,8CAA8C;IAEpC,kBAAkB,CAAC,KAAa;QAEtC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,aAAa,CAAC,KAAe;QAG/B,OAAO,CAAC,KAAK,CAAC,oBAAoB,GAAG,IAAI,CAAC,SAAS,EAAE,qBAAqB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAElG,IAAI;YAEA,IAAI,IAAI,CAAC,UAAU;gBACf,OAAO,SAAS,CAAC;YAErB,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,cAAc,IAAI,WAAW,IAAI,CAAC,KAAK;gBACrE,OAAO,IAAI,CAAC,OAAO,CAAC;YAExB,IAAI,CAAC,UAAU,EAAE,CAAC;YAElB,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAE7D,IAAI,gBAAgB,KAAK,SAAS,EAAE;gBAEhC,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC;gBAChC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;aAChC;YAED,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAEnE,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;gBACO;YACJ,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;IAEL,CAAC;IAED,8CAA8C;IAEpC,iBAAiB,CAAC,KAAe;QAEvC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,WAAW,CAAC,KAAe;QAE7B,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACxG,IAAI;YAEA,IAAI,IAAI,CAAC,UAAU;gBACf,OAAO,KAAK,CAAC;YAEjB,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,IAAI,QAAQ,IAAI,CAAC,IAAI,CAAC,OAAO;gBACtD,OAAO,IAAI,CAAC;YAEhB,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ;gBACvB,OAAO,IAAI,CAAC,MAAM,IAAI,WAAW,CAAC;YAEtC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;YAE1B,IAAI;gBACA,IAAI,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;oBAChC,OAAO,KAAK,CAAC;gBAEjB,IAAI,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;oBAClC,OAAO,KAAK,CAAC;gBAEjB,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAClD,IAAI,QAAQ,KAAK,SAAS;oBACtB,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;gBAE1B,IAAI,IAAI,CAAC,SAAS;oBACd,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAEzB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBAErB,OAAO,IAAI,CAAC;aACf;oBACO;gBACJ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;SACJ;gBACO;YACJ,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;IACL,CAAC;IAED,8CAA8C;IAE9C,aAAa;QACT,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,eAAe,CAAC,KAAe;QAErC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,8CAA8C;IAE9C,QAAQ;QAEJ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,8CAA8C;IAE9C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,IAAI,SAAS,CAAC,KAAY;QACtB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,OAAO,GAAY,IAAI;IAEvB,MAAM,GAAiB,MAAM,CAAC;IAE9B,UAAU,GAAqB,UAAU,CAAC;IAE1C,cAAc,GAAmB,WAAW,CAAC;IAE7C,SAAS,GAAY,IAAI,CAAC;IAE1B,YAAY,GAAW,IAAI,CAAC;IAE5B,KAAK,GAAW,IAAI,CAAC;IAErB,QAAQ,GAAY,KAAK,CAAC;IAE1B,OAAO,GAAY,KAAK,CAAC;IAEzB,GAAG,GAAW,IAAI,CAAC;IAEnB,KAAK,GAAW,IAAI,CAAC;CACxB;AAED,wBAAY,CAAC,qBAAU,EAAE,YAAY,CAAC,CAAC;;;ACtWA;AACmC;AAGP;AAGN;AACD;AAChB;AAC0B;AAG3B;AACN;AAkBrC,0CAA0C;AAEnC,MAAM,6CAAkC,SAAQ,qBAAkB;IAE7D,YAAY,CAAU;IAE9B,YAAY,MAAiD;QAEzD,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAE7C,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE9D,IAAI,MAAM,EAAE,cAAc;YACtB,IAAI,CAAC,kBAAkB,GAAG,MAAM,EAAE,cAAc,CAAC;QAErD,IAAI,MAAM,EAAE,KAAK,EAAE;YAEf,IAAI,IAAI,CAAC,SAAS;gBACd,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;YAE3C,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;SAC1B;QAED,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;YAE1D,IAAI,IAAI,CAAC,YAAY;gBACjB,OAAO;YAEX,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC;gBACvC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACtC,OAAO;aACV;YAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI;gBACA,IAAI,QAAQ;oBACR,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;gBAEhC,IAAI,KAAK;oBACL,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;gBAE5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBAE/C,IAAI,IAAI,CAAC,WAAW;oBAChB,IAAI,CAAC,gBAAgB,GAAG,KAAK,EAAE,OAAO,IAAI,EAAE,CAAC;gBAEjD,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;oBACxB,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;aAEhD;oBACO;gBACJ,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC7B;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAEzC,IAAI,KAAK,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;gBACvB,OAAO;aACV;YAED,IAAI,CAAC,YAAY,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAE/D,IAAI,IAAI,CAAC,OAAO,EAAE,OAAO,IAAI,QAAQ;gBAChC,IAAI,CAAC,OAA6B,CAAC,aAAa,GAAG,KAAK,CAAC;QAClE,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,OAAO,CAAC,OAAO,IAAI,QAAQ,EAAE;YAE5B,IAAI,CAAC,OAA6B,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YAEvE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAClC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,GAAI,OAA6B,CAAC,aAAa,CAAC,CAAC;SAChF;IACL,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,WAAW;QACb,MAAM,MAAM,GAAG,IAAI,+BAAW,CAAC;YAE3B,MAAM,EAAE,IAAI,6CAAkB,CAAC;gBAC3B,QAAQ,EAAE,kBAAkB;gBAC5B,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,SAAS,EAAE,KAAK;gBAChB,MAAM,EAAE,CAAC,oBAAoB,CAAC;aACjC,CAAC;YACF,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,QAAQ;YACnB,UAAU,EAAE,QAAQ;YACpB,KAAK,EAAE,gBAAgB;YACvB,MAAM,EAAE,CAAC,EAAE,CAAC;SACf,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QACjD,IAAI,MAAM,KAAK,IAAI;YACf,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;IAChC,CAAC;IAED,8CAA8C;IAE9C,eAAe,CAAC,KAAa;QAEzB,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QAC/E,OAAO,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS,CAAC,KAAa;QAEvB,IAAI,IAAI,CAAC,SAAS,IAAI,KAAK;YACvB,OAAO;QAEX,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS;YAC/B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;YAElC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,IAAI,SAAS;QAET,OAAO,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC;IACnC,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,aAAa;QAEzB,IAAI,IAAI,CAAC,WAAW,EAAE;YAElB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YAEnB,IAAI,IAAI,CAAC,SAAS;gBACd,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;YAE3C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC;YACjF,IAAI,KAAK;gBACL,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,eAAe;QAErB,MAAM,MAAM,GAAG,IAAI,gDAAkB,CAAC;YAClC,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,IAAI,CAAC,SAAS,IAAI,EAAE;YAC7B,QAAQ,EAAE,IAAI,CAAC,YAAY;YAC3B,MAAM,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;SACjC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAExC,IAAI,KAAK;gBACL,IAAI,CAAC,YAAY,GAAG,IAAI;QAChC,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAC,IAAW;QAEpC,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO,IAAI,gDAAkB,CAAC;gBAC1B,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC;gBACzC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC;gBAC3C,QAAQ,EAAE,IAAI,CAAC,YAAY;gBAC3B,MAAM,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;aACjC,CAAC,CAAC;IACX,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAE/C,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAE1C,IAAI,KAAK;gBACL,IAAI,CAAC,YAAY,GAAG,QAAQ;QACpC,CAAC,CAAC,CAAC;QAEH,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,0CAA0C;IAE1C,YAAY,GAAiD,oBAAoB,CAAC;IAElF,WAAW,GAAW,IAAI,CAAC;IAE3B,SAAS,GAAW,IAAI,CAAC;IAEzB,gBAAgB,GAAW,IAAI,CAAC;IAEhC,YAAY,GAAgC,IAAI,CAAC;IAEjD,aAAa,GAAW,CAAC,CAAC,CAAC;IAE3B,WAAW,GAA+B,IAAI,CAAC;IAEtC,KAAK,GAAiD,0CAAgB,EAAE,CAAC;CACrF;AAGD,wBAAY,CAAC,6CAAkB,EAAE,oBAAoB,CAAC,CAAC;;;ACtQf;AAEmB;AAM4B;AACvC;AACK;AACc;AAQ5D,MAAM,uBAAO,GAAa,EAAc,CAAC;AA+BhD,0CAA0C;AAE1C,uBAAO,CAAC,eAAe,GAAG,OAAO,CAAC,EAAE;IAEhC,OAAO,IAAI,OAAO,CAAO,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QAElC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAE9C,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;QAEpB,IAAI,UAAU,GAAG,KAAK,CAAC;QAEvB,KAAK,CAAC,QAAQ,GAAG,GAAG,EAAE;YAClB,UAAU,GAAG,IAAI,CAAC;YAClB,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC;QAED,KAAK,CAAC,KAAK,EAAE,CAAC;QAEd,MAAM,OAAO,GAAG,KAAK,IAAI,EAAE;YACvB,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAC7C,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC;gBACtC,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,CAAC,CAAC;QAEF,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAEF,0CAA0C;AAE1C,uBAAO,CAAC,iBAAiB,GAAG,KAAK,EAAC,OAAO,EAAC,EAAE;IAExC,MAAM,MAAM,GAAG,IAAI,+BAAW,CAAC;QAE3B,MAAM,EAAE,IAAI,6CAAkB,CAAC;YAC3B,QAAQ,EAAE,kBAAkB;YAC5B,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,MAAM,EAAE,CAAC,oBAAoB,CAAC;SACjC,CAAC;QACF,YAAY,EAAE,OAAO,CAAC,YAAY,IAAI,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY;QAC7E,SAAS,EAAE,OAAO,CAAC,SAAS;QAC5B,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,KAAK,EAAE,OAAO,CAAC,KAAK;QACpB,MAAM,EAAE,OAAO,CAAC,MAAM;KACzB,CAAC,CAAC;IAEH,OAAO,MAAM,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC;AAChD,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,aAAa,GAAG,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE;IAE5C,OAAO,MAAO,6DAA2C,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AAC7E,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,OAAO,GAAG,CAAC,OAAO,EAAG,cAAc,EAAE,WAAW,EAAE,EAAE;IAExD,MAAM,KAAK,GAAG,OAAO,OAAO,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;IAErE,MAAM,QAAQ,GAAG,IAAI,0CAAe,CAAC;QACjC,SAAS,EAAE;YACP,KAAK;SACR;QACD,GAAG,cAAc;KACpB,CAAC,CAAC;IACH,OAAO,uBAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;AACxD,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE;IAEf,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;IAC3B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,IAAI,GAAG,WAAW,CAAC,EAAE;IAEzB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,GAAG,WAAW,CAAC;IAC5C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,KAAK,GAAG,KAAK,CAAC,EAAE;IAEpB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,SAAS,GAAG,KAAK,CAAC;IACzC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,OAAO,GAAG,GAAG,CAAC,EAAE;IAEpB,OAAO,uBAAO,CAAC,aAAa,CAAC,IAAI,eAAO,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AAC5D,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,QAAQ,GAAG,GAAG,CAAC,EAAE;IAErB,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QAC5B,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC9C,UAAU,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACrC,GAAG,EAAE,CAAC;QACV,CAAC,CAAC,CAAC;QACH,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;YACtC,GAAG,EAAE,CAAC;QACV,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,YAAY,GAAG,MAAM,CAAC,EAAE;IAE5B,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,2BAA2B,GAAG,MAAM,CAAC;IAC5D,+CAA+C;IAC/C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,CAAC;AAED,0CAA0C;AAE1C,uBAAO,CAAC,IAAI,GAAG,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE,EAAE,EAAE;IAExC,IAAI,QAAQ,CAAC,QAAQ;QACjB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,kDAAkD,GAAG,QAAQ,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;IAC/I,iGAAiG;;QAE7F,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,kDAAkD,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAErH,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;AAC7B,CAAC;;;AC5L2D;AACK;AAID;AACH;AAChB;AAW7C,8CAA8C;AAEvC,MAAM,6BAAqC,SAAQ,wCAAc;IAEpE,YAAY,MAA4C;QAEpD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,eAAe;gBACtB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;SACrD;IACL,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS,CAAC,KAAY,EAAE,QAA4C;QAEtE,MAAM,QAAQ,GAAG,IAAI,0CAAe,CAAQ;YACxC,SAAS,EAAE,CAAC,IAAI,+BAAe,CAAe;oBAC1C,MAAM,EAAE,IAAI,CAAC,MAAM;oBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,KAAK,EAAE,KAAK;oBACZ,aAAa,EAAE,KAAK,EAAC,IAAI,EAAC,EAAE;wBACxB,IAAI,QAAQ,EAAE;4BACV,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC;4BACvC,IAAI,SAAS,IAAI,IAAI;gCACjB,OAAO,IAAI,CAAC;yBACnB;wBACD,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;oBAC5C,CAAC;iBACJ,CAAC,CAAC;SACN,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,qCAAqB,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;QACzF,IAAI,MAAM,IAAI,IAAI;YACd,OAAO,IAAI,CAAC;QAEhB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,eAAe,CAAC,IAAW;QACjC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAwB,CAAC,CAAC;IACrD,CAAC;IAED,8CAA8C;IAE9C,MAAM,GAA8B,IAAI,CAAC;IAEzC,KAAK,GAAW,MAAM,CAAC;CAC1B;AAGD,wBAAY,CAAC,6BAAc,EAAE,gBAAgB,CAAC,CAAC;;;AC9EmB;AACf;AACZ;AAC8D;AACzC;AAEO;AACX;AAIF;AACE;AACJ;AACgB;AACE;AACpB;AACS;AACN;AAEoB;AAyBzE,0CAA0C;AAEnC,MAAM,uDAAmE,SAAQ,6BAAgE;IAE1I,YAAY,CAAc;IAC1B,UAAU,CAAmC;IAGvD,YAAY,MAA0E;QAElF,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE/D,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,cAAc;gBACrB,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;YAE9D,IAAI,MAAM,CAAC,kBAAkB;gBACzB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;YAExD,IAAI,MAAM,CAAC,gBAAgB;gBACvB,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;YAEpD,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAE1C,IAAI,MAAM,CAAC,aAAa;gBACpB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;YAEhD,IAAI,MAAM,CAAC,UAAU,IAAI,QAAQ,EAAE;gBAC/B,IAAI,CAAC,eAAe,GAAG,KAAK,EAAC,KAAK,EAAC,EAAE;oBAElC,IAAI,CAAC,IAAI,CAAC,UAAU;wBACf,IAAI,CAAC,UAAU,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBAEtF,IAAI,KAAK,EAAE;wBACP,KAAK,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;wBAC5B,OAAO,yBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;4BACxC,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;4BAC3D,OAAO,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBAC7C,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;qBAChB;;wBAEG,OAAO,IAAI,CAAC,UAAU,CAAC;gBAC/B,CAAC,CAAC;aACL;SACJ;QAED,IAAI,CAAC,MAAM,EAAE,OAAO;YAChB,IAAI,CAAC,OAAO,GAAG,iDAAiB,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,oDAAiB,EAAE,KAAK,EAAE,uDAAmB,EAAE,CAAC,CAAC;QAEvJ,IAAI,CAAC,MAAM,EAAE,QAAQ;YACjB,IAAI,CAAC,QAAQ,GAAG,+CAAa,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAChF,CAAC;IAED,0CAA0C;IAE1C,gBAAgB,CAAC,KAAc;QAE3B,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAE3B,IAAI,KAAK,EAAE;YACP,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CACd,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;SAC7B;IACL,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,WAAW;QAEvB,MAAM,KAAK,CAAC,WAAW,EAAE,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;YACtB,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,cAAc;YACpB,WAAW,EAAE,SAAS;YACtB,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;YACvC,QAAQ,EAAE,0CAAsB;SACnC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,GAAG,IAAI,kCAAW,CAAC;YAChC,UAAU,EAAE,EAAE;YACd,OAAO,EAAE,IAAI,8BAAS,CAAC;gBACnB,MAAM,EAAE,CAAC,SAAS,EAAE,iBAAiB,CAAC;gBACtC,OAAO,EAAE,IAAI,CAAC,aAAa;aAC9B,CAAC;SACL,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,MAAM,IAAI,CAAC,UAAU,CAAC,yBAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IAClF,CAAC;IAED,0CAA0C;IAEhC,iBAAiB;QAEvB,MAAM,MAAM,GAAY,EAAE,CAAC;QAE3B,IAAI,IAAI,CAAC,MAAM;YACX,MAAM,CAAC,IAAI,CAAC,2CAAqB,CAAC;gBAC9B,IAAI,EAAE,UAAU;gBAChB,IAAI,EAAE,aAAa;gBACnB,SAAS,EAAE,0CAAmB;gBAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;gBACvC,WAAW,EAAE,IAAI,CAAC,QAAQ;aAC7B,CAAC,CAAC,CAAC;QAER,IAAI,IAAI,CAAC,aAAa,EAAE;YAEpB,IAAI,CAAC,UAAU,GAAG,IAAI,gDAAkB,CAAC;gBACrC,OAAO,EAAE,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC;gBACnD,IAAI,EAAE,IAAI;aACb,CAAC,CAAC;YAEH,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,EAAE,CAC1B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAExB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAChC;QAED,MAAM,MAAM,GAAQ;YAChB,MAAM,EAAE,MAAM;YACd,aAAa,EAAE,UAAU;SAC5B,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC;YACjB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAE1C,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,eAAe,CAAC,KAAa;QAEnC,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,0CAA0C;IAEhC,SAAS,CAAC,KAAa,EAAE,MAAe,EAAE,QAAiB;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QACjE,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC;YACvB,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QAC3D,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAC,IAAW;QACpC,OAAO,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,qBAAqB,CAAC,IAAW;QACvC,OAAO,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,MAAM,IAAI,GAAG,IAAI,gDAAkB,CAAC;YAChC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACtC,IAAI,EAAE,IAAI;SACb,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QAEpF,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEnC,IAAI,MAAM,IAAI,IAAI;YACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAE3B,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,eAAe,CAAC,OAAyC,EAAE,IAAW,EAAE,UAAmB;QAEjG,IAAI,CAAC,UAAU;YACX,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;YAE3B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,0CAA0C;IAEhC,UAAU;QAEhB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC;gBAC5B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;;gBAEzB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;SACjC;IACL,CAAC;IAED,0CAA0C;IAE1C,eAAe,CAAC,IAAW;QACvB,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,MAAM;YACN,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,IAAW,EAAE,OAA0C;QAEhE,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEnC,IAAI,MAAM;YACN,OAAO;QAEX,MAAM,QAAQ,GAAG,IAAI,8CAAiB,CAAC;YACnC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;YACzC,WAAW,EAAE,GAAG,EAAE;gBAEd,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBAEpC,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1C,IAAI,OAAO;oBACP,OAAO,CAAC,UAAU,GAAG,KAAK,CAAC;gBAE/B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;YAC7B,CAAC;YACD,IAAI,EAAE,IAAI;SACb,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEjC,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,0CAA0C;IAEhC,QAAQ,CAAC,IAAW;QAE1B,OAAO,yBAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IAC5F,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,OAAO,yBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IAChG,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAEvC,IAAI,SAAgB,CAAC;QAErB,IAAI,uBAAa,CAAC,MAAM,CAAC;YAErB,SAAS,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;aAE9D;YACD,MAAM,QAAQ,GAAG,IAAI,6BAAc,CAAe;gBAC9C,MAAM,EAAE,MAAM;gBACd,KAAK,EAAE,IAAI,CAAC,QAAQ;aACvB,CAAC,CAAC;YAEH,SAAS,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;SACpE;QAED,IAAI,CAAC,SAAS;YACV,OAAO;QAEX,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO;YACR,OAAO;QAEX,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAE9C,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;QAE3B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IAC/C,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAY,KAAK,CAAC;IAExB,aAAa,GAAY,KAAK,CAAC;IAE/B,UAAU,GAAW,QAAQ,CAAC;IAE9B,WAAW,GAAuD,IAAI,CAAC;IAEvE,QAAQ,GAAW,SAAS,CAAC;IAE7B,OAAO,GAA8C,0CAAgB,EAAE,CAAC;IAE/D,aAAa,GAA8C,0CAAgB,EAAE,CAAC;CAC1F;AAGD,wBAAY,CAAC,uDAA2B,EAAE,6BAA6B,CAAC,CAAC;;;AC1XP;AACf;AAES;AAEO;AACX;AAIF;AACgB;AACpB;AACS;AACN;AAEoB;AAmBzE,0CAA0C;AAEnC,MAAM,iDAAgE,SAAQ,6BAAmC;IAEpH,YAAY,MAAuE;QAE/E,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,qBAAqB;gBAC5B,IAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;YAE9D,IAAI,MAAM,CAAC,gBAAgB;gBACvB,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;YAEpD,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SAC7C;QAED,IAAI,CAAC,MAAM,EAAE,OAAO;YAChB,IAAI,CAAC,OAAO,GAAG,iDAAc,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAE/E,IAAI,CAAC,MAAM,EAAE,QAAQ;YACjB,IAAI,CAAC,QAAQ,GAAG,+CAAa,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;IAChF,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,WAAW;QAEvB,MAAM,KAAK,CAAC,WAAW,EAAE,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;YACtB,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,cAAc;YACpB,WAAW,EAAE,SAAS;YACtB,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;YACvC,QAAQ,EAAE,0CAAsB;SACnC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAEhC,iBAAiB;QAEvB,MAAM,MAAM,GAAY,EAAE,CAAC;QAE3B,IAAI,IAAI,CAAC,MAAM;YACX,MAAM,CAAC,IAAI,CAAC,2CAAqB,CAAC;gBAC9B,IAAI,EAAE,UAAU;gBAChB,IAAI,EAAE,aAAa;gBACnB,SAAS,EAAE,0CAAmB;gBAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;gBACvC,WAAW,EAAE,IAAI,CAAC,QAAQ;aAC7B,CAAC,CAAC,CAAC;QAER,MAAM,MAAM,GAAQ;YAChB,MAAM,EAAE,MAAM;SACjB,CAAC;QAEF,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC;YACjB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAE1C,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,eAAe,CAAC,KAAa;QAEnC,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,0CAA0C;IAEhC,SAAS,CAAC,KAAa,EAAE,MAAe,EAAE,QAAiB;QAEjE,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;QACjE,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC;YACvB,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QAC3D,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,qBAAqB,CAAC,IAAW;QAEvC,OAAO,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,MAAM,IAAI,GAAG,IAAI,gDAAkB,CAAC;YAChC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;YACzC,MAAM,EAAE,CAAC,QAAQ,CAAC;YAClB,IAAI,EAAE,IAAI;SACb,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC;YAChF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAE3B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAEtC,IAAI,KAAK;gBACL,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,iBAAiB,CAAC,IAAW;QAEnC,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAEvC,IAAI,SAAgB,CAAC;QAErB,IAAI,uBAAa,CAAC,MAAM,CAAC;YAErB,SAAS,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;aAE9D;YACD,MAAM,QAAQ,GAAG,IAAI,6BAAc,CAAe;gBAC9C,MAAM,EAAE,MAAM;gBACd,KAAK,EAAE,IAAI,CAAC,QAAQ;aACvB,CAAC,CAAC;YAEH,SAAS,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;SACpE;QAED,IAAI,CAAC,SAAS;YACV,OAAO;QAEX,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAE/D,IAAI,OAAO;YACP,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAY,KAAK,CAAC;IAExB,WAAW,GAAuD,IAAI,CAAC;IAEvE,QAAQ,GAAW,SAAS,CAAC;IAE7B,OAAO,GAA4C,0CAAgB,EAAE,CAAC;IAEtE,aAAa,GAAW,IAAI,CAAC;CAEhC;AAED,wBAAY,CAAC,iDAAwB,EAAE,0BAA0B,CAAC,CAAC;;;AC9NP;AAEO;AACA;AACrC;AACkB;AAIhD,MAAM,uBAAY,SAAQ,oBAAI;IAE1B,YAAY,IAAY;QACpB,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,aAAa;IACvB,CAAC;IAGD,0CAA0C;IAE1C,OAAO,CAAQ;CAClB;AAED,0CAA0C;AAEnC,MAAM,8BAAmB,SAAQ,uBAAW;IAE/C,YAAY,IAAwB,EAAE,GAAG,IAAW;QAChD,KAAK,CAAC,IAAI,CAAC;QAEX,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,oBAAoB,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAqB;CAC5B;AAED,0CAA0C;AAEnC,MAAM,4BAAiB,SAAQ,uBAAW;IAE7C,YAAY,GAAG,IAAW;QACtB,KAAK,CAAC,IAAI,CAAC;QACX,IAAI,CAAC,QAAQ,GAAG,kBAAkB,CAAC;IACvC,CAAC;IAED,0CAA0C;IAE1C,KAAK,GAAiC,0CAAgB,EAAE,CAAC;CAC5D;AAED,0CAA0C;AAEnC,MAAM,kCAAY,SAAQ,2BAAa;IAElC,WAAW,CAAU;IACrB,OAAO,GAAuB,EAAE,CAAC;IACjC,YAAY,CAAmB;IAC/B,UAAU,GAAG,KAAK,CAAC;IAE3B;QAEI,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC,CAAC;QAEnC,IAAI,CAAC,IAAI,GAAG,IAAI,4BAAgB,EAAE,CAAC;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;IAClC,CAAC;IAED,0CAA0C;IAEhC,aAAa;IACvB,CAAC;IAED,0CAA0C;IAE1C,IAAI;QACA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,OAAO,GAAG,IAAI,0CAAe,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;YACvD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACzB;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,IAAI;QACA,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IAGD,0CAA0C;IAE1C,MAAM;QAEF,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO;QAEX,IAAI,CAAC,WAAW,GAAQ,EAAE,CAAC;QAE3B,KAAK,MAAM,GAAG,IAAI,OAAO;YACrB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;QAEzC,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACnD,OAAO,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACrD,OAAO,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACrD,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACvD,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACvD,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACvD,OAAO,CAAC,KAAK,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QACnC,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC9C,OAAO,CAAC,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAEF,IAAI,CAAC,IAAI,CAAC,WAAW;YACjB,OAAO;QAEX,KAAK,MAAM,GAAG,IAAI,OAAO;YACrB,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,OAA2B,EAAE,IAAW;QAE1C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAE/C,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,8BAAkB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAEnE,IAAI,OAAO,IAAI,OAAO;YAClB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,8BAAkB,CAAC,OAAO,EAAE,IAAI,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACxF,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,IAAW;QAEb,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAE5C,MAAM,QAAQ,GAAG,IAAI,4BAAgB,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QAEJ,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAEzC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IAC/C,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAEtC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;IAClC,CAAC;IAED,0CAA0C;IAE1C,IAAI,CAAmB;CAC1B;AAED,wBAAY,CAAC,kCAAW,EAAE,aAAa,CAAC,CAAC;;;ACpLU;AACS;AAMlB;AACI;AAS9C,0CAA0C;AAEnC,MAAM,0CAA8D,SAAQ,sBAAK;IAE5E,KAAK,CAAQ;IACb,QAAQ,CAAQ;IAExB,YAAY,MAA0C;QAElD,KAAK,CAAC;YACF,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,CAAC,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QAEzC,IAAI,CAAC,QAAQ,GAAG,IAAI,sBAAK,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE5B,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAEtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,eAAe,EAAE;YAEtB,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;YAExB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAEjE,IAAI,OAAO,CAAC,MAAM;gBACd,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YAEvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;YAE3C,IAAI,CAAC,KAAK,GAAG,6CAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAEzC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAElD,IAAI,OAAO,CAAC,OAAO;gBACf,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAEpD,MAAM,KAAK,CAAC,SAAS,EAAE,CAAC;YAExB,IAAI,IAAI,CAAC,eAAe,CAAC,aAAa;gBAClC,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;SAClD;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;IAC5D,CAAC;IAED,8CAA8C;IAEpC,SAAS,CAAC,MAAe;QAE/B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,2CAAqB,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;IAC5F,CAAC;IAED,8CAA8C;IAE9C,oBAAoB,CAAC,QAAoC;QAErD,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,UAAU,CAAC,MAAY;QAEzB,IAAI,IAAI,CAAC,eAAe,EAAE,eAAe;YACrC,MAAM,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;QAEjD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QAEnB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QAEtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAE9C,KAAK,GAAW,IAAI,CAAC;IAErB,cAAc,GAAgC,cAAc,CAAC;IAE7D,eAAe,GAAc,IAAI,CAAC;CACrC;AAED,wBAAY,CAAC,0CAAe,EAAE,iBAAiB,CAAC,CAAC;;;ACxGjD,0CAA0C;AAEnC,IAAU,mBAAS,CAmCzB;AAnCD,WAAiB,SAAS;IAEtB,SAAgB,KAAK,CAAC,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU;QAChE,OAAO,CAAC,CAAC,EAAE,CACP,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;YACvB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE;YAC/B,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;IAC5B,CAAC;IANe,eAAK,QAMpB;IAED,0CAA0C;IAE1C,SAAgB,MAAM;QAClB,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClB,CAAC;IAFe,gBAAM,SAErB;IAED,0CAA0C;IAE1C,SAAgB,OAAO,CAAC,OAAwB;QAE5C,IAAI,OAAO,GAAG,CAAC,CAAC;QAEhB,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE;YAC7B,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ;gBAC1B,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC;YAE/B,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;YAE/D,IAAI,OAAO,IAAI,OAAO,CAAC,QAAQ;gBAC3B,aAAa,CAAC,OAAO,CAAC,CAAC;YAE3B,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC;QAEhC,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;IACzB,CAAC;IAhBe,iBAAO,UAgBtB;AACL,CAAC,EAnCgB,mBAAS,KAAT,mBAAS,QAmCzB;;;ACjD+D;AACf;AACW;AAS5D,8CAA8C;AAEvC,MAAM,kCAAY,SAAQ,uBAAmB;IAEhD,YAAY,MAA2B;QACnC,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QAEnD,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI;YAClB,IAAI,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAEpC,OAAO;QAEb,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QAEjB,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QAElC,OAAO,2BAAiB,CAAC;YACrB,YAAY,EAAE,0BAAgB,EAAE;YAChC,QAAQ,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ;YACxD,QAAQ,EAAE,CAAC,GAAG,EAAE;YAChB,IAAI,EAAE,CAAC,CAAC,EAAE,CACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;SAChD,CAAC,CAAC;IACP,CAAC;IAED,8CAA8C;IAE9C,KAAK,GAAW,IAAI,CAAC;IAErB,KAAK,GAAW,CAAC,CAAC;CACrB;AAED,wBAAY,CAAC,kCAAW,EAAE,aAAa,CAAC,CAAC;;;AClDkB;AAEQ;AAMzB;AACC;AACZ;AAC6B;AACT;AACZ;AACuD;AAwB9F,0CAA0C;AAEnC,MAAM,kBAAW;IAEZ,KAAK,CAAS;IAEtB,YAAY,IAAY,EAAE,MAA2B;QACjD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,IAAI,MAAM,EAAE;YAER,IAAI,CAAC,KAAK,GAAG,+CAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAEzC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CACvB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAC1B;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QAErB,MAAM,UAAU,GAAG,2CAAqB,CAAC,MAAM,EAAE;YAC7C,YAAY,EAAE,KAAK,IAAI,EAAE;gBACrB,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;gBACvB,MAAM,MAAM,CAAC,YAAY,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAE7B,OAAO,UAAU,CAAC;IACtB,CAAC;IAED,0CAA0C;IAEjC,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAEnE,KAAK,GAAW,IAAI,CAAC;CACxB;AAED,0CAA0C;AAEnC,MAAM,wBAAO,SAAQ,oBAAI;IAE5B,YAAY,MAAsB;QAC9B,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SACzB;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,IAAkB;QAExB,IAAI,IAAI,CAAC,IAAI,IAAI,kDAAqB;YAClC,IAAI,CAAC,SAAS,EAAE,CAAC;IACzB,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,KAAkB;QAEvB,MAAM,QAAQ,GAAG,+CAAa,CAAC,KAAK,CAAC,CAAC;QACtC,OAAO,yBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,MAA0B;QAE/B,MAAM,KAAK,GAAG,IAAI,kBAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAE5C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEvB,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;QAEvB,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;YAElC,IAAI,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,aAAa;gBAC/B,IAAI,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS,CAAC,GAAc;QAE1B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QAExB,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QAEvB,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QAEtB,IAAI,IAAI,CAAC,MAAM,IAAI,QAAQ;YACvB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAiB,QAAQ,CAAC;IAEhC,MAAM,GAAU,IAAI,CAAC;IAEZ,MAAM,GAAiC,0CAAgB,EAAE,CAAC;CACtE;AAED,wBAAY,CAAC,wBAAM,EAAE,QAAQ,CAAC,CAAC;;;ACtKgB;AACuB;AAC/B;AACqB;AAS5D,0CAA0C;AAC1C,0CAA0C;AAC1C,0CAA0C;AAEnC,MAAM,wCAAe,SAAQ,2BAAa;IAErC,MAAM,CAAmB;IAEjC,YAAY,MAA8B;QAEtC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC;QAE1B,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;YAExC,IAAI,CAAC,MAAM,EAAE,CAAC;YAEd,IAAI,MAAM,EAAE,SAAS;gBACjB,MAAM,CAAC,SAAS,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,MAAM;QAEZ,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAElC,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,IAAI,GAAG,gBAAgB,CAAC;YAC7B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;SACzB;QAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;IACnD,CAAC;IAED,0CAA0C;IAE1C,MAAM;QACF,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,MAAM;IAEN,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW,CAAI,GAAW;QAC5B,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;QAE1B,MAAM,MAAM,GAAG,MAAM,wDAAoB,CAAI,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;YAEzE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC;YACrC,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;QAEzB,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC;YACnD,OAAO,IAAI,CAAC;QAChB,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC;IAED,0CAA0C;IAE1C,QAAQ,GAAW,CAAC,CAAC;IAErB,IAAI,GAAW,IAAI,CAAC;IAEpB,YAAY,GAAW,IAAI,CAAC;IAE5B,MAAM,GAAe,OAAO,CAAC;IAE7B,KAAK,GAAW,IAAI,CAAC;IAErB,UAAU,GAAY,KAAK,CAAC;CAC/B;AAED,wBAAY,CAAC,wCAAc,EAAE,gBAAgB,CAAC,CAAC;;;AC3Ga;AAEL;AASvD,0CAA0C;AAEnC,MAAM,iBAA2E,SAAQ,4BAA+B;IAE3H,YAAY,MAA+C;QAEvD,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,SAAS,GAAW,CAAC,CAAC;IAEtB,SAAS,GAAW,CAAC,CAAC;CACzB;AAED,wBAAY,CAAC,iBAAQ,EAAE,UAAU,CAAC,CAAC;;;AC/ByB;AAGI;AACtB;AAO1C,0CAA0C;AAEnC,MAAM,8CAAqC,SAAQ,uBAAqB;IAE3E,YAAY,MAAoD;QAE5D,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAY,IAAI,CAAC;IAEvB,cAAc,GAA6B,IAAI,CAAC;CACnD;AAED,wBAAY,CAAC,8CAAiB,EAAE,mBAAmB,CAAC,CAAC;;;AC7BW;AAC/B;AAC2B;AAErD,MAAM,4BAAS,SAAQ,uBAAmB;IAE7C,YAAY,MAAmC;QAE3C,KAAK,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC3C,CAAC;CACJ;AAED,wBAAY,CAAC,4BAAQ,EAAE,UAAU,CAAC,CAAC;;;ACZ+B;AACrB;AAEtC,SAAS,yBAAc,CAAC,GAAW;IAEtC,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,iBAAiB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;IAEtH,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QAE5B,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAE1C,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;YAC9B,GAAG,CAAC,GAAG,CAAC,CAAC;YACT,EAAE,CAAC,GAAG,EAAE;QACZ,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;YAC/B,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACf,EAAE,CAAC,GAAG,EAAE,CAAC;QACb,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;IAElB,CAAC,CAAC,CAAC;AACP,CAAC;;;ACvB+D;AAE9B;AACqB;AACK;AAM5D,8CAA8C;AAEvC,MAAM,8BAAU,SAAQ,uBAAmB;IAE9C,YAAY,MAAyB;QAEjC,KAAK,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC5C,CAAC;IAGD,8CAA8C;IAE9C,SAAS;QAEL,IAAI,IAAI,CAAC,OAAO;YACZ,OAAO,yBAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;CACJ;AAED,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;AC/B6B;AAC3B;AAGiB;AAEd;AACE;AACE;AAChB;AACG;AAC2B;AAe5D,0CAA0C;AAEnC,MAAM,4BAAgB,SAAQ,sBAAK;IAE5B,YAAY,CAAa;IAEnC,YAAY,MAA8B;QACtC,KAAK,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,IAAI;gBACX,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;YAEhC,IAAI,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAEnD,IAAI,MAAM,CAAC,YAAY;gBACnB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,oBAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5F;QAED,IAAI,CAAC,QAAQ,CAAC,YAAY,EACtB,CAAC,CAAC,EAAE,CAAC,yBAAI,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAErD,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAA0B;QAEhC,MAAM,IAAI,GAAG,+CAAyB,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhE,IAAI,MAAM,CAAC,QAAQ,IAAI,0CAAsB,EAAE;YAC3C,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;gBAE9B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;oBAEpB,IAAI,CAAC,YAAY,GAAG,2CAAqB,CAAC;wBACtC,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,mBAAmB;wBACzB,SAAS,EAAE,0CAAmB;wBAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE;qBACxC,CAAC,CAAC;oBACH,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC;oBACzD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBAC5C;gBAED,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aAC1C;;gBAEG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;aACI;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,aAAa,EAAE,CAAC;SAC3C;IACL,CAAC;IAED,0CAA0C;IAE1C,MAAM;IAEN,CAAC;IAED,0CAA0C;IAE1C,IAAI;QACA,IAAI,IAAI,CAAC,OAAO;YACZ,IAAI,CAAC,QAAQ,EAAE,CAAC;IACxB,CAAC;IAED,0CAA0C;IAEhC,QAAQ;IAElB,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QAEJ,MAAM,IAAI,GAAG,IAAI,kCAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,UAAyB,CAAC,CAAC;IAC3D,CAAC;IAED,0CAA0C;IAE1C,IAAI,GAAU,IAAI,CAAC;IAEnB,cAAc,GAAiB,EAAE,CAAC;IAElC,WAAW,GAAiB,EAAE,CAAC;IAE/B,MAAM,GAAW,IAAI,CAAC;IAEtB,OAAO,GAAY,KAAK,CAAC;IAEzB,UAAU,GAAY,IAAI,CAAC;CAC9B;AAGD,wBAAY,CAAC,4BAAQ,EAAE,UAAU,CAAC,CAAC;;;ACrIU;AACe;AACf;AAGmB;AAShE,8CAA8C;AAEvC,MAAM,oCAAa,SAAQ,uBAAsB;IAEpD,YAAY,MAA4B;QACpC,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE/C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAElC,IAAI,MAAM,CAAC,SAAS;gBAChB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;SACzC;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAEpC,gBAAgB;QAEtB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAE9C,OAAO;QACH,4BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,WAAW;QAEb,MAAM,OAAO,GAAG,kDAAmB,EAAE,CAAC;QACtC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAEhC,IAAI,CAAC,GAAG;YACJ,GAAG,GAAG,MAAM,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAE/D,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC;YACzB,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,IAAI,CAAC,OAAO;YAClB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,IAAI,EAAE,CAAC;oBACH,MAAM,EAAE,GAAG;oBACX,IAAI,EAAE,GAAG;oBACT,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;iBAC1B,CAAC;SACL,CAAC,CAAC;IACP,CAAC;IAED,8CAA8C;IAE9C,GAAG,CAAS;IAEZ,OAAO,GAAU,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IAE9C,SAAS,GAAW,EAAE,CAAC;CAC1B;AAED,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;AzF3EpC,MAAM,mBAAM;IAEP,aAAa,GAA+B,EAAE,CAAC;IAC/C,MAAM,CAAU;IAChB,UAAU,CAAU;IAE5B,0CAA0C;IAE1C,YAAY,QAAiB,KAAK,EAAE,SAAS,GAAG,IAAI;QAChD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAChC,CAAC;IAED,0CAA0C;IAE1C,GAAG;QACC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;YACnD,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,KAAK;QACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,OAAO,CAAC,OAAkB;QAEtB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,CAAC;gBACjD,IAAI,CAAC,KAAK,EAAE,CAAC;YACjB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SAChC;QAED,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAEvB,MAAM,OAAO,GAAG,SAAS,CAAC,EAAE;gBACxB,GAAG,CAAC,SAAS,CAAC,CAAC;gBACf,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAClD,IAAI,KAAK,IAAI,CAAC,CAAC;oBACX,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBACxC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU;oBACjD,IAAI,CAAC,KAAK,EAAE,CAAC;YACrB,CAAC,CAAC;YAEF,IAAI,OAAO,EAAE;gBACT,UAAU,CAAC,GAAG,EAAE;oBACZ,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBAClD,IAAI,KAAK,IAAI,CAAC,CAAC,EAAE;wBACb,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBACpC,GAAG,CAAC,KAAK,CAAC,CAAC;qBACd;gBACL,CAAC,EAAE,OAAO,CAAC,iBAAiB,CAAC,CAAC;aACjC;YAGD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;CACJ;;;A0FtEiE;AACrB;AACN;AACU;AACqB;AAMZ;AAmB1D,8CAA8C;AAEvC,MAAM,yBAAkD,SAAQ,8BAAgB;IAE3E,QAAQ,CAAc;IAE9B,8CAA8C;IAE9C,YAAY,MAA4C;QACpD,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;QAE/C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;YAEnC,IAAI,MAAM,CAAC,aAAa;gBACpB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC;SACjD;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ;YACd,IAAI,CAAC,QAAQ,GAAG,kDAAmB,EAAE,CAAC;QAE1C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACxC,IAAI,CAAC,KAAK;gBACN,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;;gBAElC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC;YAEnD,IAAI,MAAM,IAAI,MAAM,CAAC,cAAc;gBAC/B,MAAM,CAAC,cAAc,CAAC,KAAc,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,kBAAkB,GAAG,GAAG,EAAE;YACpC,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY;gBAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;;gBAExD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACjC,CAAC,CAAC;QAGF,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC/C,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;QACjD,CAAC,CAAC;IACN,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,cAAc,CAAC,MAAgB;QAEjC,IAAI,CAAC,IAAI,CAAC,WAAW;YACjB,OAAO;QAEX,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QACxB,MAAM,SAAS,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;QACpG,IAAI;YAEA,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAE3D,IAAI,KAAK;gBACL,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAE5C,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK;gBACnB,IAAI,CAAC,SAAS,EAAE,CAAC;SACxB;gBACO;YACJ,SAAS,CAAC,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;IACL,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,kEAA2B,CAAC,eAAe,CAAC,CAAC;QAE7C,IAAI,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAElC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;YACxB,IAAI,CAAC,SAAS,EAAE,CAAC;QAErB,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACrE,CAAC;IAED,8CAA8C;IAEpC,SAAS;QAEf,MAAM,UAAU,GAAG,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;QACnF,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAEpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,eAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,eAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SAClD;IACL,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,IAAW;QAC/B,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,IAAW;QAE7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;YACpB,OAAO;QAEX,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC5F,OAAO,CAAC,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;YACtD,OAAO;SACV;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAElD,eAAG,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;QAC/B,eAAG,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,IAAW;QAE/B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK;YACpB,OAAO;QACX,MAAM,OAAO,GAAG,eAAG,CAAW,IAAI,EAAE,UAAU,CAAC,CAAC;QAChD,IAAI,OAAO;YACP,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC1C,CAAC;IAED,8CAA8C;IAE9C,WAAW,GAAuC,IAAI,CAAC;IAEvD,MAAM,GAAuB,EAAE,CAAC;IAEhC,YAAY,GAAU,IAAI,CAAC;IAE3B,mBAAmB,GAAY,KAAK,CAAC;IAErC,QAAQ,GAAG,IAAI,mBAAM,EAAE,CAAC;IAExB,IAAI,OAAO,KAAK,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;CAC1C;AAED,wBAAY,CAAC,yBAAY,EAAE,cAAc,CAAC,CAAC;;;AC/LE;AACI;AACW;AAIU;AAWtE,8CAA8C;AAEvC,MAAM,0BAAQ,SAAQ,2BAAa;IAEtC,YAAY,MAAuB;QAC/B,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEzC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YAC1C,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAClC,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;SAClD;QAED,IAAI,CAAC,IAAI,CAAC,OAAO;YACb,IAAI,CAAC,OAAO,GAAG,kDAAmB,EAAE,CAAC;QAEzC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAC/C,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;QACjD,CAAC,CAAC;IACN,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,IAAI,IAAI,CAAC,OAAO;YACZ,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEjC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;IACpE,CAAC;IAED,8CAA8C;IAE9C,WAAW;IAEX,CAAC;IAED,8CAA8C;IAE9C,mBAAmB,GAAY,KAAK,CAAC;IAErC,OAAO,CAAc;IAErB,QAAQ,GAAG,IAAI,mBAAM,EAAE,CAAC;CAC3B;AAED,wBAAY,CAAC,0BAAO,EAAE,SAAS,CAAC,CAAC;;;ACpEiC;AACrB;AAErC,SAAS,0BAAc,CAAC,GAAW;IAEvC,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,iBAAiB,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;IAEtH,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QAE5B,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAE9C,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,GAAG,EAAE;YACnC,KAAK,CAAC,KAAK,EAAE,CAAC;YACd,EAAE,CAAC,GAAG,EAAE;YACR,GAAG,CAAC,KAAK,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,CAAC,EAAE;YACjC,EAAE,CAAC,GAAG,EAAE,CAAC;YACT,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QAChB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,KAAK,CAAC,UAAU,IAAI,CAAC;YACrB,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;AACP,CAAC;AAEM,SAAS,8BAAkB,CAAC,GAAW,EAAE,KAAuB;IAEnE,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM;QAC7B,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAE7B,MAAM,EAAE,GAAG,4DAAwB,CAAC,EAAE,OAAO,EAAE,iBAAiB,GAAG,GAAG,EAAE,IAAI,EAAE,0CAAmB,EAAE,CAAC,CAAC;IAErG,OAAO,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;QAE5B,SAAS,eAAe;YACpB,KAAK,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;YACnD,KAAK,CAAC,mBAAmB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;QACtD,CAAC;QAED,MAAM,YAAY,GAAG,GAAG,EAAE;YACtB,EAAE,CAAC,GAAG,EAAE,CAAC;YACT,eAAe,EAAE,CAAC;YAClB,GAAG,CAAC,SAAS,CAAC,CAAC;QACnB,CAAC,CAAC;QAEF,MAAM,aAAa,GAAG,EAAE,CAAC,EAAE;YACvB,EAAE,CAAC,GAAG,EAAE,CAAC;YACT,eAAe,EAAE,CAAC;YAClB,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;QAClB,CAAC,CAAC;QAEF,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;QAChD,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;QAC/C,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;QAChB,KAAK,CAAC,IAAI,EAAE,CAAC;IACjB,CAAC,CAAC,CAAC;AACP,CAAC;;;AC7D2D;AAGyE;AACrI,CAAC;AAC+D;AAYhE,8CAA8C;AAEvC,MAAM,8BAAU,SAAQ,uBAAmB;IAEpC,MAAM,CAAmB;IAEnC,YAAY,MAAyB;QAEjC,KAAK,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAGD,8CAA8C;IAEpC,gBAAgB;QAEtB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,MAAM,GAAG,OAAc,CAAC;QAE7B,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAE9C,SAAS;QAEL,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,IAAI,CAAC,MAAM;gBACX,OAAO,8BAAkB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;gBAErD,OAAO,0BAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC3C;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,WAAW;QAEjB,IAAI,CAAC,IAAI,CAAC,MAAM;YACZ,OAAO;QAEX,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;QAE/B,IAAI,IAAI,CAAC,OAAO;YACZ,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,8CAA8C;IAE9C,IAAI;QACA,IAAI,IAAI,CAAC,MAAM;YACX,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,8CAA8C;IAE9C,KAAK;QACD,IAAI,IAAI,CAAC,MAAM;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,UAAU,GAAY,IAAI,CAAC;IAE3B,OAAO,GAAa,IAAI,CAAC;IAEzB,YAAY,GAAY,KAAK,CAAC;IAE9B,MAAM,GAAY,IAAI,CAAC;CAC1B;AAED,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;AC3G2B;AACN;AACA;AACxB;AAC0B;AAoB5D,8CAA8C;AAEvC,MAAM,8BAAU,SAAQ,uBAA0B;IAE7C,YAAY,GAAqB,EAAE,CAAC;IACpC,YAAY,GAAqB,EAAE,CAAC;IAE5C,YAAY,MAAyB;QAEjC,KAAK,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,KAAK;gBACZ,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC;YAErC,IAAI,MAAM,CAAC,KAAK;gBACZ,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC;SACxC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAGD,8CAA8C;IAE9C,SAAS;QAEL,IAAI,IAAI,CAAC,UAAU;YACf,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;QACvC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,gBAAgB;QAEtB,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,8CAA8C;IAEpC,aAAa;QAEnB,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,OAAO;YAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,8BAAS,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;QAEzF,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,OAAO;YAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,8BAAS,CAAC,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;IAE7F,CAAC;IAED,8CAA8C;IAE9C,UAAU,GAA0B,IAAI,CAAC;CAC5C;AAED,wBAAY,CAAC,8BAAS,EAAE,WAAW,CAAC,CAAC;;;ACjFqC;AACd;AAEO;AAEF;AAEvB;AACqC;AAa/E,0CAA0C;AAEnC,MAAM,gCAAW,SAAQ,iCAAgB;IAG5C,YAAY,MAA0B;QAElC,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,SAAS,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEvE,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,EAAE,uDAAmB,CAAC,CAAC;QAE9D,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SACtD;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QAErB,MAAM,MAAM,GAAgB,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC;QAEhD,IAAI,MAAM,CAAC,QAAQ,IAAI,2CAAuB;YAC1C,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE3B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,2CAAqB,CAAC,MAAM,EACzC;YACI,QAAQ,EAAE,cAAc;YACxB,MAAM,EAAE,MAAM;YACd,YAAY,EAAE,KAAK,IAAI,EAAE;gBACrB,MAAM,MAAM,CAAC,YAAY,EAAE,CAAC;gBAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC3B,CAAC;SACJ,CAAC,CAAC,CAAC;IACZ,CAAC;IAED,0CAA0C;IAEjC,OAAO,GAAgC,0CAAgB,EAAE,CAAC;IAEnE,OAAO,GAAW,IAAI,CAAC;IAEvB,KAAK,GAAW,IAAI,CAAC;IAErB,IAAI,GAAW,IAAI,CAAC;CACvB;AAED,wBAAY,CAAC,gCAAU,EAAE,YAAY,CAAC,CAAC;;;ACzEqB;AACU;AAKtE,8CAA8C;AAEvC,MAAM,oCAAa,SAAQ,2BAAa;IAE3C,YAAY,MAA4B;QACpC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClB,CAAC;CACJ;AAED,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;ACfiB;AACD;AAGE;AAS7D,8CAA8C;AAEvC,MAAe,6BAAuB,SAAQ,qBAA0B;IAEjE,QAAQ,CAAc;IAEhC,YAAY,MAAsC;QAE9C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAC,OAAoB;QACvB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,aAAa;QAEf,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,UAAU,EAAE;YAC3E,OAAO,IAAI,EAAE;gBAET,MAAM,KAAK,GAAwB,IAAI,CAAC,QAAQ,CAAC;gBACjD,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC;gBACzB,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC;gBACzC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAEtB,IAAI,IAAI,CAAC,QAAQ;oBACb,MAAM;gBAEV,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;aACzB;SACJ;IACL,CAAC;IAED,8CAA8C;IAEpC,cAAc,CAAC,KAAc;QAEnC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,IAAI,aAAa;YACzC,IAAI,CAAC,2BAA2B,EAAE,CAAC;IAC3C,CAAC;IAED,8CAA8C;IAEpC,2BAA2B;QAEjC,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,aAAa,EAAE;YAElD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAE5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YAEpB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;SAC5B;QACD,OAAO,KAAK,CAAC,2BAA2B,EAAE,CAAC;IAC/C,CAAC;IAED,8CAA8C;IAE9C,SAAS,GAAwB,aAAa,CAAC;CAClD;AAED,wBAAY,CAAC,6BAAc,EAAE,gBAAgB,CAAC,CAAC;;;AClFa;AAEa;AAazE,8CAA8C;AAEvC,MAAM,yBAAa,SAAQ,6BAAsB;IAEpD,YAAY,MAA4B;QAEpC,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAa;QAE/B,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAC7H,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAa;QAE/B,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QACpD,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;IACzC,CAAC;IAED,8CAA8C;IAE9C,WAAW,GAAW,IAAI,CAAC;IAE3B,GAAG,GAAY,IAAI,CAAC;IAEpB,GAAG,GAAY,IAAI,CAAC;IAEpB,SAAS,GAAW,IAAI,CAAC;CAC5B;AAED,wBAAY,CAAC,yBAAY,EAAE,cAAc,CAAC,CAAC;;;ACxD+B;AACN;AAMb;AACe;AACjC;AACc;AAEQ;AAyB3D,8CAA8C;AAEvC,MAAM,oCAA6G,SAAQ,2BAAa;IAEjI,oBAAoB,GAAW,SAAS,CAAC;IAEnD,YAAY,MAA0C;QAElD,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEnB,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,SAAS;gBAChB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;YAEnG,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;SAC3C;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;QAEvD,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,8CAA8C;IAEpC,UAAU;QAEhB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YAE/B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAE9C,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAElD,IAAI,OAAO,IAAI,IAAI,CAAC,MAAM,EAAE;gBACxB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAG,IAAI,CAAC,MAAsD,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC/F,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aAC1B;YAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBAE1C,IAAI,CAAC,KAAK;oBACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBAEzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YACnC,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,8CAA8C;IAE9C,UAAU;QAEN,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,aAAa,CAAC,MAAY,EAAE,KAAe;QAE7C,OAAO,CAAC,KAAK,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,EAAE,qBAAqB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAEtF,IAAI;YAEA,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;YAEpB,wDAAwD;YACxD,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,YAAY,yBAAY,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YAEjG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,oBAAoB,KAAK,SAAS,IAAI,kBAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE,QAAQ,CAAC;gBAChG,OAAO,IAAI,CAAC,OAAO,CAAC;YAExB,IAAI,CAAC,UAAU,EAAE,CAAC;YAElB,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC;YAErC,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;gBAEzC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC/B,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,GAAG,GAAqC;gBAC1C,KAAK,EAAE,QAAQ;gBACf,SAAS,EAAE,IAAI,CAAC,KAAK;gBACrB,MAAM,EAAE,MAAM;aACjB,CAAC;YAEF,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;gBACrC,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAClD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;oBACjB,IAAI,CAAC,KAAK,GAAG,iDAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC1C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;oBACrB,OAAO,KAAK,CAAC;iBAChB;aACJ;YAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,OAAO,IAAI,CAAC;SACf;gBACO;YACJ,OAAO,CAAC,QAAQ,EAAE,CAAC;SACtB;IACL,CAAC;IAED,8CAA8C;IAE9C,SAAS;QAEL,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;IACnC,CAAC;IAED,8CAA8C;IAE9C,KAAK;QACD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,8CAA8C;IAE9C,OAAO,GAAY,IAAI,CAAC;IAExB,OAAO,GAAY,IAAI,CAAC;IAExB,KAAK,GAAW,IAAI,CAAC;IAErB,MAAM,GAAY,IAAI,CAAC;IAEvB,KAAK,GAAW,IAAI,CAAC;IAErB,KAAK,GAAW,IAAI,CAAC;IAErB,QAAQ,GAAY,KAAK,CAAC;IAE1B,SAAS,GAAY,IAAI,CAAC;IAE1B,IAAI,GAA0B,IAAI,CAAC;IAEnC,UAAU,GAA+B,EAAE,CAAC;CAC/C;AAGD,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;ACtMJ;AAEqB;AAEI;AACN;AACpB;AAOtC,8CAA8C;AAEvC,MAAM,wBAAuE,SAAQ,uBAAqB;IAE7G,YAAY,MAA8C;QAEtD,KAAK,CAAC,MAAM,CAAC;QAEb,IAAI,OAAO,MAAM,EAAE,MAAM,IAAI,QAAQ;YACjC,IAAI,CAAC,MAAM,GAAQ,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;IACpE,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAAU;CACnB;AASD,8CAA8C;AAEvC,MAAM,oCAAa,SAAQ,8BAAoC;IAElE,YAAY,MAA4B;QAEpC,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,MAAM,EAAE,QAAQ;YAChB,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,wBAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED,8CAA8C;IAE9C,OAAO,CAAC,IAAY;QAChB,OAAO,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IACzD,CAAC;CACJ;AAED,wBAAY,CAAC,oCAAY,EAAE,cAAc,CAAC,CAAC;;;ACtDwB;AAC5B;AACqB;AAW5D,0CAA0C;AAEnC,MAAM,wCAA0D,SAAQ,oCAAY;IAEvF,YAAY,MAA8C;QAEtD,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACpC,CAAC;IAED,0CAA0C;IAE1C,OAAO,GAAW,IAAI,CAAC;IAEvB,MAAM,GAAY,IAAI,CAAC;IAEvB,IAAI,GAAU,IAAI,CAAC;CACtB;AAED,wBAAY,CAAC,wCAAc,EAAE,gBAAgB,CAAC,CAAC;;;ACvCP;AACa;AACO;AACD;AACQ;AAGzB;AACM;AAWhD,0CAA0C;AAEnC,MAAM,4BAAmB,SAAQ,2BAAa;IAEvC,YAAY,CAA0B;IAEhD;QAEI,KAAK,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC;QAEhC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QAEtB,IAAI,0CAAe,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC3D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;YACrB,OAAO;QAEV,uCAAgC,CAAC,IAAI,CAAC,CAAC;QAExC,MAAM,wCAAU,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,OAAO,IAAI,OAAO,CAAS,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;IAC/D,CAAC;IAED,0CAA0C;IAG1C,IAAI,CAAC,UAAkB;QAEnB,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;YACrB,OAAO;QAEX,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QAErB,iDAAqC,EAAE,CAAC;QAEzC,IAAI,IAAI,CAAC,YAAY,EAAE;YAEnB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;IACL,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,SAAS,CAAW,OAAmC;QAE1D,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAExC,IAAI,CAAC,4BAAQ,CAAC,QAAQ;YAClB,4BAAQ,CAAC,QAAQ,GAAG,IAAI,4BAAQ,EAAE,CAAC;QAEvC,4BAAQ,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAE5C,4BAAQ,CAAC,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC;QAE1C,IAAI,OAAO,CAAC,MAAM,EAAE;YAEhB,IAAI,MAAe,CAAC;YAEpB,IAAI,OAAO,OAAO,CAAC,MAAM,IAAI,QAAQ;gBACjC,MAAM,GAAG;oBACL,IAAI,EAAE,OAAO,CAAC,MAAM;oBACpB,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE;iBACxC,CAAC;;gBAEF,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;YAE5B,4BAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,2CAAqB,CAAC,MAAM,EAAE;gBACrD,YAAY,EAAE,KAAK,IAAI,EAAE;oBACrB,MAAM,MAAM,CAAC,YAAY,EAAE,CAAC;oBAC5B,4BAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACxC,CAAC;aACJ,CAAC,CAAC;SACN;;YAEG,4BAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QAEpC,IAAI,OAAO,CAAC,QAAQ,EAAE;YAElB,UAAU,CAAC,GAAG,EAAE;gBAEZ,IAAI,4BAAQ,CAAC,QAAQ,CAAC,UAAU,IAAI,UAAU,IAAI,4BAAQ,CAAC,QAAQ,CAAC,UAAU;oBAC1E,4BAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAErC,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC;SACzC;QAED,OAAO,4BAAQ,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAe,IAAI,CAAC;IAE1B,OAAO,GAAa,IAAI,CAAC;IAEzB,QAAQ,GAAc,mCAAoB,CAAC,CAAC,CAAC,CAAC;IAE9C,UAAU,GAAW,IAAI,CAAC;IAElB,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAGnC,wBAAY,CAAC,4BAAQ,EAAE,UAAU,CAAC,CAAC;;;AClIU;AACe;AAIU;AAOtE,8CAA8C;AAEvC,MAAM,2BAAc,SAAQ,2BAAa;IAE5C,YAAY,MAA6B;QACrC,KAAK,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE5C,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,8CAA8C;IAE9C,MAAM;QACF,IAAI,CAAC,OAAO,GAAG,kDAAmB,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACjE,CAAC;IAED,8CAA8C;IAE9C,OAAO,CAAoB;IAE3B,OAAO,CAAS;CACnB;AAED,wBAAY,CAAC,2BAAa,EAAE,eAAe,CAAC,CAAC;;;ACrC6B;AACrB;AACO;AACD;AACQ;AAEA;AACG;AAWtE,0CAA0C;AAEnC,MAAM,sBAAM,SAAQ,2BAAa;IAE5B,MAAM,CAAC,UAAU,CAAc;IAE/B,MAAM,CAAC,MAAM,GAAG,0CAAgB,EAAS,CAAC;IAExC,YAAY,CAAyB;IAE/C,YAAY,MAAqB;QAE7B,KAAK,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAExD,IAAI,sBAAK,CAAC,UAAU,IAAI,IAAI;YACxB,sBAAK,CAAC,IAAI,EAAE,CAAC;QAEjB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,EAAE,uDAAmB,CAAC,CAAC;QAE9D,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAEpC,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,IAAI;QAEP,sBAAK,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEjD,sBAAK,CAAC,UAAU,CAAC,SAAS,GAAG,iBAAiB,CAAC;QAE/C,MAAM,OAAO,GAAG,IAAI,0CAAe,CAAC,sBAAK,CAAC,MAAM,EAAE,sBAAK,CAAC,UAAU,CAAC,CAAC;QAEpE,OAAO,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAE3C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,sBAAK,CAAC,UAAU,CAAC,CAAC;IAChD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,sBAAK,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAEvB,MAAM,wCAAU,CAAC,EAAE,CAAC,CAAC;QAErB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC;QAE7C,IAAI,MAAM,IAAI,CAAC;YACX,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAEtE,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC;QAE3C,OAAO,IAAI,OAAO,CAAS,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;IAC/D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,MAAM,wCAAU,CAAC,GAAG,CAAC,CAAC;QAEtB,sBAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE1B,IAAI,IAAI,CAAC,YAAY,EAAE;YAEnB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;IACL,CAAC;IAED,0CAA0C;IAE1C,OAAO,GAAW,IAAI,CAAC;IAEvB,IAAI,GAAW,IAAI,CAAC;IAEpB,QAAQ,GAAc,mCAAoB,CAAC,CAAC,CAAC,CAAC;;AAIlD,wBAAY,CAAC,sBAAK,EAAE,OAAO,CAAC,CAAC;;;ACxGsB;AACuB;AACd;AAEO;AAMH;AACtB;AACsB;AAClB;AACY;AAoB1D,0CAA0C;AAEnC,MAAM,yBAAuC,SAAQ,uBAAqB;IAE7E,YAAY,MAAoC;QAE5C,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,mDAAiB,CAAC,CAAC;QAE1D,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE/D,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,SAAS;gBAChB,IAAI,CAAC,SAAS,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAElD,IAAI,MAAM,CAAC,aAAa;gBACpB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAE7D,IAAI,MAAM,CAAC,OAAO;gBACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAEtD;IACL,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,MAAe;QACrB,MAAM,IAAI,GAAG,2CAAqB,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,cAAc,EAAE,MAAM,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;QAC9F,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,SAAS;QAEL,IAAI,qBAAW,CAAC,IAAI,CAAC,OAAO,CAAC;YACzB,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;QACpC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,aAAa,CAAC,KAAe;QAE/B,IAAI,qBAAW,CAAC,IAAI,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAED,IAAI,CAAC,UAAyB,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,0CAA0C;IAE1C,KAAK,GAAW,IAAI,CAAC;IAErB,OAAO,GAAY,IAAI,CAAC;IAExB,KAAK,GAAW,CAAC,CAAC;IAElB,KAAK,GAAW,EAAE,CAAC;IAEnB,QAAQ,GAAY,KAAK,CAAC;IAE1B,SAAS,GAAW,IAAI,CAAC;IAEzB,UAAU,GAAW,IAAI,CAAC;IAEjB,OAAO,GAAgC,0CAAgB,EAAE,CAAC;CACtE;AAiBD,0CAA0C;AAC1C;0CAC0C;AAEnC,MAAM,gCAAW,SAAQ,8BAA8B;IAE1D,YAAY,MAAsB;QAE9B,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,OAAO,GAAG;YACX,IAAI,EAAE,IAAI,gCAAU,CAAC;gBACjB,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,CAAC,WAAW,CAAC;gBACrB,OAAO,EAAE,IAAI,oCAAY,CAAC;oBACtB,QAAQ,EAAE,oBAAoB;oBAC9B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;iBAC/B,CAAC;gBACF,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE;aACvC,CAAC;YACF,IAAI,EAAE,IAAI,gCAAU,CAAC;gBACjB,IAAI,EAAE,MAAM;gBACZ,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,CAAC,WAAW,CAAC;gBACrB,OAAO,EAAE,IAAI,oCAAY,CAAC;oBACtB,QAAQ,EAAE,oBAAoB;oBAC9B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;iBAC/B,CAAC;gBACF,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE;aAC3C,CAAC;YACF,MAAM,EAAE,IAAI,gCAAU,CAAC;gBACnB,IAAI,EAAE,QAAQ;gBACd,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,CAAC,WAAW,CAAC;gBACrB,OAAO,EAAE,IAAI,oCAAY,CAAC;oBACtB,QAAQ,EAAE,oBAAoB;oBAC9B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;iBACjC,CAAC;gBACF,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;aACzC,CAAC;SACL;QAED,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;YAExD,IAAI,QAAQ,IAAI,CAAC,CAAC;gBACd,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;YAEhD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;YAExC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;YAE1C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAE/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAE/C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAElD,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS;gBAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;;gBAE5C,IAAI,CAAC,SAAS,GAAG,+CAAa,CAAC,MAAM,EAAE,SAAS,IAAI,aAAa,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE/D,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE/D,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAEjE,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,KAAK,EAAE;gBACd,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAC7B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,yBAAc,CAAC,EAAE,GAAG,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBAEjE,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAC7B;YAED,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC;SAC/C;QAED,IAAI,CAAC,MAAM,EAAE,SAAS;YAClB,IAAI,CAAC,SAAS,GAAG,+CAAa,CAAC,aAAa,CAAC,CAAC;QAElD,IAAI,CAAC,MAAM,EAAE,WAAW;YACpB,IAAI,CAAC,SAAS,GAAG,+CAAa,CAAC,eAAe,CAAC,CAAC;IACxD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QAEb,IAAI,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,IAAI;YAC9D,OAAO;QAEX,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,aAAa;QAEzB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,WAAW;IACX,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,kBAAkB,CAAC,WAAmB;QAExC,IAAI,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEpC,OAAO,OAAO,IAAI,WAAW,EAAE;YAC3B,IAAI,CAAE,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE;gBACjD,OAAO,OAAO,CAAC;YACnB,OAAO,EAAE,CAAC;SACb;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC;YACtB,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,SAAS,EAAE,CAAC;IAClE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,KAAa;QAE/B,IAAI,KAAK,IAAI,IAAI,CAAC,gBAAgB;YAC9B,OAAO;QAEX,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,EAAE;YAE/B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YAExD,IAAI,MAAM,KAAK,IAAI,EAAE;gBACjB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;aAE7C;iBACI;gBAED,IAAI,CAAC,gBAAgB,GAAG,MAAgB,CAAC;gBAEzC,IAAI,MAAM,IAAI,IAAI,CAAC,gBAAgB;oBAC/B,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAgB,CAAC,CAAC,SAAS,EAAE,CAAC;aAC5D;SACJ;;YAEG,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IACtC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK;YAC9C,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,aAAa;QAEf,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC;YACzB,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,QAAQ;QAEV,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,0CAA0C;IAE1C,WAAW;QACP,IAAI,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QACzC,OAAO,QAAQ,IAAI,CAAC,EAAE;YAClB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO;gBAClC,OAAO,IAAI,CAAC;YAChB,QAAQ,EAAE,CAAC;SACd;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,WAAW;QACP,IAAI,QAAQ,GAAG,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QACzC,OAAO,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE;YACvC,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO;gBAClC,OAAO,IAAI,CAAC;YAChB,QAAQ,EAAE;SACb;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,UAAU;QACN,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IAED,0CAA0C;IAE1C,gBAAgB,GAAW,CAAC,CAAC,CAAC;IAE9B,WAAW,CAAsB;IAEjC,OAAO,CAA0B;IAEjC,SAAS,GAAW,MAAM,CAAC;IAE3B,SAAS,GAAW,UAAU,CAAC;IAE/B,WAAW,GAAW,QAAQ,CAAC;CAClC;AAED,wBAAY,CAAC,yBAAc,EAAE,gBAAgB,CAAC,CAAC;AAE/C,wBAAY,CAAC,gCAAU,EAAE,YAAY,CAAC,CAAC;;;AC9WA;AAC2B;AACD;AAQE;AACrB;AAEM;AAES;AA2B7D,0CAA0C;AAEnC,MAAe,+BAAwD,SAAQ,8DAAc;IAEtF,SAAS,CAA6B;IACtC,QAAQ,CAAkB;IAC1B,aAAa,GAAG,KAAK,CAAC;IACtB,aAAa,GAAG,KAAK,CAAC;IAEhC,0CAA0C;IAE1C;QACI,KAAK,EAAE,CAAC;IACZ,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY;QAEd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI;YACA,IAAI,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACpD,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;SAC3C;gBACO;YACJ,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC9B;IACL,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAC,MAAe;QACxC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,eAAe;QAEX,IAAI,IAAI,CAAC,aAAa;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;QAEzB,IAAI,CAAC,SAAS,EAAE,kBAAkB,EAAE,CAAC;QAErC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,aAAa,CAAC,MAA6B;QAE7C,IAAI,CAAC,SAAS,EAAE,gBAAgB,EAAE,CAAC;QAEnC,IAAI,MAAM,IAAI,SAAS;YACnB,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;IAClC,CAAC;IAMD,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAsB;QAExC,MAAM,KAAK,GAAY,EAAE,CAAC;QAE1B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAEhD,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC;YAC1B,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,WAAW,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,gBAAgB,CAAC;gBACjD,QAAQ,EAAE,OAAO,CAAC,QAAQ;aAC7B,CAAC,CAAC,CAAC,CAAC,SAAS;YACd,GAAG,OAAO,CAAC,QAAQ;SACtB,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEnD,IAAI,OAAO,CAAC,OAAO,EAAE;YAEjB,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC;oBACvB,MAAM,EAAE,CAAC,UAAU,CAAC;oBACpB,YAAY,EAAE,UAAU;oBACxB,aAAa,EAAE,CAAC,QAAQ,CAAC;oBACzB,cAAc,EAAE,IAAI,CAAC,EAAE;wBACnB,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;wBACrC,IAAI,CAAC,YAAY,EAAE,CAAC;oBACxB,CAAC;oBACD,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;wBACtC,IAAI,EAAE,CAAC,CAAC,IAAI;wBACZ,IAAI,EAAE,CAAC,CAAC,IAAI;wBACZ,OAAO,EAAE,CAAC,CAAC,OAAO;qBACrB,CAAC,CAAC,CAAC,OAAO,EAAE;iBAChB,CAAC,CAAC;gBAEH,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC7B;iBACI,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC;gBAChC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;SAC1D;QAED,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE3B,IAAI,IAAI,CAAC,QAAQ;YACb,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAE9D,IAAI,OAAO,CAAC,MAAM;YACd,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/C,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;QAElC,4BAA4B;QAE5B,IAAI,OAAO,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;SACxC;QAED,OAAO,OAAO,CAAC,OAAO,CAAC;YACnB,KAAK,EAAE,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;YAC7C,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,KAAK,EAAE,KAAK;YACZ,GAAG,EAAE,OAAO,CAAC,GAAG;YAChB,WAAW,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,GAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS;SAC7D,CAAC,CAAC;IACvB,CAAC;IAED,0CAA0C;IAEhC,aAAa;QAEnB,WAAW,CAAC,QAAQ,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;QACjD,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;QACxD,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3E,IAAI,OAAO;YACP,OAAO,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED,0CAA0C;IAEhC,WAAW;QAEjB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3E,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAmB,CAAC;QAC5E,IAAI,CAAC,SAAS,EAAE;YACZ,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAC1C,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnE;QACD,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;QACzB,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAE/B,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;QACrD,WAAW,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC/B,QAAQ,CAAC,QAAQ,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;IAClD,CAAC;IAGD,0CAA0C;IAE1C,SAAS,CAAC,IAAY,EAAE,OAAgB;QAEpC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,OAAO,CAAC;QAEhC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,EAAE;gBACP,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;oBACzB,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,OAAO;iBACnB,CAAC;aACL;iBACI;gBACD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;aAC1B;YAED,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,IAAI,CAAC;YACtD,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;YAElC,OAAO,UAAU,CAAC;SACrB;;YAEG,OAAO,IAAI,CAAC;IACpB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW,CAAC,IAAY;QAE1B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,EAAG,CAAC;QAErG,MAAM,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IACxC,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;CAGJ;;;ACxP4C;AAOG;AACU;AAQ1D,0CAA0C;AAEnC,MAAe,qBAAU;IAElB,QAAQ,CAAU;IAClB,SAAS,CAAe;IACxB,oBAAoB,CAAU;IAExC,0CAA0C;IAE1C,YAAY,MAA0B;QAClC,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,mBAAmB,KAAK,SAAS;gBACxC,IAAI,CAAC,oBAAoB,GAAG,MAAM,CAAC,mBAAmB,CAAC;SAC9D;IACL,CAAC;IAED,0CAA0C;IAE1C,YAAY;QACR,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAsB;QAExC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,CAAC;YACxB,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;YACrC,OAAO,EAAE,QAAQ,CAAC,UAAU,EAAE;YAC9B,mBAAmB,EAAE,IAAI,CAAC,oBAAoB;SACjD,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,EAAE,CAAC;QAEpC,OAAqB;YACjB,KAAK,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC;YACtC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;SAC/B,CAAC;IACN,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,OAAoB;QACzC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,WAAW;QAEvB,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK,CAAC;IACnC,CAAC;CAKJ;;;AC1EkD;AAEc;AAMD;AACA;AACN;AACb;AA2B7C,0CAA0C;AAEnC,MAAM,yCAAgI,SAAQ,8DAAc;IAErJ,KAAK,CAAmB;IAExB,gBAAgB,CAA2B;IAE3C,iBAAiB,CAA4B;IAEvD,YAAY,MAA2D;QAEnE,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAEhC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAEzC,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,MAAM,IAAI,IAAI,EAAE;YAEhB,IAAI,MAAM,CAAC,MAAM;gBACb,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SACvD;QAED,IAAI,IAAI,CAAC,aAAa;YAClB,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,aAAa,CAAC,MAAO;QAEjB,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa;YAChC,OAAO,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACpD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,eAAe;QAEX,IAAI,IAAI,CAAC,aAAa,CAAC,eAAe;YAClC,OAAO,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;QAChD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAE7B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAsB;QAExC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAGlB,IAAI,IAAI,CAAC,IAAI,IAAI,MAAM,EAAE;YACrB,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,gBAAgB,CAAC;YACrE,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ;gBACxB,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;;gBAEtB,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;SAC9B;QAED,IAAI,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;YAEzB,MAAM,KAAK,GAAY,EAAE,CAAC;YAE1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,eAAe,CAAC;gBACxC,IAAI,EAAE,QAAQ;gBACd,eAAe,EAAE,IAAI,CAAC,aAAa;aACtC,CAAC,CAAC;YAEH,IAAI,CAAC,iBAAiB,GAAG,IAAI,eAAe,CAAW;gBACnD,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,IAAI,YAAY,CAAC;oBACxB,MAAM,EAAE,CAAC,YAAY,CAAC;oBACtB,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;oBACpB,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,eAAe,CAAC;iBACnE,CAAC;aACL,CAAC,CAAC;YAEH,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAElC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAEnC,OAAO,OAAO,CAAC,OAAO,CAAC;gBACnB,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC;gBACnC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;aACf,CAAC,CAAC;SACtB;;YAEG,OAAO,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAExD,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,gBAAgB,CAAC,IAAW;QAE9B,IAAI,IAAI,CAAC,gBAAgB;YACrB,OAAO;QAEX,IAAI;YAEA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAE7B,IAAI,CAAC,IAAI,EAAE;gBAEP,IAAI,IAAI,CAAC,IAAI,IAAI,UAAU;oBACvB,MAAM,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,CAAC;aACjD;iBACI;gBAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAE/D,IAAI,CAAC,OAAO;oBACR,OAAO;gBAEX,IAAI,IAAI,CAAC,IAAI,IAAI,UAAU,EAAE;oBAEzB,IAAI,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,eAAe;wBACvD,MAAM,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;oBAEnE,IAAI,CAAC,iBAAiB,CAAC,eAAe,GAAG,OAAO,CAAC;oBAEjD,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,CAAC;iBAC5C;qBACI;oBAED,MAAM,OAAO,CAAC,aAAa,CAAC,IAAI,eAAe,CAAC;wBAC5C,SAAS,EAAE,CAAC,OAAO,CAAC;wBACpB,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI;qBAC1B,CAAC,CAAC,CAAC;iBAEP;gBACD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;aAC1B;SACJ;gBACO;YACJ,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;SACjC;IACL,CAAC;IAED,0CAA0C;IAE1C,gBAAgB,GAAY,KAAK,CAAC;IAElC,OAAO,GAAa,IAAI,CAAC;IAEzB,QAAQ,GAAW,GAAG,CAAC;IAEvB,aAAa,GAAY,IAAI,CAAC;IAE9B,MAAM,GAAgB,CAAC,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC;IAE3F,IAAI,GAAsB,MAAM,CAAC;IAEjC,eAAe,GAAgB,IAAI,CAAC;IAEpC,IAAI,IAAI,KAAuB,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC;CAClE;;;AC1MkD;AAKG;AACI;AACR;AAI3C,MAAM,6BAAc;IAEb,QAAQ,CAAkB;IAEpC,0CAA0C;IAE1C,YAAY,OAAwB;QAEhC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,eAAe,CAAC,IAAsB;QAExC,MAAM,KAAK,GAAW,EAAE,CAAC;QAEzB,KAAK,CAAC,IAAI,CAAC,IAAI,oCAAY,CAAC;YACxB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;YACxB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO;YAC3B,MAAM,EAAE,CAAC,cAAc,CAAC;SAC3B,CAAC,CAAC,CAAC;QAEJ,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,gCAAU,CAAC;gBACpE,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,CAAC,SAAS,CAAC;gBACnB,OAAO,EAAE,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,+CAAa,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC;gBACrE,YAAY,EAAE,KAAK,IAAI,EAAE;oBACrB,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;oBACxB,MAAM,MAAM,CAAC,YAAY,EAAE,CAAC;gBAChC,CAAC;aACJ,CAAC,CAAC,CAAC,CAAC;SACR;QAED,OAAO,OAAO,CAAC,OAAO,CAAC;YACnB,KAAK,EAAE,KAAK;YACZ,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;YAC1B,MAAM,EAAE,CAAC,UAAU,EAAE,gBAAgB,EAAE,QAAQ,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC;SACjF,CAAC,CAAC;IACvB,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,OAAO;YACH,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,IAAI;YACV,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK;SACf,CAAC;IAC1B,CAAC;CACJ;;;AC/D2D;AACK;AAQjE,0CAA0C;AAEnC,MAAe,6BAA6B,SAAQ,wCAAc;IAErE,YAAY,MAA4C;QACpD,KAAK,EAAE,CAAC;IACZ,CAAC;IAED,0CAA0C;IAE1C,cAAc,CAAC,IAAW;QAEtB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,KAAe;QAEvB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAEjC,IAAI,GAAU,IAAI,CAAC;IAEnB,KAAK,GAAU,IAAI,CAAC;IAEpB,OAAO,GAAY,IAAI,CAAC;CAEpC;AAED,wBAAY,CAAC,6BAAc,EAAE,gBAAgB,CAAC,CAAC;;;ACxCmB;AACf;AAES;AAEO;AAMb;AACJ;AAEW;AAyB7D,0CAA0C;AAEnC,MAAe,qBAAsE,SAAQ,qBAAwB;IAExH,YAAY,MAAuE;QAE/E,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAE1C,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAE1C,IAAI,MAAM,CAAC,cAAc;gBACrB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;YAEhD,IAAI,MAAM,CAAC,kBAAkB;gBACzB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,kBAAkB,CAAC;YAExD,IAAI,MAAM,CAAC,gBAAgB;gBACvB,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;SACvD;QAED,IAAI,CAAC,MAAM,EAAE,QAAQ;YACjB,IAAI,CAAC,QAAQ,GAAG,6CAAY,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAE3E,IAAI,CAAC,MAAM,EAAE,SAAS;YAClB,IAAI,CAAC,SAAS,GAAG,6CAAY,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAE/E,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAE3B,IAAI,CAAC,YAAY,GAAG,+CAAyB,CAAC;YAC1C,IAAI,EAAE,QAAQ;YACd,IAAI,EAAE,aAAa;YACnB,SAAS,EAAE,0CAAmB;YAC9B,WAAW,EAAE,IAAI,CAAC,SAAS;YAC3B,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;SACzC,CAAC,CAAC;IACP,CAAC;IAUD,0CAA0C;IAEhC,gBAAgB;QAEtB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,OAAO,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,kBAAkB,CAAC,IAAW;QAEpC,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAGD,0CAA0C;IAEhC,KAAK,CAAC,2BAA2B;QAEvC,MAAM,KAAK,CAAC,2BAA2B,EAAE,CAAC;QAE1C,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAAY,KAAK,CAAC;IAExB,QAAQ,GAAW,KAAK,CAAC;IAEzB,SAAS,GAAW,QAAQ,CAAC;IAE7B,YAAY,GAAe,IAAI,CAAC;IAEhC,WAAW,GAAuD,IAAI,CAAC;IAEvE,QAAQ,GAAW,CAAC,CAAC;IAErB,UAAU,GAAoB,SAAS,CAAC;IAE/B,OAAO,GAA4C,0CAAgB,EAAE,CAAC;CAClF;AAED,wBAAY,CAAC,qBAAU,EAAE,YAAY,CAAC,CAAC;;;ACtJmC;AACd;AAGC;AAW7D,8CAA8C;AAEvC,MAAM,mCAAc,SAAQ,qBAAmB;IAElD,YAAY,MAA6B;QAErC,KAAK,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE3C,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAE5C,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,EAAE,qDAAkB,CAAC,CAAC;QAE3D,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAE9C,MAAM;QAEF,IAAI,MAAM,CAAC,KAAK;YACZ,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;IACrC,CAAC;IAED,8CAA8C;IAE9C,SAAS,GAAW,IAAI,CAAC;IAEzB,UAAU,GAAW,IAAI,CAAC;IAE1B,KAAK,GAAW,IAAI,CAAC;CACxB;AAED,wBAAY,CAAC,mCAAa,EAAE,eAAe,CAAC,CAAC;;;AClDsB;AACP;AAEa;AAOzE,8CAA8C;AAEvC,MAAM,6BAAW,SAAQ,6BAAoB;IAEhD,YAAY,MAA0B;QAElC,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAGD,8CAA8C;IAEpC,WAAW,CAAC,KAAW;QAE7B,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAU,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAC;IAC9F,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAa;QAE/B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI;YACrC,OAAO,IAAI,CAAC;QAChB,OAAO,mBAAS,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;IACvC,CAAC;IAGD,8CAA8C;IAE9C,WAAW,GAAW,IAAI,CAAC;CAC9B;AAED,wBAAY,CAAC,6BAAU,EAAE,YAAY,CAAC,CAAC;;;AC9Ca;AACQ;AACC;AAc7D,8CAA8C;AAEvC,MAAM,uCAAgB,SAAQ,qBAAgB;IAEjD,YAAY,MAA+B;QACvC,KAAK,CAAC,MAAM,CAAC;QAEb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAEjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE;YACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,gBAAM,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAEpE,MAAM,OAAO,GAAG,MAAM,EAAE,OAAO,IAAI,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QAE5D,MAAM,OAAO,GAAG,MAAM,EAAE,OAAO,IAAI,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC;QAElE,KAAK,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,EAAE;YACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;QAElC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAC7D,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;IAGhE,CAAC;IAED,8CAA8C;IAEpC,SAAS;QACf,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAE9C,WAAW,CAAC,KAAe;QACvB,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE;YAClD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS;QAET,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,YAAY;YAC9D,OAAO,IAAI,CAAC;QAChB,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC/G,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS,CAAC,KAAW;QAErB,IAAI,KAAK,EAAE,OAAO,EAAE,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;YAC7C,OAAO;QAEX,IAAI,CAAC,KAAK,EAAE;YACR,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;aACI;YACD,IAAI,CAAC,WAAW,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YAChD,IAAI,CAAC,aAAa,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;YACvD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;SACtD;IACL,CAAC;IAED,8CAA8C;IAE9C,WAAW,GAAW,IAAI,CAAC;IAE3B,aAAa,GAAW,IAAI,CAAC;IAE7B,YAAY,GAAW,IAAI,CAAC;IAE5B,IAAI,GAAa,EAAE,CAAC;IAEpB,MAAM,GAAiB,EAAE,CAAC;IAE1B,KAAK,GAAa,EAAE,CAAC;CACxB;AAED,wBAAY,CAAC,uCAAe,EAAE,iBAAiB,CAAC,CAAC;;;ACpGW;AACK;AAId;AAWnD,0CAA0C;AAEnC,MAAM,uCAAkC,SAAQ,wCAAc;IAEzD,KAAK,CAAQ;IAErB,YAAY,MAAiD;QAEzD,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;YAExC,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;SAC3C;IACL,CAAC;IAED,0CAA0C;IAE1C,aAAa;QAET,IAAI,qBAAW,CAAC,IAAI,CAAC,MAAM,CAAC;YACxB,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;QAEvC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,cAAc,CAAC,IAAW;QAEtB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,OAAO,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW,CAAC,KAAe;QAE7B,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;YACtC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC/C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,IAAW;QAElB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,UAAU,CAAC,IAAW,EAAE,SAAgB;IAExC,CAAC;IAED,0CAA0C;IAE1C,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAC7B,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IAC/B,CAAC;IAED,MAAM,GAAwB,IAAI,CAAC;CACtC;AAED,wBAAY,CAAC,uCAAmB,EAAE,qBAAqB,CAAC,CAAC;;;ACjGN;AAGa;AACV;AACV;AACe;AACvB;AAiBpC,0CAA0C;AAEnC,IAAU,uBAAW,CAsG3B;AAtGD,WAAiB,WAAW;IAEjB,KAAK,UAAU,gBAAgB,CAAC,OAAwB;QAE3D,MAAM,UAAU,GAAG,OAAO,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAE5E,MAAM,MAAM,GAAG,IAAI,gCAAU,CAAC,EAAE,OAAO,EAAE,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;QAEtG,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAEnB,MAAM,CAAC,SAAS,CAAC;gBACb,IAAI,EAAE,CAAC;gBACP,WAAW,EAAE,+CAAa,CAAC,CAAC,CAAC;gBAC7B,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE;aACxC,CAAC;QACN,CAAC,CAAC;QAEF,IAAI,OAAO,CAAC,aAAa;YACrB,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5D,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,SAAS,EAAE,CAAC;QAExC,OAAsB,MAAM,CAAC;IACjC,CAAC;IArBqB,4BAAgB,mBAqBrC;IAED,0CAA0C;IAEnC,KAAK,UAAU,YAAY,CAAC,OAAoB;QACnD,MAAM,MAAM,GAAG,MAAM,gBAAgB,CAAC;YAClC,OAAO,EAAE,OAAO;YAChB,KAAK,EAAE,SAAS;YAChB,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;SACzB,CAAC,CAAC;QACH,OAAO,MAAM,IAAI,KAAK,CAAC;IAC3B,CAAC;IAPqB,wBAAY,eAOjC;IAED,0CAA0C;IAE1C,SAAgB,IAAI,CAAC,OAAoB;QAErC,MAAM,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QAE9C,KAAK,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IALe,gBAAI,OAKnB;IAED,0CAA0C;IAE1C,SAAgB,OAAO,CAAC,OAAoB;QAExC,MAAM,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;QAEnE,KAAK,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IALe,mBAAO,UAKtB;IAED,0CAA0C;IAE1C,SAAgB,KAAK,CAAC,OAAoB;QAEtC,MAAM,KAAK,GAAG,IAAI,sBAAK,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,oBAAoB,EAAE,CAAC,CAAC;QAE7F,KAAK,CAAC,SAAS,EAAE,CAAC;IACtB,CAAC;IALe,iBAAK,QAKpB;IAGD,0CAA0C;IAEnC,KAAK,UAAU,OAAO,CAAC,OAAwB;QAElD,MAAM,IAAI,GAAG,MAAM,qCAAqB,CAAC,IAAI,0CAAe,CAAS;YACjE,SAAS,EAAE,CAAC,IAAI,6BAAc,CAAC;oBAC3B,IAAI,EAAE,cAAc;oBACpB,aAAa,EAAE,CAAC;4BACZ,IAAI,EAAE,OAAO;4BACb,WAAW,EAAE,OAAO;4BACpB,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE;yBACxC,CAAC;oBACF,GAAG,OAAO;iBACb,CAAC,CAAC;YACH,IAAI,EAAE,SAAS;SAClB,CAAC,CAAC,CAAC;QAEJ,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC;IAC7B,CAAC;IAhBqB,mBAAO,UAgB5B;IAED,0CAA0C;IAEnC,KAAK,UAAU,IAAI,CAAC,OAAwB;QAE/C,MAAM,IAAI,GAAG,MAAM,qCAAqB,CAAC,IAAI,0CAAe,CAAS;YACjE,SAAS,EAAE,CAAC,IAAI,6BAAc,CAAC;oBAC3B,IAAI,EAAE,iBAAiB;oBACvB,aAAa,EAAE,CAAC;4BACZ,IAAI,EAAE,OAAO;4BACb,WAAW,EAAE,OAAO;4BACpB,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE;yBACxC,CAAC,EAAE,GAAG,OAAO;iBACjB,CAAC,CAAC;YACH,IAAI,EAAE,SAAS;SAClB,CAAC,CAAC,CAAC;QAEJ,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC;IAC7B,CAAC;IAfqB,gBAAI,OAezB;AACL,CAAC,EAtGgB,uBAAW,KAAX,uBAAW,QAsG3B;;;AChI+D;AAchE,0CAA0C;AAEnC,MAAM,6CAA2F,SAAQ,6BAAmC;IAE/I,YAAY,MAA0E;QAElF,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,MAAM,EAAE;YAGR,IAAI,MAAM,CAAC,YAAY;gBACnB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;YAE5C,IAAI,MAAM,CAAC,eAAe;gBACtB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;YAElD,IAAI,MAAM,CAAC,eAAe;gBACtB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;YAElD,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;SACrC;IACL,CAAC;IAGD,8CAA8C;IAE9C,OAAO;QAEH,OAAc,EAAE,CAAC;IACrB,CAAC;IAED,8CAA8C;IAE9C,YAAY,CAAC,IAAU;QAEnB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAwB,CAAC,CAAC;IACrD,CAAC;IAED,8CAA8C;IAE9C,eAAe,CAAC,QAAiB,EAAE,IAAY;QAE3C,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,8CAA8C;IAE9C,eAAe,CAAC,IAAW;QAEvB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;CAGJ;;;ACpEiE;AACf;AACZ;AAG0B;AACE;AAEX;AAOQ;AACV;AACa;AACjB;AACW;AAChB;AACQ;AACa;AACC;AACN;AACzB;AACwB;AA4E5D,8CAA8C;AAEvC,MAAM,+BAAqD,SAAQ,4BAAe;IAGrF,YAAY,MAAmE;QAE3E,KAAK,CAAC;YACF,GAAG,MAAM;SACZ,CAAC,CAAC;QAEH,IAAI,MAAM,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC;gBACX,IAAI,EAAE,WAAW;gBACjB,IAAI,EAAE,aAAa;gBACnB,SAAS,EAAE,0CAAmB;gBAC9B,QAAQ,EAAE,kDAAwB,CAAC,MAAM,CAAC,mBAAmB,CAAC;gBAC9D,WAAW,EAAE,MAAM,CAAC,eAAe;gBACnC,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE;aACvC,CAAC,CAAC;SACN;QAED,IAAI,MAAM,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC;gBACX,IAAI,EAAE,aAAa;gBACnB,IAAI,EAAE,cAAc;gBACpB,SAAS,EAAE,0CAAmB;gBAC9B,QAAQ,EAAE,kDAAwB,CAAC,MAAM,CAAC,mBAAmB,CAAC;gBAC9D,WAAW,EAAE,MAAM,CAAC,iBAAiB;gBACrC,YAAY,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE;aACzC,CAAC,CAAC;SACN;QAED,IAAI,MAAM,CAAC,WAAW,EAAE;YACpB,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC;gBAChD,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,QAAQ,EAAE,MAAM,CAAC,QAAQ;gBACzB,SAAS,EAAE,MAAM,CAAC,SAAS;gBAC3B,WAAW,EAAE,+CAAa,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC;gBAC9E,UAAU,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS;gBACzE,YAAY,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC;aAChD,CAAC,CAAC,CAAC;SACP;QAED,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;IAC9B,CAAC;IAED,8CAA8C;IAE9C,UAAU;QAEN,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAErB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,IAAI,QAAQ,IAAI,CAAC,uBAAa,CAAC,IAAI,CAAC,MAAM,CAAC;YACvE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;YAEnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,8CAA8C;IAE9C,gBAAgB;QAEZ,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,kBAAkB;QAEd,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,eAAe;QAEX,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,kBAAkB,CAAC,IAAa;QAE5B,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,eAAe,CAAC,IAAa;QAEzB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS;QAEX,IAAI,IAAI,CAAC,MAAM;YACX,OAAO,KAAK,CAAC;QAEjB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAEd,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO;gBACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;;gBAErC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC/C;QAED,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAEnB,IAAI,IAAI,CAAC,QAAQ,IAAI,UAAU,EAAE;YAE7B,IAAI,OAAO,GAAU,IAAI,CAAC;YAE1B,IAAI,uBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gBAE5B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEzD,IAAI,SAAS,EAAE;oBACX,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO;wBACtB,OAAO,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,SAAoB,CAAC,CAAC;;wBAE3D,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAoB,CAAC;iBACpE;aACJ;iBACI;gBAED,MAAM,QAAQ,GAAG,IAAI,0CAAe,CAAQ;oBACxC,SAAS,EAAE,CAAC,IAAI,+BAAe,CAAC;4BAC5B,MAAM,EAAE,IAAI,CAAC,MAAM;4BACnB,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS;4BACtE,KAAK,EAAE,IAAI,CAAC,IAAI;4BAChB,aAAa,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAe,CAAC;yBACnI,CAAC,CAAC;iBACN,CAAC,CAAC;gBAEH,OAAO,GAAG,MAAM,CAAC,MAAM,qCAAqB,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;aAClE;YAED,IAAI,OAAO,EAAE;gBAET,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;gBAEpB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;gBAE1B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBAEpB,MAAM,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACjC;;gBAEG,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAExB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,OAAO,OAAO,IAAI,IAAI,CAAC;SAC1B;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,8CAA8C;IAE9C,UAAU;QAEN,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAGD,8CAA8C;IAE9C,WAAW;QACP,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,WAAW;QACP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,aAAa,CAAC,KAAe;QAE/B,IAAI,IAAI,CAAC,MAAM,EAAE;YAEb,IAAI,qBAAW,CAAC,IAAI,CAAC,MAAM,CAAC;gBACxB,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;SAChD;aACI;YAED,IAAI,qBAAW,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtB,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;SAC9C;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,SAAS;QACX,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,8CAA8C;IAE9C,IAAI,WAAW;QACX,OAAqD,IAAI,CAAC,UAAU,CAAC;IACzE,CAAC;IAED,8CAA8C;IAE9C,KAAK,GAAW,IAAI,CAAC;IAErB,QAAQ,GAAW,IAAI,CAAC;IAExB,SAAS,GAAW,IAAI,CAAC;IAEzB,MAAM,GAAmF,IAAI,CAAC;IAAA,CAAC;IAE/F,IAAI,GAAU,IAAI,CAAC;IAEnB,KAAK,GAAW,IAAI,CAAC;IAErB,MAAM,GAAe,WAAW,CAAC;IAEjC,QAAQ,GAAiB,UAAU,CAAC;IAEpC,MAAM,GAAY,KAAK,CAAC;CAC3B;AAED,8CAA8C;AAEvC,MAAM,+BAAqE,SAAQ,qBAAoB;IAEhG,aAAa,GAAW,CAAC,CAAC;IAC1B,WAAW,GAAW,CAAC,CAAC;IAElC,YAAY,MAA4D;QAEpE,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAEpC,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;QAE7C,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,MAAM,EAAE;YAER,IAAI,CAAC,MAAM,CAAC,eAAe;gBACvB,IAAI,CAAC,eAAe,GAAG,+CAAa,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAErF,IAAI,CAAC,MAAM,CAAC,iBAAiB;gBACzB,IAAI,CAAC,iBAAiB,GAAG,+CAAa,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;YAEzF,IAAI,MAAM,CAAC,mBAAmB;gBAC1B,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,CAAC;YAE1D,IAAI,MAAM,CAAC,sBAAsB;gBAC7B,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,sBAAsB,CAAC;YAEhE,IAAI,MAAM,CAAC,cAAc;gBACrB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;YAEhD,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;YAExC,IAAI,MAAM,CAAC,OAAO;gBACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;YAElC,IAAI,MAAM,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;gBAEhC,IAAI,MAAM,CAAC,OAAO,IAAI,SAAS;oBAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aAC3B;SACJ;QAED,IAAI,CAAC,IAAI,CAAC,WAAW;YACjB,IAAI,CAAC,WAAW,GAAG,IAAI,6CAAmB,EAAE,CAAC;QAEjD,IAAI,CAAC,SAAS,GAAG,2CAAqB,CAAC;YACnC,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,aAAa;YACnB,SAAS,EAAE,0CAAmB;YAC9B,WAAW,EAAE,MAAM,EAAE,cAAc,IAAI,+CAAa,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;YAC9F,YAAY,EAAE,KAAK,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE;SAClD,CAAC;QAEF,IAAI,IAAI,CAAC,KAAK;YACV,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAE,CAAC;IACzC,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,aAAa;QAEzB,MAAM,QAAQ,GAAoB,EAAE,CAAC;QAErC,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO;YAC3B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QAEpC,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAED,8CAA8C;IAE9C,KAAK;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,8CAA8C;IAE9C,WAAW;QACP,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO;YAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC;IAED,8CAA8C;IAE9C,MAAM;IAEN,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,QAAQ;QAEV,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;QAE5B,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE5B,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAE/D,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;QAErB,QAAQ,CAAC,MAAM,GAAG,OAAO,CAAC;QAE1B,IAAI,MAAM,QAAQ,CAAC,SAAS,EAAE,EAAE;YAE5B,IAAI,yBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACjF,OAAO;YAEX,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAE3B,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;SAC5C;IACL,CAAC;IAED,8CAA8C;IAEpC,QAAQ,CAAC,IAAW;IAE9B,CAAC;IAED,8CAA8C;IAEpC,UAAU,CAAC,IAAW,EAAE,KAAc;IAEhD,CAAC;IAED,8CAA8C;IAEpC,SAAS,CAAC,QAA+B,EAAE,IAAW;QAE5D,IAAI,OAAO,QAAQ,IAAI,SAAS;YAC5B,OAAO,QAAQ,CAAC;QAEpB,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC;IAE1B,CAAC;IAED,8CAA8C;IAEpC,UAAU,CAAC,KAAa,EAAE,IAAY;QAE5C,MAAM,MAAM,GAAG,IAAI,+BAAmB,CAAkC;YACpE,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,6CAAY,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;YAChE,SAAS,EAAE,EAAE;YACb,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;YAC7C,eAAe,EAAE,IAAI,CAAC,eAAe;YACrC,iBAAiB,EAAE,IAAI,CAAC,iBAAiB;YACzC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;YAC/C,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC;YAC3C,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC;YAC3C,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC;SACzC,CAAC,CAAC;QAEH,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;QAEzB,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;QAE9C,MAAM,CAAC,eAAe,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAErE,MAAM,CAAC,kBAAkB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE3E,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAErE,MAAM,CAAC,kBAAkB,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QAEhG,MAAM,CAAC,SAAS,GAAG,KAAK,IAAI,EAAE;YAE1B,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBAEd,MAAM,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACxD,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC3D,MAAM,CAAC,SAAS,GAAG,6CAAY,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;gBAExF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,MAAM,IAAI,OAAO,CAAC,CAAC;aAC1D;YAED,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAE/C,MAAM,CAAC,UAAU,EAAE,CAAC;QACxB,CAAC,CAAC;QAEF,MAAM,CAAC,gBAAgB,GAAG,KAAK,IAAI,EAAE;YAEjC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;YAE3D,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC7C,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC/C,MAAM,CAAC,SAAS,GAAG,6CAAY,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YAExF,MAAM,CAAC,UAAU,EAAE,CAAC;YAEpB,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAC7C,CAAC;QAED,MAAM,CAAC,WAAW,GAAG,KAAK,IAAI,EAAE;YAE5B,IAAI,MAAM,CAAC,MAAM,IAAI,OAAO;gBACxB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;iBAC3B;gBACD,IAAI,IAAI,CAAC,eAAe,EAAE;oBACtB,IAAI,CAAC,MAAM,oCAAwB,CAAC,iDAAc,CAAC,oBAAoB,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;wBACnG,OAAO;iBACd;gBAED,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;oBACrB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;gBAE3B,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC;gBAC1B,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;aAC5C;QACL,CAAC;QAED,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;QAErB,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;YACrB,MAAM,CAAC,SAAS,EAAE,CAAC;QAEvB,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,IAAW;QAE7B,OAAY,IAAI,CAAC;IACrB,CAAC;IAED,8CAA8C;IAEpC,gBAAgB,CAAC,KAAa;QAEpC,OAAO,OAAO,CAAC,OAAO,CAAC,KAAyB,CAAC,CAAC;IACtD,CAAC;IAED,8CAA8C;IAEpC,aAAa,CAAC,QAAgB,EAAE,QAAgB;QAEtD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAE5B,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,OAAO;SACV;QAED,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACvC,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS,CAAC,KAAe;QAEzB,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW;YACjC,OAAO;QAEX,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QAEvB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAErB,IAAI;YAEA,IAAI,KAAK,EAAE;gBACP,KAAK,MAAM,SAAS,IAAI,KAAK;oBACzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;aACpD;SACJ;gBACO;YACJ,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAED,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC;YACtB,IAAI,CAAC,2BAA2B,EAAE,CAAC;IAC3C,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS;QAET,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;YAE7B,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;gBACxB,SAAS;YAEb,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAGD,8CAA8C;IAEpC,KAAK,CAAC,iBAAiB,CAAC,KAAe;QAE7C,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;YAE7B,IAAI,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;gBAChC,OAAO,GAAG,KAAK,CAAC;SACvB;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAGD,8CAA8C;IAEpC,KAAK,CAAC,eAAe,CAAC,KAAe;QAE3C,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB;;;;;;;UAOE;QAEF,IAAI,CAAC,OAAO;YACR,OAAO,KAAK,CAAC;QAEjB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAE9C,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAEjC,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,EAAE;gBAC1B,IAAI,MAAM,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;oBACjD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;qBACxB;oBACD,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;oBAChB,OAAO,GAAG,KAAK,CAAC;iBACnB;gBACD,SAAS,GAAG,IAAI,CAAC;aACpB;iBACI,IAAI,IAAI,CAAC,MAAM,IAAI,UAAU,IAAI,CAAC,uBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gBAC/D,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,KAAgB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnG,IAAI,UAAU,EAAE;oBACZ,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;oBACvB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;oBAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;iBACrB;qBACI;oBACD,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;oBAChB,OAAO,GAAG,KAAK,CAAC;iBAEnB;gBACD,SAAS,GAAG,IAAI,CAAC;aACpB;iBACI,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO,IAAI,CAAC,uBAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gBAC5D,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,KAAgB,CAAC,CAAC;gBAClF,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;oBACpB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;oBAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;iBACrB;qBACI;oBACD,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;oBAChB,OAAO,GAAG,KAAK,CAAC;iBACnB;gBACD,SAAS,GAAG,IAAI,CAAC;aACpB;SAEJ;QAED,IAAI,OAAO,EAAE;YAET,IAAI,SAAS;gBACT,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC3C;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAEpC,OAAO;QAEb,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IACtC,CAAC;IAED,8CAA8C;IAEpC,kBAAkB,CAAC,IAAW;QAEpC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;IACnF,CAAC;IAED,8CAA8C;IAEpC,cAAc,CAAC,IAAW;QAEhC,OAAO,IAAI,4BAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACpE,CAAC;IAED,8CAA8C;IAEpC,sBAAsB,CAAC,IAAW;QAExC,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,8CAA8C;IAEpC,mBAAmB,CAAC,IAAW;QAErC,MAAM,eAAe,CAAC;IAC1B,CAAC;IAED,8CAA8C;IAErC,OAAO,GAA0E,0CAAgB,EAAE,CAAC;IAE7G,mBAAmB,GAAmB,4CAAwB,CAAC;IAE/D,eAAe,GAAW,MAAM,CAAC;IAEjC,iBAAiB,GAAW,QAAQ,CAAC;IAErC,MAAM,GAAY,IAAI,CAAC;IAEvB,SAAS,GAA0B,IAAI,CAAC;IAExC,OAAO,GAA0B,KAAK,CAAC;IAEvC,OAAO,GAA0B,KAAK,CAAC;IAEvC,QAAQ,GAAiB,QAAQ,CAAC;IAElC,WAAW,GAAwE,EAAE,CAAC;IAEtF,WAAW,GAA2D,IAAI,CAAC;IAE3E,SAAS,CAAa;IAEtB,eAAe,GAAY,IAAI,CAAC;CACnC;AAGD,wBAAY,CAAC,+BAAW,EAAE,aAAa,CAAC,CAAC;AACzC,wBAAY,CAAC,+BAAmB,EAAE,qBAAqB,CAAC,CAAC;;;ACnyBD;AACM;AACmB;AACpB;AACzB;AACwB;AACT;AA8BnD,0CAA0C;AAEnC,MAAM,+BAAY,SAAQ,qBAAsB;IAEnD,YAAY,MAA2B;QAEnC,KAAK,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE9C,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;QAEtC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,MAAM,EAAE;YAER,IAAI,MAAM,CAAC,YAAY;gBACnB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC;YAE5C,IAAI,MAAM,CAAC,WAAW;gBAClB,IAAI,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACnE;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,8BAAS,CAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,aAAa,EAAE,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,iBAAiB,EAAE,EAAE,GAAG,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;QAErI,IAAI,CAAC,UAAU,GAAG,IAAI,wCAAc,CAAC;YAEjC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE;SACtD,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QAEhC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG;YACrB,IAAI,EAAE,OAAO;SAChB,CAAC;IACN,CAAC;IAED,8CAA8C;IAEpC,YAAY,CAAC,QAAgB;QAEnC,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAEpC,iBAAiB,CAAC,KAAe;QAEvC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,UAAU,EAAE;YAEtC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;gBACzF,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;iBAErC,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;gBAC9F,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;;gBAGtC,IAAI,CAAC,KAAK,GAAG,iDAAc,CAAC,mBAAmB,CAAC,CAAC;YAErD,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW;gBAChE,IAAI,CAAC,KAAK,GAAG,iDAAc,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;SAChG;QAED,OAAO,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,eAAe,CAAC,KAAe;QAE3C,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,UAAU,EAAE;YAEtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAErG,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,MAAM,CAAC;YAC3B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC;YAElD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG;gBACrB,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE;gBACvB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI;aACpC,CAAC;YAEF,IAAI,CAAC,2BAA2B,EAAE,CAAC;SACtC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAEpC,WAAW;QAEjB,MAAM,iBAAiB,CAAC;IAC5B,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,cAAc,CAAC,KAAiB;QAElC,MAAM,KAAK,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAElC,IAAI,CAAC,IAAI,CAAC,SAAS;YACf,IAAI,CAAC,SAAS,GAAG;gBACb,EAAE,EAAE,IAAI;gBACR,IAAI,EAAE,OAAO;gBACb,MAAM,EAAE,OAAO;aAClB,CAAC;QAEN,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,OAAO;YAChC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG;gBACrB,IAAI,EAAE,OAAO;gBACb,GAAG,EAAE,IAAI,CAAC,UAAU;aACvB,CAAC;aAED;YACD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG;gBACrB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI;gBACzB,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE;aAC1B,CAAC;SACL;IACL,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAEF,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;QAE/B,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,MAAM;QAEF,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC;QAElC,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG;YACrB,IAAI,EAAE,OAAO;YACb,GAAG,EAAE,IAAI,CAAC,UAAU;SACvB,CAAC;QAEF,IAAI,CAAC,2BAA2B,EAAE,CAAC;IACvC,CAAC;IAED,0CAA0C;IAE1C,QAAQ;QAEJ,MAAM,IAAI,GAAG,IAAI,kCAAW,EAAE,CAAC;QAE/B,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE;YACrD,IAAI,CAAC,SAAS,CAAC;gBACX,IAAI,EAAE,aAAa;gBACnB,IAAI,EAAE,cAAc;gBACpB,WAAW,EAAE,QAAQ;gBACrB,YAAY,EAAE,KAAK,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;aAC1C,CAAC,CAAC;SACN;QAED,IAAI,CAAC,SAAS,CAAC;YACX,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,aAAa;YACnB,WAAW,EAAE,QAAQ;YACrB,YAAY,EAAE,KAAK,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;SAC1C,CAAC;QAEF,IAAI,CAAC,SAAS,CAAC,SAAS,EAAc,MAAM,CAAC,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,0CAA0C;IAE1C,UAAU,GAAmB,IAAI,CAAC;IAElC,SAAS,GAAc,IAAI,CAAC;IAE5B,UAAU,GAAW,IAAI,CAAC;IAE1B,WAAW,GAAW,IAAI,CAAC;IAE3B,WAAW,GAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;CACjD;AAED,wBAAY,CAAC,+BAAW,EAAE,aAAa,CAAC,CAAC;;;AC7NF;AACmB;AAES;AACqB;AACpB;AACvB;AACgB;AACrB;AACoB;AAM5D,0CAA0C;AAEnC,MAAM,uCAA6D,SAAQ,qBAAmD;IAEjI,YAAY,MAA8D;QAEtE,KAAK,CAAC,MAAM,CAAC,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QAEb,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,uDAA2B,CAAgC;gBAC3E,gBAAgB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC/C,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;gBACxD,kBAAkB,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;gBACzD,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,OAAO,EAAE,IAAI,CAAC,SAAS;gBACvB,MAAM,EAAE,IAAI,CAAC,MAAM;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;SACxC;;YAEG,WAAW,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;QAE/E,IAAI,WAAW;YACX,MAAM,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;QAEvC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,qCAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;QAEzE,IAAI,MAAM,IAAI,IAAI,EAAE;YAChB,MAAM,QAAQ,GAAG,yBAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;YACtF,IAAI,CAAC,sBAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC;gBACtC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;SACjC;IACL,CAAC;IAGD,8CAA8C;IAEpC,WAAW,CAAC,KAAe;QACjC,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACtC,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAe;QACjC,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACtC,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,eAAe;QAE3B,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;YACxB,OAAO;QAEX,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QAEnB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,IAAI;gBACA,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,SAAS,EAAE;oBAEhC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;oBAE/D,IAAI,CAAC,IAAI;wBACL,SAAS;oBAEb,MAAM,QAAQ,GAAG,IAAI,8CAAiB,CAAC;wBACnC,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;wBAClC,WAAW,EAAE,KAAK,IAAI,EAAE;4BAEpB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;4BAE5B,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;4BAE3D,MAAM,KAAK,GAAG,yBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;4BAEnF,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;4BAEhC,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;wBAC7C,CAAC;qBACJ,CAAC,CAAC;oBAEH,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;iBAC5B;aACJ;oBACO;gBACJ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;SACJ;IACL,CAAC;IAED,0CAA0C;IAE1C,QAAQ,GAA+D,IAAI,CAAC;IAEnE,KAAK,GAA8C,0CAAgB,EAAE,CAAC;CAClF;AAGD,wBAAY,CAAC,uCAAe,EAAE,iBAAiB,CAAC,CAAC;;;AC9H4B;AAEV;AAKY;AAElB;AA6B7D,8CAA8C;AAEvC,MAAM,yBAAkC,SAAQ,qBAAgB;IAEzD,MAAM,CAAO;IACb,aAAa,GAAW,CAAC,CAAC;IAC1B,WAAW,GAAW,CAAC,CAAC;IACxB,kBAAkB,CAA4G;IAExI,YAAY,MAAkC;QAE1C,KAAK,CAAC,EAAE,QAAQ,EAAE,eAAe,EAAE,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEhG,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;QAEhD,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAErB,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,iBAAiB,CAAC;YAEnD,IAAI,MAAM,CAAC,UAAU,EAAE;gBACnB,KAAK,MAAM,QAAQ,IAAI,MAAM,CAAC,UAAU,EAAE;oBACtC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC;oBAC5C,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;iBACjD;aACJ;SACJ;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,mBAAO,CAAC,IAAI,CAAC,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED,8CAA8C;IAE9C,WAAW,CAAC,MAAmD;QAE3D,MAAM,IAAI,GAAG,IAAI,oCAAY,CAAC;YAC1B,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC;YAC3C,GAAG,MAAM;YACT,IAAI,EAAE,IAAI;SACb,CAAC,CAAC;QAGH,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAEpC,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,kBAAkB,CAAC,KAAW;QAE1C,IAAI,CAAC,IAAI,CAAC,KAAK;YACX,IAAI,CAAC,KAAK,GAAQ,EAAE,CAAC;QAEzB,IAAI,CAAC,OAAO,GAAG,IAAI;QAEnB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;YAEpC,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAEvC,IAAI,IAAI,CAAC,KAAK,IAAI,SAAS;gBACvB,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpD;IACL,CAAC;IAED,8CAA8C;IAE9C,WAAW;QACP,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU;YAClC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC;IAC/C,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,iBAAiB,CAAC,KAAe;QAE7C,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QAEhC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;YAEpC,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAEvC,IAAI,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,KAAK,CAAC,EAAE;gBAC5C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,OAAO,GAAG,KAAK,CAAC;aACnB;SACJ;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAEpC,WAAW;QAEjB,IAAI,CAAC,MAAM,GAAQ,EAAE,CAAC;QAEtB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QAErB,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;YAEpC,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAE1C,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,CAChD,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,KAAY,EAAE,QAAe,CAAC,CAAC,CAAC;YAE1E,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBAEtC,IAAI,CAAC,KAAK;oBACN,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAC7B,CAAC,CAAC,CAAC;YAEH,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBAEtC,IAAI,KAAK;oBACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YAC5B,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAE1B,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE;gBACzC,UAAU,EAAE,IAAI;gBAChB,GAAG,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK;gBACxB,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK;aACtC,CAAC;SACL;IACL,CAAC;IAED,8CAA8C;IAE9C,aAAa;QAET,IAAI,IAAI,CAAC,eAAe;YACpB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,aAAa,EAAE,CAAC;QAE7D,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,aAAa;QAEzB,MAAM,QAAQ,GAAoB,EAAE,CAAC;QAErC,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU;YAClC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC;QAEzD,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAED,8CAA8C;IAE9C,KAAK;QAED,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI;YAEA,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU;gBAClC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;SACvC;gBACO;YACJ,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;IACL,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAW;QAC7B,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,eAAe,CAAC,KAAe;QAE3C,IAAI,SAAS,GAAG,KAAK,CAAC;QAEtB,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,IAAI,CAAC,IAAI,CAAC,KAAK;YACX,IAAI,CAAC,KAAK,GAAG,EAAU,CAAC;QAE5B,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;YAEpC,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAErE,IAAI,CAAC,YAAY,CAAC,OAAO;gBACrB,OAAO,GAAG,KAAK,CAAC;YAEpB,IAAI,CAAC,YAAY,CAAC,SAAS;gBACvB,SAAS,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,OAAO,EAAE;YAET,IAAI,SAAS;gBACT,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvC;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,mBAAmB,CAAC,QAAoB,EAAE,QAAiB;QAEvE,MAAM,MAAM,GAA0B;YAClC,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,KAAK;SACnB,CAAC;QAEF,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAErC,IAAI,QAAQ,IAAI,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;YAC5D,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;aAEtB,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACrC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;aAEtB;YAED,IAAI,CAAC,kBAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;gBAC3C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;gBAClC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;aAC3B;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,8CAA8C;IAE9C,MAAM,CAA0B,QAAc;QAC1C,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC;IAC5C,CAAC;IAED,8CAA8C;IAE9C,QAAQ,CAA0B,QAAc;QAC5C,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,sBAAsB,CAA0B,QAAc,EAAE,KAAiB,EAAE,QAAoB;QAEnH,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAE5B,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,UAAU,EAAE;YAErC,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,OAAO;SACV;QAED,IAAI,IAAI,CAAC,UAAU,IAAI,UAAU,EAAE;YAE/B,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAe,EAAE,IAAI,CAAC,CAAC;YAC3E,IAAI,YAAY,CAAC,SAAS,EAAE;gBACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;SACJ;;YAEG,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAE7C,IAAI,IAAI,CAAC,kBAAkB;YACvB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAc,CAAC,CAAC;IAChF,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS,CAAC,KAAW;QAErB,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO;QAEX,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QAEvB,IAAI;YAEA,IAAI,mBAAO,CAAC,KAAK,CAAC;gBACd,IAAI,CAAC,KAAK,EAAE,CAAC;iBACZ;gBAED,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,UAAU;oBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;aAC/C;SACJ;gBACO;YACJ,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAED,IAAI,IAAI,CAAC,aAAa,GAAG,CAAC;YACtB,IAAI,CAAC,2BAA2B,EAAE,CAAC;IAE3C,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,8CAA8C;IAE9C,UAAU,GAA4B,EAAE,CAAC;IAEzC,eAAe,GAAe,IAAI,CAAC;IAEnC,oBAAoB,GAAG,cAAc,CAAC;IAEtC,SAAS,GAAS,IAAI,CAAC;IAEd,OAAO,GAAuC,0CAAgB,EAAE,CAAC;CAC7E;AAED,wBAAY,CAAC,yBAAY,EAAE,cAAc,CAAC,CAAC;;;AC9W8B;AAC1C;AAC6B;AAQ5D,0CAA0C;AAEnC,MAAM,6BAAe,SAAQ,6BAAsB;IAEtD,YAAY,MAA8B;QAEtC,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,OAAoB;QAEvB,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE;YAC7B,KAAK,EAAE,MAAM;SAChB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAExC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE,CAAC,CAAC;IAC5E,CAAC;IAED,0CAA0C;IAE1C,IAAI,SAAS,CAAC,KAAa;QACvB,IAAI,IAAI,CAAC,MAAM;YACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3C,CAAC;IAED,IAAI,SAAS;QACT,IAAI,IAAI,CAAC,MAAM;YACX,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACtC,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAM;CACf;AAED,wBAAY,CAAC,6BAAc,EAAE,gBAAgB,CAAC,CAAC;;;ACpDR;AAG4B;AAGrB;AACoC;AACrB;AACvB;AACsB;AAiB5D,8CAA8C;AAE9C,MAAM,+BAA0B,SAAQ,2BAAa;IAEjD,YAAY,MAAyC;QAEjD,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAElC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,8CAA8C;IAE9C,KAAK,GAAW,IAAI,CAAC;IAErB,MAAM,CAAwB;CACjC;AAED,8CAA8C;AAEvC,MAAM,mCAAsC,SAAQ,qBAAyB;IAEhF,YAAY,MAAqC;QAE7C,KAAK,CAAC,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAEhD,IAAI,CAAC,MAAM,GAAG,IAAI,wBAAM,CAA4B;YAChD,MAAM,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC;YAC/B,YAAY,EAAE,UAAU;YACxB,aAAa,EAAE,CAAC,QAAQ,CAAC;YACzB,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;SAC/C,CAAC,CAAC;QAEH,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,CAAC,QAAQ;gBACf,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;SACxD;QAED,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC;YACvB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAEvD,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,aAAa;QAEzB,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,OAAO,CAAC,MAAM;gBACd,MAAM,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;SACxC;IACL,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,kBAAkB,CAAC,KAAa;QAE5C,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,OAAO,CAAC,MAAM;gBACd,MAAM,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAClD;IACL,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,iBAAiB,CAAC,KAAM;QAEpC,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,OAAO,CAAC,MAAM;gBACd,IAAI,CAAC,MAAM,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;oBAC5C,OAAO,GAAG,KAAK,CAAC;oBAChB,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC;iBACzC;SACR;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAEpC,KAAK,CAAC,eAAe,CAAC,KAAM;QAElC,IAAI,OAAO,GAAG,IAAI,CAAC;QAEnB,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,OAAO,CAAC,MAAM;gBACd,IAAI,CAAC,MAAM,OAAO,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;oBACxC,OAAO,GAAG,KAAK,CAAC;SAC3B;QAED,OAAO,OAAO,CAAC;IACnB,CAAC;IAGD,8CAA8C;IAE9C,UAAU,CAAC,IAAY;QAEnB,OAAO,yBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,8CAA8C;IAE9C,UAAU,CAAC,MAAwC;QAC/C,MAAM,IAAI,GAAG,IAAI,+BAAiB,CAAC,MAAM,CAAC,CAAC;QAE3C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAExB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YAChB,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YACxB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,OAAO,EAAE,IAAI;SAChB,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,8CAA8C;IAErC,QAAQ,GAA+C,0CAAgB,EAAE,CAAC;IAE1E,MAAM,CAAoC;IAEnD,iBAAiB,GAAW,IAAI,CAAC;CACpC;AAGD,wBAAY,CAAC,+BAAiB,EAAE,mBAAmB,CAAC,CAAC;AAErD,wBAAY,CAAC,mCAAa,EAAE,eAAe,CAAC,CAAC;;;AC9JqC;AAC5B;AACT;AACgB;AACpB;AACmB;AAM5D,0CAA0C;AAEnC,MAAM,yCAA8D,SAAQ,qBAAiD;IAEhI,YAAY,MAA+D;QAEvE,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,WAAW,GAAG,+CAAyB,CAAC;YACzC,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,cAAc;YACpB,WAAW,EAAE,OAAO;YACpB,YAAY,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;SACpD,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,WAAW;QAEb,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,iDAAwB,CAAgC;gBACxE,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,gBAAgB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE;gBAC/C,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;gBAC5D,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,OAAO,EAAE,IAAI,CAAC,SAAS;gBACvB,MAAM,EAAE,IAAI,CAAC,MAAM;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;SACxC;;YAEG,WAAW,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC;QAE7C,IAAI,WAAW;YACX,MAAM,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;QAEvC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,qCAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;QAEzE,IAAI,MAAM,IAAI,IAAI;YACd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAC/D,CAAC;IAED,0CAA0C;IAEhC,gBAAgB;QAEtB,MAAM,eAAe,CAAC;IAC1B,CAAC;IAGD,0CAA0C;IAEhC,KAAK,CAAC,eAAe;QAE3B,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS;YACxB,OAAO;QAEX,IAAI,IAAI,CAAC,SAAS,EAAE;YAEhB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,IAAI;gBACA,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACxE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAChD;oBACO;gBACJ,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;aAC1B;SACJ;;YAEG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAEhC,CAAC;IAED,0CAA0C;IAE1C,QAAQ,GAA4D,IAAI,CAAC;IAEzE,WAAW,GAAU,IAAI,CAAC;IAE1B,WAAW,GAAe,IAAI,CAAC;CAClC;AAGD,wBAAY,CAAC,yCAAgB,EAAE,kBAAkB,CAAC,CAAC;;;ACxGZ;AAI4B;AAGN;AACD;AAChB;AAEP;AACkC;AAClC;AAerC,0CAA0C;AAEnC,MAAM,mCAAiC,SAAQ,qBAAoB;IAEtE,YAAY,MAAgD;QAExD,KAAK,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAExC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAE7C,IAAI,MAAM,EAAE,cAAc;YACtB,IAAI,CAAC,kBAAkB,GAAG,MAAM,EAAE,cAAc,CAAC;QAErD,IAAI,MAAM,EAAE,KAAK,EAAE;YAEf,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAElE,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;SAC1B;IACL,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,WAAW;QACb,MAAM,MAAM,GAAG,IAAI,+BAAW,CAAC;YAE3B,MAAM,EAAE,IAAI,mCAAiB,CAAC;gBAC1B,QAAQ,EAAE,uBAAuB;gBACjC,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,MAAM,EAAE,CAAC,oBAAoB,CAAC;aACjC,CAAC;YACF,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,QAAQ;YACnB,UAAU,EAAE,QAAQ;YACpB,KAAK,EAAE,gBAAgB;YACvB,MAAM,EAAE,CAAC,EAAE,CAAC;SACf,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QACjD,IAAI,MAAM,KAAK,IAAI;YACf,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;IAChC,CAAC;IAED,8CAA8C;IAE9C,eAAe,CAAC,KAAa;QAEzB,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QAC/E,OAAO,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,8CAA8C;IAE9C,IAAI,SAAS,CAAC,KAAe;QAEzB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE;YAC3B,IAAI,CAAC,UAAU,GAAG,KAAK,IAAI,yBAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAE,CAAC,kBAAa,CAAC,CAAC,CAAC,IAAI,kBAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAChG;IACL,CAAC;IAED,IAAI,SAAS;QAET,OAAO,yBAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;IACnF,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,aAAa;QAEzB,IAAI,IAAI,CAAC,WAAW,EAAE;YAElB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YAEnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC;YACjF,IAAI,KAAK;gBACL,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAClE;QAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAGD,0CAA0C;IAEhC,kBAAkB,CAAC,IAAW;QAEpC,IAAI,IAAI,CAAC,WAAW;YAChB,OAAO,IAAI,gDAAkB,CAAC;gBAC1B,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC;gBACzC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC;gBAC3C,QAAQ,EAAE,IAAI,CAAC,YAAY;aAC9B,CAAC,CAAC;IACX,CAAC;IAED,0CAA0C;IAEhC,cAAc,CAAC,IAAW;QAEhC,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAE/C,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YAE1C,IAAI,KAAK;gBACL,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,0CAA0C;IAE1C,YAAY,GAAiD,oBAAoB,CAAC;IAElF,WAAW,GAAW,IAAI,CAAC;IAE3B,WAAW,GAA+B,IAAI,CAAC;IAEtC,KAAK,GAAiD,0CAAgB,EAAE,CAAC;CACrF;AAED,wBAAY,CAAC,mCAAiB,EAAE,mBAAmB,CAAC,CAAC;;;ACzJqB;AAED;AACtC;AACyB;AAW5D,8CAA8C;AAEvC,MAAM,6BAAW,SAAQ,6BAAsB;IAElD,YAAY,MAA0B;QAElC,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,MAAM,EAAE,uDAAmB,CAAC,CAAC;QAElE,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QAErC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAE9C,WAAW,GAAW,IAAI,CAAC;IAE3B,SAAS,GAAW,CAAC,CAAC;IAEtB,SAAS,GAAW,IAAI,CAAC;CAC5B;AAED,wBAAY,CAAC,6BAAU,EAAE,YAAY,CAAC,CAAC;;;AC3Cc;AACO;AAEa;AAOzE,8CAA8C;AAEvC,MAAM,qBAAW,SAAQ,6BAAwB;IAEpD,YAAY,MAA0B;QAElC,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;QAE7C,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAEvC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAe;QAEjC,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAClF,CAAC;IAED,8CAA8C;IAEpC,WAAW,CAAC,KAAa;QAE/B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI;YACrC,OAAO,IAAI,CAAC;QAChB,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;YACjB,OAAO,IAAI,CAAC;QAChB,OAAO,mCAAoB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9E,CAAC;IAED,8CAA8C;IAE9C,WAAW,GAAW,IAAI,CAAC;CAC9B;AAED,wBAAY,CAAC,qBAAU,EAAE,YAAY,CAAC,CAAC;;;AC/CwC;AAExE,IAAU,qBAAU,CAK1B;AALD,WAAiB,UAAU;IAEvB,SAAgB,QAAQ,CAAC,MAA2B;QAChD,OAAO,IAAI,oCAAY,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAFe,mBAAQ,WAEvB;AACL,CAAC,EALgB,qBAAU,KAAV,qBAAU,QAK1B;;;AEL8E;AACM;AAChB;AACI;AACG;AACA;AACjB;AACmC;AACxB;AAE/D,IAAU,eAAO,CAyFvB;AAzFD,WAAiB,OAAO;IAEpB,SAAgB,QAAQ;QAEpB,OAAO,IAAI,6BAAc,EAAE,CAAC;IAChC,CAAC;IAHe,gBAAQ,WAGvB;IAED,0CAA0C;IAE1C,SAAgB,QAAQ;QACpB,OAAO,IAAI,yBAAY,CAAC;YACpB,SAAS,EAAE,KAAK;YAChB,GAAG,EAAE,IAAI;SACZ,CAAC,CAAC;IACP,CAAC;IALe,gBAAQ,WAKvB;IAED,0CAA0C;IAE1C,SAAgB,SAAS,CAAe,MAA2B,EAAE,UAAkC,EAAE,UAAoD;QAEzJ,OAAO,IAAI,uCAAmB,CAAC;YAC3B,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,UAAU;YACtB,UAAU,EAAE,UAAU;SACzB,CAAC,CAAC;IACP,CAAC;IAPe,iBAAS,YAOxB;IAED,0CAA0C;IAE1C,SAAgB,KAAK,CAAkC,MAA4D;QAE/G,OAAO,IAAI,+BAAW,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC1C,CAAC;IAHe,aAAK,QAGpB;IAED,0CAA0C;IAE1C,SAAgB,IAAI,CAAC,MAA0B;QAC3C,OAAO,IAAI,6BAAU,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IACzC,CAAC;IAFe,YAAI,OAEnB;IAED,0CAA0C;IAE1C,SAAgB,aAAa,CAAC,MAA0B;QAEpD,OAAO,IAAI,6BAAU,CAAC,EAAE,QAAQ,EAAE,qBAAqB,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC1E,CAAC;IAHe,qBAAa,gBAG5B;IAED,0CAA0C;IAE1C,SAAgB,MAAM,CAAC,MAA4B;QAC/C,OAAO,IAAI,yBAAY,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC3C,CAAC;IAFe,cAAM,SAErB;IAED,0CAA0C;IAE1C,SAAgB,OAAO,CAAC,MAA6B;QACjD,OAAO,IAAI,mCAAa,CAAC,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC5C,CAAC;IAFe,eAAO,UAEtB;IAED,0CAA0C;IAE1C,SAAgB,QAAQ,CAAC,MAA0B;QAC/C,OAAO,IAAI,6BAAU,CAAC,EAAE,QAAQ,EAAE,gBAAgB,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IACrE,CAAC;IAFe,gBAAQ,WAEvB;IAED,0CAA0C;IAE1C,SAAgB,MAAM,CAAkB,MAAkC;QACtE,OAAO,IAAI,yBAAY,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAFe,cAAM,SAErB;IAED,0CAA0C;IAE1C,SAAgB,OAAO,CAAC,MAA0B;QAC9C,OAAO,IAAI,6BAAU,CAAC,EAAE,QAAQ,EAAE,qBAAqB,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC;IAC1E,CAAC;IAFe,eAAO,UAEtB;IAED,0CAA0C;IAE1C,SAAgB,SAAS,CAAC,MAAe,EAAE,MAA+B;QACtE,OAAO,IAAI,uCAAe,CAAC,EAAE,OAAO,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IAC/H,CAAC;IAFe,iBAAS,YAExB;IAED,0CAA0C;IAE1C,SAAgB,kBAAkB,CAAgB,MAAgD;QAE9F,OAAO,IAAI,6CAAkB,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC;IAHe,0BAAkB,qBAGjC;AACL,CAAC,EAzFgB,eAAO,KAAP,eAAO,QAyFvB;;;ACpGkD;AACZ;AAGgC;AAGhE,SAAS,4BAAe,CAAyB,IAAyC,EAAE,MAAmD;IAElJ,OAAO,IAAI,WAAW,CAAyB;QAC3C,aAAa,EAAE,KAAK,EAAC,MAAM,EAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACvE,mBAAmB,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QACtD,GAAG,MAAM;KACZ,CAAC,CAAC;AACP,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAW,CAAS,KAA4B,EAAE,YAAqB,KAAK;IAExF,OAAO,IAAI,WAAW,CAA8B;QAChD,QAAQ,EAAE,oBAAoB;QAC9B,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK;QAC1B,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;QACtC,aAAa,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC;QAC3C,mBAAmB,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC;QACvF,SAAS,EAAE,SAAS;KACvB,CAAC,CAAC;AACP,CAAC;AAED,0CAA0C;AAEnC,SAAS,uBAAU,CAAQ,KAAc;IAE5C,OAAO,IAAI,WAAW,CAAe;QACjC,aAAa,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC;KAC9C,CAAC,CAAC;AACP,CAAC;AAED,0CAA0C;AAEnC,SAAS,wBAAW,CAAC,KAAgB;IAExC,OAAO,IAAI,WAAW,CAAmB;QACrC,QAAQ,EAAE,gBAAgB;QAC1B,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;QAC5C,aAAa,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC;QAC3C,SAAS,EAAE,KAAK;KACnB,CAAC,CAAC;AACP,CAAC;;;;;AClDkD;AAG5C,IAAU,qBAAU,CA+E1B;AA/ED,WAAiB,UAAU;IAEvB,MAAM,YAAY,GAAG,yJAAyJ,CAAC;IAE/K,MAAM,YAAY,GAAG,8CAA8C,CAAC;IAEzD,mBAAQ,GAAyB;QACxC,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC;YAClC,OAAO,EAAE,GAAG,CAAC,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,IAAI,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACpG,KAAK,EAAE,iDAAc,CAAC,mBAAmB,EAAE,GAAG,CAAC,SAAS,CAAC;SACvC,CAAC;KAC1B,CAAC;IAEF,0CAA0C;IAE1C,SAAgB,QAAQ,CAAC,KAAa;QAClC,OAAO;YACH,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACnC,OAAO,EAAE,GAAG,CAAC,KAAK,IAAI,KAAK;gBAC3B,KAAK,EAAE,iDAAc,CAAC,yBAAyB,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;aACrE,CAAC,CAAC;SACN;IACL,CAAC;IAPe,mBAAQ,WAOvB;IAAA,CAAC;IAEF,0CAA0C;IAE1C,SAAgB,QAAQ,CAAC,KAAa;QAClC,OAAO;YACH,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBACnC,OAAO,EAAE,GAAG,CAAC,KAAK,IAAI,KAAK;gBAC3B,KAAK,EAAE,iDAAc,CAAC,sBAAsB,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;aAClE,CAAC,CAAC;SACN;IACL,CAAC;IAPe,mBAAQ,WAOvB;IAAA,CAAC;IAEN,0CAA0C;IAI3B,kBAAO,GAA4B;QAC1C,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK;YAC3C,KAAK,EAAE,iDAAc,CAAC,uBAAuB,CAAC;SACjD,CAAC,CAAC;KACN,CAAC;IAGF,0CAA0C;IAE/B,gBAAK,GAA4B;QAExC,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnC,OAAO,EAAE,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YACzF,KAAK,EAAE,iDAAc,CAAC,mBAAmB,EAAE,GAAG,CAAC,KAAK,CAAC;SACxD,CAAC,CAAC;KAEN,CAAC;IAIF,0CAA0C;IAE/B,gBAAK,GAA4B;QAExC,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnC,OAAO,EAAE,GAAG,CAAC,KAAK,IAAI,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YAChE,KAAK,EAAE,iDAAc,CAAC,mBAAmB,EAAE,GAAG,CAAC,KAAK,CAAC;SACxD,CAAC,CAAC;KAEN,CAAC;IAEF,0CAA0C;IAE1C,SAAgB,MAAM,CAAkB,SAAmF;QACvH,OAAO;YACH,aAAa,EAAE,KAAK,EAAC,GAAG,EAAC,EAAE,CAAC,MAAM,SAAS,CAAC,GAAG,CAAC;SACnD;IACL,CAAC;IAJe,iBAAM,SAIrB;IAAA,CAAC;AAEN,CAAC,EA/EgB,qBAAU,KAAV,qBAAU,QA+E1B;;;AClF4C;AACN;AACU;AAEW;AA0B5D,0CAA0C;AAEnC,MAAM,mDAAiE,SAAQ,mEAA0D;IAE5I,YAAY,MAAgF;QACxF,KAAK,EAAE,CAAC;QAER,IAAI,MAAM,EAAE;YAER,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAE5B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAE1B,IAAI,MAAM,CAAC,UAAU;gBACjB,IAAI,CAAC,UAAU,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAEpF,IAAI,MAAM,CAAC,QAAQ;gBACf,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;SACvC;QAED,IAAI,CAAC,IAAI,CAAC,KAAK;YACX,IAAI,CAAC,KAAK,GAAG;gBACT,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;gBACpC,cAAc,EAAE,IAAI;gBACpB,KAAK,EAAE,IAAI;aACd,CAAC;QAEN,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc;YAC1B,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;QAEjD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;YACjB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,GAAG,EAAiB,CAAC;aAE3C,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC;YAC9B,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC;IAC/C,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,IAAI;QAEZ,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,0CAA0C;IAE1C,YAAY,CAAC,IAAI,EAAE,QAAQ;QAEvB,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACpD,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ;QAE5B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;IACzD,CAAC;IAED,0CAA0C;IAE1C,MAAM,CAAC,CAAC,EAAE,CAAC;QAEP,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IAGD,8CAA8C;IAE9C,OAAO;QACH,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAC,MAAe,EAAE,KAAc;IAExC,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,UAAU,CAAC,MAAe;QAE5B,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IACvG,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,aAAa,CAAC,MAAM;QAEtB,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAEnC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QACzH,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC7B,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,mBAAmB,CAAC,KAAK;QAE3B,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAEnC,IAAI,KAAK,IAAI,IAAI;YACb,OAAO,IAAI,CAAC;QAEhB,IAAI,OAAO,KAAK,IAAI,QAAQ,IAAI,OAAO,KAAK,CAAC,SAAS,CAAC,IAAI,UAAU;YACjE,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC;QAE/B,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,YAAY,CAAC,IAAI;QAEnB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,OAAO,IAAI,IAAI;YACf,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;QAC/D,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,eAAe,CAAC,IAAI;QACtB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAExD,IAAI,OAAO,IAAI,IAAI;YACf,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;QAE/D,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,8CAA8C;IAE9C,KAAK,CAAC,eAAe,CAAC,IAAI;QACtB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,MAAM;YACN,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;QACtD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAEhC,UAAU,CAAC,MAAe,EAAE,IAAW;QAE7C,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,cAAc;QAE1B,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG;YACd,OAAO,MAAM,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAU,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACzE,CAAC;IAED,0CAA0C;IAEhC,KAAK,CAAC,eAAe,CAAC,KAAc;QAE1C,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG;YACd,MAAM,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,gBAAgB,CAAC,KAAc;QAEjC,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,CAAC,KAAK;YACnC,OAAO;QAEX,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,EAAE;YAClC,MAAM,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC1C,OAAO;SACV;QAED,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAElC,IAAI;YACA,IAAI,QAAiB,CAAC;YAEtB,IAAI;gBAEA,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC3D;YACD,OAAO,EAAE,EAAE;gBAEP,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;aACrB;YAED,IAAI,UAAU,GAAG,IAAI,CAAC;YAEtB,IAAI,QAAQ,IAAI,IAAI,EAAE;gBAClB,QAAQ,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;gBACvC,UAAU,GAAG,KAAK,CAAC;aACtB;YAED,IAAI,QAAQ,IAAI,IAAI,EAAE;gBAElB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBAEnB,KAAK,MAAM,IAAI,IAAI,QAAQ;oBACvB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;gBAEzD,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC;gBAEvC,IAAI,UAAU;oBACV,MAAM,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;aAC5C;SACJ;gBACO;YAEJ,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC;SACnC;IACL,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAChC,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IACjC,CAAC;IAED,IAAI,YAAY;QAEZ,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;IACpC,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;IAC5B,CAAC;IAED,0CAA0C;IAE1C,MAAM,GAA+D,IAAI,CAAC;IAE1E,KAAK,GAAoC,IAAI,CAAC;IAE9C,MAAM,GAAY,IAAI,CAAC;CAC1B;;;AChRsC;AAKhC,MAAM,mCAAiB;IAE1B,YAAY,QAAuB;QAE/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,GAAG,CAAC,IAAW;QACX,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,0CAA0C;IAE1C,SAAS,CAAC,IAAW;QACjB,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC/B,OAAO;YACH,YAAY,EAAE,OAAO,CAAC,SAAS;YAC/B,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,IAAI,EAAE,OAAO,CAAC,IAAI;SACrB,CAAC;IACN,CAAC;IAED,0CAA0C;IAE1C,QAAQ,CAAgB;CAC3B;;;AC/B2D;AACK;AACE;AACX;AAGE;AACR;AACN;AACgB;AACH;AACJ;AAiCrD,0CAA0C;AAEnC,MAAM,oDAA0B,SAAQ,2BAAa;IAExD,YAAY,OAA2B;QACnC,KAAK,EAAE,CAAC;QAER,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QAEvB,IAAI,CAAC,UAAU,GAAG,IAAI,mCAAa,CAAC;YAChC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI;YACnC,QAAQ,EAAE,QAAQ;YAClB,MAAM,EAAE,CAAC,SAAS,CAAC;SACtB,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACpD,CAAC;IAED,0CAA0C;IAE1C,OAAO,GAAuB,IAAI,CAAC;IAEnC,UAAU,GAAkB,IAAI,CAAC;IAEjC,UAAU,GAAY,KAAK,CAAC;CAC/B;AAED,0CAA0C;AAE1C,MAAM,kCAAiB,SAAQ,8DAAc;IAEjC,SAAS,GAA4D,IAAI,CAAC;IAElF,cAAc,CAAC,IAA0B;QAErC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC;YACpB,MAAM,EAAE,CAAC,UAAU,CAAC;SACvB,CAAC,CAAC;QAGH,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC;YACxC,MAAM,EAAE,CAAC,SAAS,CAAC;YACnB,KAAK,EAAE,gBAAgB,CAAC,IAAI,CAAC;YAC7B,UAAU,EAAE,IAAI;YAChB,cAAc,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,oDAAyB,CAAC,IAAI,CAAC;SAC9D,CAAC,CAAC,CAAC;QAEJ,KAAK,CAAC,OAAO,CAAC,IAAI,YAAY,CAAC,EAAE,IAAI,EAAE,wBAAwB,EAAE,MAAM,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAElB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAElB,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,0CAA0C;IAE1C,WAAW,CAAC,KAAe;QAEvB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO;YACrC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;QAGrD,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,0CAA0C;IAE1C,IAAI,GAAU,IAAI,CAAC;IAEnB,KAAK,GAAyB,IAAI,CAAC;IAE1B,OAAO,GAAY,IAAI,CAAC;CAEpC;AAED,0CAA0C;AAEnC,MAAM,mCAAiB;IAE1B;IAEA,CAAC;IAED,0CAA0C;IAE1C,KAAK,CAAC,YAAY,CAAC,GAAG,WAAiC;QAEnD,MAAM,KAAK,GAAyB,EAAE,CAAC;QAEvC,MAAM,MAAM,GAAyB,EAAE,CAAC;QAGxC,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;YAC5B,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;gBACpC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAChB;gBACD,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;gBACpC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;SACJ;QAED,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;YAElB,MAAM,MAAM,GAAG,IAAI,WAAW,CAAuB;gBACjD,MAAM,EAAE,IAAI,kCAAgB,EAAE;gBAC9B,SAAS,EAAE,QAAQ;gBACnB,YAAY,EAAE,cAAc,CAAC,QAAQ;gBACrC,KAAK,EAAE,oBAAoB;aAC9B,CAAC,CAAC;YAEH,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAEjD,IAAI,UAAU,EAAE;gBAEZ,KAAK,MAAM,IAAI,IAAI,UAAU,EAAE;oBAE3B,IAAI,IAAI,CAAC,OAAO;wBACZ,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;oBAE/C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;iBAC/C;aACJ;SACJ;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAA0C;IAE1C,WAAW,GAAgB;QAEvB,IAAI,EAAE,aAAa;QAEnB,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;YAEzB,SAAS,SAAS,CAAC,MAAe;gBAC9B,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACnE,GAAG,CAAC,MAAM,CAAC,CAAC;YAChB,CAAC;YAED,SAAS,CAAC,WAAW,CAAC,kBAAkB,CACpC,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EACrB,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,iBAAiB,CAAC,EACvD,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAEnD,CAAC,CAAC;QAEF,SAAS,EAAE,KAAK,IAAI,EAAE;YAClB,IAAI,aAAa,IAAI,SAAS;gBAC1B,OAAO,CAAC,MAAM,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,SAAS,CAAC;YAE3F,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,SAAS,CAAC;QAC5D,CAAC;KACJ;IAED,0CAA0C;IAE1C,YAAY,GAAgB;QAExB,IAAI,EAAE,cAAc;QAEpB,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;YAEzB,IAAI,CAAC,CAAC,cAAc,IAAI,MAAM,CAAC,EAAE;gBAC7B,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;gBAC3C,GAAG,CAAC,KAAK,CAAC,CAAC;aACd;YAED,YAAY,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE;gBAC/B,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;QAEF,SAAS,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,UAAU,IAAI,SAAS,CAAC;KAC9G;CACJ;AAED,wBAAY,CAAC,oDAAyB,EAAE,2BAA2B,CAAC,CAAC;;;ACjOrE;;GAEG;AACmB;AAEO;AACe;AAChB;AACO;AACa;AACC;AACL;AACE;AACF;AACG;AACE;AACL;AACG;AACF;AACJ;AACD;AACS;AACH;AACO;AACJ;AACR;AACM;AACD;AACC;AACT;AACG;AACL;AACK;AACN;AACO;AACQ;AACJ;AACE;AACE;AACP;AACR;AACI;AACH;AACE;AACH;AACK;AACD;AACD;AACE;AACD;AACE;AACC;AACD;AACE;AACL;AACM;AACR;AACU;AACP;AACK;AACI;AACR;AACK;AACM;AACA;AACM;AACI;AACR;AACF;AACA;AACQ;AACzB;AACK;AACN;AACO;AACD;AACI;AACI;AACI;AACL;AACC;AACO;AACN;AACF;AACA;AACE;AACH;AACF;AACE;AACE;AACG;AACH;AACA;AACC;AACH;AACE;AACO;AACb;AACI;AACG;AACN;AACI;AACE;AACG;AACC;AACL;AACQ;AACA;AACC;AACV;AACL;AACW;AACF;AACF;AACI;AACA;AACI;AACP;AACD;AACL;AACO;AACD;AACa;AACH;AACX;AACI;AACC;AACA;AACC;AACD;AACT;AACC;AACM;AACT;AACI;AACA;AACF;AACM;AACJ;AACA;AACA;AACL;AACQ;AACN;AACS;AACT;AACI;AACH;AACA;AACD;AACA;AACI;AACA;AACL;AACE;AACC;AACJ;AACF;AACC;AACO;AACA;AACA;AACK;AACP;AACE;AACM;AACA;AACJ;AACD;AACL;AACK;AACL;AACH;AACI;AACL;AACS;AACN;AACA;AACG;AACE;AACA;AACL;AACU;AACN;AACA;AACJ;AACI;AACJ;AACI;AACD;AACH;AACK;AACI;AACR;AACA;AACI;AACH;AACA;AACD;AACG;AACD;AACG;AACE;AACD;AACP;AACA;AACH;AACE;AACC;AACA;AACH;AACG;AACC;AACC;AACL;AACE;AACC;AACC;AACF;AACc;AACN;AACL;AACV;AACS;AACF;AACK;AACR;AACY;AACC;AACF;AACC;AACZ;AACJ;;;AIxO2G;AAE7I,MAAM,aAAa;IAEP,SAAS,CAAqB;IAC9B,KAAK,CAAgB;IAE7B,0CAA0C;IAE1C,YAAY,MAAwB;QAEhC,IAAI,CAAC,MAAM,CAAC,IAAI;YACZ,IAAI,CAAC,KAAK,GAAG,+BAAoB,CAAC;;YAElC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;QAE7B,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;IAClD,CAAC;IAED,0CAA0C;IAE1C,GAAG;QACC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;IAED,0CAA0C;IAE1C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,0CAA0C;IAE1C,IAAI,QAAQ,CAAC,KAAyB;QAElC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAEvB,IAAI,IAAI,CAAC,SAAS,EAAE;YAEhB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI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ACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,qBAAqB,QAAQ;AAC7B,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACe;AACf;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,0DAA0D,OAAO;AACjE;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;ACpFe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS,MAAM;AAC1B,WAAW,SAAS,MAAM;AAC1B,aAAa,SAAS,MAAM;AAC5B,YAAY,SAAS,MAAM;AAC3B;AACA;AACA,QAAQ,iBAAiB;AACzB;AACA;AACA,GAAG;AACH,QAAQ,iBAAiB;AACzB;AACA;AACA,GAAG;AACH,YAAY,iBAAiB;AAC7B;AACA;AACA,GAAG;AACH;AACA,sDAAe,UAAU;;ACjCV;AACf;AACA;AACA;AACA;;ACJyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,YAAY;AACd,yDAAyD;;AAEzD;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA,wKAAwK;;AAExK;AACA;;AAEA;AACA;AACA;;ACnDe;AACf;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;ACZ2C;AACS;AACN,CAAC;AAC/C;;AAEe;AACf,EAAE,YAAY;AACd;AACA;AACA;AACA,6DAA6D,SAAS;AACtE,0EAA0E,SAAS,wBAAwB;;AAE3G;AACA;AACA;;AAEA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;ACvBoD;AACI,CAAC;AACzD;;AAEe;AACf,EAAE,YAAY;AACd,4BAA4B,cAAc;AAC1C,6BAA6B,cAAc;AAC3C;AACA;;ACToE;AACpE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,aAAa;AACrB;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,QAAQ,aAAa;AACrB;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACe;AACf;;AAEA;AACA;AACA;;AAEA;AACA;;AC3De;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;;AAEA;AACA;;AAEA,wFAAwF;;AAExF;AACA;AACA;;ACtBqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA,GAAG;AACH,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,eAAe;AACxB;AACA;AACA,GAAG;AACH,OAAO,eAAe;AACtB;AACA;AACA,GAAG;AACH,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,oDAAe,QAAQ;;ACxHR;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;;AAEA;AACA;;AC/C6E;AACd;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO,YAAY;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,YAAY;AACrB;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO,YAAY;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,iDAAe,KAAK;;ACjGwC;AACR;AACQ;AACZ;AACN;AAC1C;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,wCAAwC;AACxC,uCAAuC;AACvC;;AAEA;AACA;AACA,kBAAkB,cAAc;AAChC,cAAc,eAAU;AACxB,kBAAkB,cAAc;AAChC,YAAY,aAAQ;AACpB,SAAS,UAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAe,MAAM;;AC9BrB,IAAI,mCAAoB;AACxB;AACA;AACA,wBAAwB,QAAQ;AAChC,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,oBAAoB,QAAQ;AAC5B,GAAG;AACH;AACA;AACA,cAAc,QAAQ;AACtB,GAAG;AACH;AACA;AACA,mBAAmB,QAAQ;AAC3B,GAAG;AACH;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;;AAEA,IAAI,6BAAc;AAClB;AACA,mBAAmB,mCAAoB;;AAEvC;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,yCAAyC,OAAO;AAChD;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA,0DAAe,6BAAc;;ACvF4C;AACzE,IAAI,sBAAW;AACf;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAW;AACf;AACA;AACA;AACA;AACA;AACA,IAAI,0BAAe;AACnB,WAAW,OAAO,OAAO,MAAM;AAC/B,WAAW,OAAO,OAAO,MAAM;AAC/B,aAAa,MAAM,IAAI,MAAM;AAC7B,YAAY,MAAM,IAAI,MAAM;AAC5B;AACA,IAAI,qBAAU;AACd,QAAQ,iBAAiB;AACzB,aAAa,sBAAW;AACxB;AACA,GAAG;AACH,QAAQ,iBAAiB;AACzB,aAAa,sBAAW;AACxB;AACA,GAAG;AACH,YAAY,iBAAiB;AAC7B,aAAa,0BAAe;AAC5B;AACA,GAAG;AACH;AACA,2DAAe,qBAAU;;ACjCzB,IAAI,mCAAoB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,6BAAc;AAClB,SAAS,mCAAoB;AAC7B;;AAEA,0DAAe,6BAAc;;ACbwC;AACrE,IAAI,kBAAS;AACb;AACA;AACA;AACA;AACA,IAAI,sBAAa;AACjB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,IAAI,oBAAW;AACf;AACA;AACA;AACA;AACA,IAAI,kBAAS;AACb;AACA;AACA;AACA;AACA;AACA,IAAI,wBAAe;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kCAAyB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,sBAAa;AACjB,oCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAI,iBAAQ;AACZ,iBAAiB,sBAAa;AAC9B,OAAO,eAAe;AACtB,YAAY,kBAAS;AACrB;AACA,GAAG;AACH,WAAW,eAAe;AAC1B,YAAY,sBAAa;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,eAAe;AACxB,YAAY,oBAAW;AACvB;AACA,GAAG;AACH,OAAO,eAAe;AACtB,YAAY,kBAAS;AACrB;AACA,GAAG;AACH,aAAa,eAAe;AAC5B,YAAY,wBAAe;AAC3B;AACA,sBAAsB,kCAAyB;AAC/C;AACA,GAAG;AACH;AACA,yDAAe,iBAAQ;;ACjJwC;AACc;AAC7E,IAAI,+BAAyB;AAC7B,IAAI,+BAAyB;AAC7B,IAAI,sBAAgB;AACpB;AACA;AACA;AACA;AACA,IAAI,sBAAgB;AACpB;AACA;AACA,IAAI,0BAAoB;AACxB;AACA;AACA;AACA;AACA,IAAI,0BAAoB;AACxB;AACA;AACA,IAAI,wBAAkB;AACtB;AACA;AACA;AACA;AACA,IAAI,wBAAkB;AACtB;AACA;AACA;AACA,IAAI,sBAAgB;AACpB;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAgB;AACpB;AACA;AACA;AACA,IAAI,4BAAsB;AAC1B;AACA;AACA;AACA,IAAI,4BAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,WAAK;AACT,iBAAiB,mBAAmB;AACpC,kBAAkB,+BAAyB;AAC3C,kBAAkB,+BAAyB;AAC3C;AACA;AACA;AACA,GAAG;AACH,OAAO,YAAY;AACnB,mBAAmB,sBAAgB;AACnC;AACA,mBAAmB,sBAAgB;AACnC;AACA,GAAG;AACH,WAAW,YAAY;AACvB,mBAAmB,0BAAoB;AACvC;AACA,mBAAmB,0BAAoB;AACvC;AACA;AACA;AACA;AACA,GAAG;AACH,SAAS,YAAY;AACrB,mBAAmB,wBAAkB;AACrC;AACA,mBAAmB,wBAAkB;AACrC;AACA,GAAG;AACH,OAAO,YAAY;AACnB,mBAAmB,sBAAgB;AACnC;AACA,mBAAmB,sBAAgB;AACnC;AACA,GAAG;AACH,aAAa,YAAY;AACzB,mBAAmB,4BAAsB;AACzC;AACA,mBAAmB,4BAAsB;AACzC;AACA,GAAG;AACH;AACA,sDAAe,WAAK;;ACjGwC;AACR;AACQ;AACZ;AACN;;AAE1C;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,oCAAoC;AACpC,mCAAmC;AACnC;AACA,IAAI,YAAM;AACV;AACA,kBAAkB,mBAAc;AAChC,cAAc,oBAAU;AACxB,kBAAkB,mBAAc;AAChC,YAAY,kBAAQ;AACpB,SAAS,eAAK;AACd;AACA;AACA;AACA;AACA;AAC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","sources":["../../webpack/universalModuleDefinition","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ActionBar.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ActionView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Attach.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/BooleanEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/BottomSheet.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ConsoleView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Container.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ContentView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ContextMenu.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/CounterView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/DateEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/DateEditorCombo.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Drawer.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/FileUploadView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/HeadedContentView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/HtmlView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Icon.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/IconTextView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ImageView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ItemSelector.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ItemView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ItemsEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ItemsView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ListView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/LocationView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/MediaEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/MediaView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/MessageBox.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/MultiItemPicker.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/NavBar.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/OperationView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/PageHost.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/PermissionRequestItemView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/PopUpContent.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/ProgressView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/PropertyView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/RemovableItemView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SearchView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SectionEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SectionsView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SelectableItemView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SimpleItemView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SingleItemPicker.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SingleItemSelector.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/SnackBar.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Spinner.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/TextEditor.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/TextView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/Toast.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/VideoView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/WebView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Templates/WizardView.html","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Global.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Helpers/Format.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Helpers/Http.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Helpers/TypeCheck.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Helpers/Uri.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Linq.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/StringTable.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Types/DynamicString.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/PromiseUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Loaders.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Services/DynamicPageManager.ts","../.././Scripts/Framework/Bindings.ts","../../external umd \"Chart\"","../../external umd \"Desmos\"","../../external umd \"Hammer\"","../../webpack/bootstrap","../../webpack/runtime/define property getters","../../webpack/runtime/hasOwnProperty shorthand","../../webpack/runtime/make namespace object","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Language/IT.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Android/IAndroidInterface.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Abstraction/IOperation.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Abstraction/IOperationManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Helpers/Functions.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Services/DbStorage.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/StringUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Types/TimeSpan.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/DateUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Services/LocalStorageCache.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Types/Exception.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Services/XHRHttpClient.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Services/GoogleAnalytics.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Services/LocalDbRepository.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Types/Event.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Types/Signal.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/ObjectUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/ArrayUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/DomUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/Identifier.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/MathUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Core/Utils/PositionUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/ComputedProperty.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/ObservableProperty.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/Properties.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/Binder.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/BindableObject.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Abstraction/IMapManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Maps/BingMapManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/TypeCheck.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/Abstraction/IBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/TemplateBuilder.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/Functions.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/Templating/ObservableList.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/BaseSearch.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/HIstoryPageHost.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/View.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Operation.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/ViewUtils.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ViewComponent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ContentView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ContextMenu.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/IconTextView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ActionView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/SelectionManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/AttachBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/LongPresssBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/RippleClickBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/ScrollCheckBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/VibrateClickBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Blocker.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SelfHostedPageHost.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Page.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ItemsView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Panel.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Activities/Activity.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SlidePageHost.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/ItemsObserver.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/AllTemplates.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Abstraction/IGestureListener.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/GestureBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Behavoirs/ContextMenuBehavoir.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/ViewApplication.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Abstraction/IAction.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Abstraction/IPageHost.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ActionBar.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/NavBar.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SearchView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Activities/ContentActivity.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/FulltemsLoader.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/TextView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ListView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/Item.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/ItemsSource.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/PagedItemsLoader.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Activities/SearchActivity.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/BottomSheet.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/RemovableItemView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SelectableItemView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Container.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Content/ItemEditContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/WebView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/WebPage.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/BasePopUpMessage.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/PopUpContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/PopupEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/BaseEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/SingleItemSelector.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Actions.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/ActivityEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Activities/SelectMultipleItemsActivity.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Activities/SelectSingleItemActivity.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ConsoleView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ContentHostView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Animation.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/CounterView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Drawer.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/FileUploadView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/GridView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/HeadedContentView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/HtmlView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/ImageLoade.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ImageView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ItemView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/LocationView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/MapItemsView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/MapView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/VideoLoader.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/VideoView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/MediaView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/MessageBox.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/ProgressView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/BaseTextEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/NumberEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/PropertyView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SectionsView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SimpleItemView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/SnackBar.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/StaticMapView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/Toast.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Components/WizardView.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Content/ItemListContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Content/MapContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Content/MasterDetailsContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Content/MessageContent.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/BaseItemEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/BasePicker.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/BooleanEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/DateEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/DateEditorCombo.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/ItemEditorConverter.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Interaction.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/EditableItemsSource.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/ItemsEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/MediaEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/MultiItemPicker.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/ObjectEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/RichTextEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/SectionEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/SingleItemPicker.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/MultiItemSelector.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/TextEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Editors/TimeEditor.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Components.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Decorators.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Editors.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/ItemsSources.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Helpers/Validators.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Items/CachedEditableItemsSource.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Services/AppContentManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/View/Services/PermissionManager.ts","../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts/index.ts","../.././Scripts/WebApp.ts","../.././Scripts/Application.ts","../.././Scripts/Api.ts","../.././Scripts/Framework/Operation.ts","../.././Scripts/Framework/SplitEnumerator.ts","../.././Scripts/Framework/DataAdapter.ts","../.././Scripts/Components/TreeView.ts","../.././Scripts/Components/DataImport.ts","../.././Scripts/Components/GraphContext.ts","../.././Scripts/Components/BaseStudioItem.ts","../.././Scripts/Framework/Graphics.ts","../.././Scripts/Indicators.ts","../.././Scripts/Data/InfectionDataSet.ts","../.././Scripts/Data/RangeDayAreaDataSet.ts","../.././Scripts/Types.ts","../.././Scripts/Components/ColorPicker.ts","../.././Scripts/Components/StudioRegression.ts","../.././Scripts/Components/StudioSerie.ts","../.././Scripts/Components/StudioProject.ts","../.././Scripts/Pages/StudioPage.ts","../.././Scripts/Data/ViewModes.ts","../.././Scripts/Framework/TipManager.ts","../.././node_modules/date-fns/esm/locale/it/_lib/formatDistance/index.js","../.././node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../.././node_modules/date-fns/esm/locale/it/_lib/formatLong/index.js","../.././node_modules/date-fns/esm/_lib/requiredArgs/index.js","../.././node_modules/date-fns/esm/toDate/index.js","../.././node_modules/date-fns/esm/_lib/toInteger/index.js","../.././node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","../.././node_modules/date-fns/esm/_lib/isSameUTCWeek/index.js","../.././node_modules/date-fns/esm/locale/it/_lib/formatRelative/index.js","../.././node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../.././node_modules/date-fns/esm/locale/it/_lib/localize/index.js","../.././node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../.././node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../.././node_modules/date-fns/esm/locale/it/_lib/match/index.js","../.././node_modules/date-fns/esm/locale/it/index.js","../.././node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../.././node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../.././node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../.././node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../.././node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../.././node_modules/date-fns/esm/locale/en-US/index.js","../.././Scripts/Pages/GeoPlotPage.ts","../.././Scripts/Global.ts","../.././Scripts/Index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Hammer\"), require(\"Desmos\"), require(\"Chart\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GeoPlot\", [\"Hammer\", \"Desmos\", \"Chart\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GeoPlot\"] = factory(require(\"Hammer\"), require(\"Desmos\"), require(\"Chart\"));\n\telse\n\t\troot[\"GeoPlot\"] = factory(root[\"Hammer\"], root[\"Desmos\"], root[\"Chart\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__4396__, __WEBPACK_EXTERNAL_MODULE__1431__, __WEBPACK_EXTERNAL_MODULE__2370__) {\nreturn ","__defineTemplate(\"ActionBar\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(\"context-mode\", m => m.selectionManager && m.selectionManager.isActive)\n      .beginChild(\"ul\").set(\"class\",\"nav main\")\n         .if(m => m.icon != null, t3 => t3\n            .beginChild(\"li\").set(\"class\",\"icon\").template(\"Icon\", m => m.icon).endChild()\n         )\n         .if(m => m.mainAction == 'menu', t3 => t3\n            .beginChild(\"li\").set(\"class\",\"main-action menu\").on(\"click\", m => m.showNavigationMenu()).behavoir(\"ripple\")\n               .beginChild(\"i\").set(\"class\",\"icon fas fa-bars\").endChild()\n            .endChild()\n         )\n         .if(m => m.mainAction == 'back', t3 => t3\n            .beginChild(\"li\").set(\"class\",\"main-action back\").on(\"click\", m => m.back()).behavoir(\"ripple\")\n               .beginChild(\"i\").set(\"class\",\"icon fas fa-chevron-left\").endChild()\n            .endChild()\n         )\n         .if(m => m.content != null, t3 => t3\n            .beginChild(\"li\").set(\"class\",\"main-content\").content(m => m.content).endChild()\n         , t3 => t3\n            .if(m => m.title != null, t4 => t4\n               .beginChild(\"li\").set(\"class\",\"main-content title\").text(m => m.title).endChild()\n            )\n         )\n         .foreach(m => m.actions, t3 => t3\n            .beginChild(\"li\").set(\"class\",\"action-item\").class(m => m.name).content(m => m).endChild()\n         )\n      .endChild()\n      .beginChild(\"ul\").set(\"class\",\"nav context\")\n         .beginChild(\"li\").set(\"class\",\"main-action close\").on(\"click\", m => m.selectionManager ? m.selectionManager.close() : null).behavoir(\"ripple\")\n            .beginChild(\"i\").set(\"class\",\"icon fas fa-times\").endChild()\n         .endChild()\n         .if(m => m.selectionManager != null, t3 => t3\n            .beginChild(\"li\").set(\"class\",\"title\").text(m => m.selectionManager.selectionText).endChild()\n            .foreach(m => m.selectionManager.actions, t4 => t4\n               .beginChild(\"li\").set(\"class\",\"action-item\").class(m => m.name).content(m => m).endChild()\n            )\n         )\n      .endChild()\n   .endChild()\n   .content(m => m.navigationMenu)\n});","__defineTemplate(\"ActionIcon\", t => { t\n   .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"action button-text\").set(\"tooltip\",m => m.tooltip).on(\"click\", m => m.executeAsync()).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"ripple\").template(\"Icon\", m => m.content).endChild()\n});\n__defineTemplate(\"ActionLink\", t => { t\n   .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"action button-text\").on(\"click\", m => m.executeAsync()).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"ripple\").content(m => m.content).endChild()\n});\n__defineTemplate(\"ActionButton\", t => { t\n   .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"action button\").on(\"click\", m => m.executeAsync()).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"ripple\").content(m => m.content).endChild()\n});","__defineTemplate(\"Attach\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"attach\").endChild()\n});","__defineTemplate(\"DefaultCheckBox\", t => { t\n   .beginChild(\"label\")\n      .beginChild(\"input\").set(\"type\",\"checkbox\").value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).endChild()\n      .beginChild(\"span\").text(m => m.label).endChild()\n   .endChild()\n});\n__defineTemplate(\"Switch\", t => { t\n   .beginChild(\"div\").set(\"class\",\"switch\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).class(\"selected\", m => m.editValue)\n      .beginChild(\"div\").set(\"class\",\"checkbox-container\")\n         .beginChild(\"div\").set(\"class\",\"unselected-half\").on(\"click\", m => m.editValue = false).endChild()\n         .beginChild(\"div\").set(\"class\",\"selected-half\").on(\"click\", m => m.editValue = true).endChild()\n         .beginChild(\"div\").set(\"class\",\"switch-button\").endChild()\n      .endChild()\n      .if(m => m.label != null, t2 => t2\n         .beginChild(\"label\").text(m => m.label).endChild()\n      )\n   .endChild()\n});\n__defineTemplate(\"CheckBox\", t => { t\n   .beginChild(\"div\").set(\"class\",\"checkbox\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).on(\"click\", m => m.toggle()).class(\"selected\", m => m.editValue)\n      .beginChild(\"div\").set(\"class\",\"checkbox-container\")\n         .beginChild(\"i\").set(\"class\",\"fas fa-check\").endChild()\n      .endChild()\n      .if(m => m.label != null, t2 => t2\n         .beginChild(\"label\").text(m => m.label).endChild()\n      )\n   .endChild()\n});","__defineTemplate(\"BottomSheet\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status).behavoir(\"attach\")\n      .if(m => m.isShowOpener, t2 => t2\n         .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"opener button-text\").on(\"click\", m => m.toggle())\n            .beginChild(\"i\").set(\"class\",\"fas fa-caret-up\").endChild()\n         .endChild()\n      )\n      .content(m => m.content).endChild()\n});","__defineTemplate(\"ConsoleView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible)\n      .beginChild(\"div\").set(\"class\",\"toolbar\")\n         .beginChild(\"button\").set(\"type\",\"button\").on(\"click\", m => m.hide()).text(\"Hide\").endChild()\n         .beginChild(\"button\").set(\"type\",\"button\").on(\"click\", m => m.clear()).text(\"Clear\").endChild()\n      .endChild()\n      .beginChild(\"div\").set(\"class\",\"body\")\n         .foreach(m => m.root.items, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n   .endChild()\n});\n__defineTemplate(\"ConsoleMessageView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"console-item console-message\").class(m => m.type)\n      .if(m => m.content != null, t2 => t2\n         .foreach(m => m.content, t3 => t3\n            .beginChild(\"span\").text(m => m).endChild()\n         )\n      )\n   .endChild()\n});\n__defineTemplate(\"ConsoleGroupView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"console-item console-group\")\n      .beginChild(\"header\").template(\"ConsoleMessageView\", m => m).endChild()\n      .beginChild(\"section\")\n         .foreach(m => m.items, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"Container\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"attach\")\n      .if(m => m.title != null, t2 => t2\n         .beginChild(\"header\")\n            .beginChild(\"label\").text(m => m.title).endChild()\n         .endChild()\n      )\n      .beginChild(\"div\").set(\"class\",\"content\").class(\"expanded\", m => m.isExpanded).class(\"expandible\", m => m.canExpand)\n         .if(m => m.canExpand, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"content-wrapper\").content(m => m.content, true).endChild()\n            .if(m => m.isOverflow, t4 => t4\n               .beginChild(\"a\").set(\"class\",\"base-button expand-collapse\").on(\"click\", m => m.toggleExpand()).visible(m => m.canExpand).behavoir(\"ripple\")\n                  .beginChild(\"i\").set(\"class\",\"fas fa-angle-down\").endChild()\n               .endChild()\n            )\n         , t3 => t3\n            .content(m => m.content, true)\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"ContentView\", t => { t\n   .content(m => m.content)\n});\n__defineTemplate(\"ContentViewNested\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status).behavoir(\"attach\").content(m => m.content).endChild()\n});","__defineTemplate(\"ContextMenu\", t => { t\n   .beginChild(\"ul\").class(m => m.className)\n      .foreach(m => m.actions, t2 => t2\n         .beginChild(\"li\").content(m => m).endChild()\n      )\n   .endChild()\n});","__defineTemplate(\"CounterView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"action\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"label\").set(\"class\",\"title\").text(m => m.title).endChild()\n      .beginChild(\"span\").set(\"class\",\"value\").text(m => m.content).endChild()\n   .endChild()\n});","__defineTemplate(\"DateEditor\", t => { t\n   .beginChild(\"input\").behavoir(\"attach\").set(\"type\",\"date\").value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"placeholder\",m => m.placeholder).endChild()\n});","__defineTemplate(\"DateEditorCombo\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"select\").set(\"class\",\"input-element day\").value(m => m.selectedDay)\n         .beginChild(\"option\").set(\"value\",\"\").text(m => WebApp.Format.text('day-label')).endChild()\n         .foreach(m => m.days, t3 => t3\n            .beginChild(\"option\").set(\"value\",m => m).text(m => m).endChild()\n         )\n      .endChild()\n      .beginChild(\"select\").set(\"class\",\"input-element month\").value(m => m.selectedMonth)\n         .beginChild(\"option\").set(\"value\",\"\").text(m => WebApp.Format.text('month-label')).endChild()\n         .foreach(m => m.months, t3 => t3\n            .beginChild(\"option\").set(\"value\",m => m.number).text(m => m.name).endChild()\n         )\n      .endChild()\n      .beginChild(\"select\").set(\"class\",\"input-element year\").value(m => m.selectedYear)\n         .beginChild(\"option\").set(\"value\",\"\").text(m => WebApp.Format.text('year-label')).endChild()\n         .foreach(m => m.years, t3 => t3\n            .beginChild(\"option\").set(\"value\",m => m).text(m => m).endChild()\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"Drawer\", t => { t\n   .beginChild(\"div\").set(\"class\",\"drawer-container\").class(m => m.status)\n      .beginChild(\"div\").set(\"class\",\"drawer\").behavoir(\"gesture\")\n         .if(m => m.header != null, t3 => t3\n            .beginChild(\"header\").content(m => m.header).endChild()\n         )\n         .foreach(m => m.groups, t3 => t3\n            .if(m => m.actions.count > 0, t4 => t4\n               .beginChild(\"section\")\n                  .if(m => m.label != null, t6 => t6\n                     .beginChild(\"label\").text(m => m.label).endChild()\n                  )\n                  .beginChild(\"div\").set(\"class\",\"menu\")\n                     .foreach(m => m.actions, t7 => t7\n                        .content(m => m)\n                     )\n                  .endChild()\n               .endChild()\n            )\n         )\n      .endChild()\n      .behavoir(\"attach\").endChild()\n});","__defineTemplate(\"FileUploadView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status)\n      .beginChild(\"div\").set(\"class\",\"content\")\n         .beginChild(\"div\").set(\"class\",\"header\")\n            .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"select button-text\").on(\"click\", m => m.select()).text(m => m.text).set(\"enabled\",m => m.status == 'selected' || m.status== 'empty').endChild()\n         .endChild()\n         .beginChild(\"div\").set(\"class\",\"progress\")\n            .beginChild(\"div\").set(\"class\",\"bar\").style(\"width\", m => (m.progress * 100) + '%').endChild()\n            .beginChild(\"div\").set(\"class\",\"text\").text(m => m.progressText).endChild()\n         .endChild()\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"HeadedContentView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible)\n      .beginChild(\"header\").content(m => m.header).endChild()\n      .beginChild(\"div\").set(\"class\",\"content\").content(m => m.content).endChild()\n   .endChild()\n});","__defineTemplate(\"Html\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).html(m => m.content).endChild()\n});\n__defineTemplate(\"HtmlNode\", t => { t\n   .appendChild(t.model.content)\n});","__defineTemplate(\"Icon\", t => { t\n   .if(m => m != null, t1 => t1\n      .if(m => m.substr(0, 4) == 'fas ' || m.substr(0, 4) == 'fab ' || m.substr(0, 4) == 'far ' || m.substr(0, 4) == 'fal '|| m.substr(0, 4) == 'fad ', t2 => t2\n         .beginChild(\"i\").set(\"class\",\"icon\").class(m => m).endChild()\n      , t2 => t2\n         .beginChild(\"img\").set(\"class\",\"icon\").set(\"src\",m => m).endChild()\n      )\n   )\n});","__defineTemplate(\"IconTextView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status)\n      .if(m => m.icon != null, t2 => t2\n         .template(\"Icon\", m => m.icon)\n      )\n      .if(m => m.text != null, t2 => t2\n         .beginChild(\"span\").set(\"class\",\"text\").text(m => m.text).endChild()\n      )\n      .if(m => m.badge != null, t2 => t2\n         .beginChild(\"span\").set(\"class\",\"badge\").text(m => m.badge).endChild()\n      )\n   .endChild()\n});\n__defineTemplate(\"IconTextViewInline\", t => { t\n   .class(m => m.status)\n   .if(m => m.icon != null, t1 => t1\n      .template(\"Icon\", m => m.icon)\n   )\n   .if(m => m.text != null, t1 => t1\n      .beginChild(\"span\").set(\"class\",\"text\").text(m => m.text).endChild()\n   )\n   .if(m => m.badge != null, t1 => t1\n      .beginChild(\"span\").set(\"class\",\"badge\").text(m => m.badge).endChild()\n   )\n});","__defineTemplate(\"ImageInline\", t => { t\n   .beginChild(\"img\").class(m => m.className).set(\"src\",m => m.content).visible(m => m.visible).set(\"enabled\",m => m.enabled).endChild()\n});\n__defineTemplate(\"Image\", t => { t\n   .beginChild(\"div\").set(\"class\",\"image-container\").visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"img\").class(m => m.className).set(\"src\",m => m.content).endChild()\n   .endChild()\n});","__defineTemplate(\"ItemSelectorList\", t => { t\n   .beginChild(\"div\").set(\"class\",\"items-view\").class(m => m.className)\n      .foreach(m => m.items, t2 => t2\n         .content(m => m)\n      )\n   .endChild()\n});","__defineTemplate(\"ItemView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).class(m => m.status).class(\"activable\", m => m.canOpen).class(\"compact\", m => !(m.mainActions && m.mainActions.length > 0))\n      .if(m => m.mainActions && m.mainActions.length > 0, t2 => t2\n         .beginChild(\"div\").set(\"class\",\"body-container\").template(\"ItemViewBody\", m => m).endChild()\n         .beginChild(\"div\").set(\"class\",\"main-actions\")\n            .foreach(m => m.mainActions, t4 => t4\n               .content(m => m)\n            )\n         .endChild()\n      , t2 => t2\n         .template(\"ItemViewBody\", m => m)\n      )\n   .endChild()\n});\n__defineTemplate(\"ItemViewBody\", t => { t\n   .class(\"with-menu\", m => m.hasActions)\n   .beginChild(\"div\").on(\"click\", m => m.open()).class(\"body\", m => true)\n      .if(m => m.content.count <= 1, t2 => t2\n         .content(m => m.content.get(0), true), t2 => t2\n         .foreach(m => m.content, t3 => t3\n            .content(m => m)\n         )\n      )\n   .endChild()\n   .if(m => m.canOpen, t1 => t1\n      .beginChild(\"i\").set(\"class\",\"open-icon fas fa-angle-right\").endChild()\n   )\n   .if(m => m.hasActions, t1 => t1\n      .beginChild(\"a\").set(\"class\",\"menu\").on(\"click\", m => m.showMenu())\n         .beginChild(\"i\").set(\"class\",\"fas fa-ellipsis-v\").endChild()\n      .endChild()\n   )\n});","__defineTemplate(\"ItemsEditor\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .foreach(m => m.content, t2 => t2\n         .beginChild(\"div\").set(\"class\",\"list-item\").content(m => m, true).endChild()\n      )\n      .if(m => m.canAdd, t2 => t2\n         .beginChild(\"div\").set(\"class\",\"add-item\").content(m => m.addAction).endChild()\n      )\n   .endChild()\n});","__defineTemplate(\"ItemsView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .foreach(m => m.content, t2 => t2\n         .content(m => m)\n      )\n      .if(m => m.content.count == 0 && m.emptyView != null, t2 => t2\n         .content(m => m.emptyView)\n      )\n   .endChild()\n});\n__defineTemplate(\"ItemsViewWrapped\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"div\").set(\"class\",\"wrapper\")\n         .foreach(m => m.content, t3 => t3\n            .content(m => m)\n         )\n         .if(m => m.content.count == 0 && m.emptyView != null, t3 => t3\n            .content(m => m.emptyView)\n         )\n      .endChild()\n   .endChild()\n});\n__defineTemplate(\"ItemsViewForm\", t => { t\n   .beginChild(\"form\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .foreach(m => m.content, t2 => t2\n         .content(m => m)\n      )\n      .if(m => m.content.count == 0 && m.emptyView != null, t2 => t2\n         .content(m => m.emptyView)\n      )\n   .endChild()\n});","__defineTemplate(\"ListView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"scroll-check\").class(m => m.status)\n      .foreach(m => m.header, t2 => t2\n         .beginChild(\"header\").set(\"class\",\"header-item\").content(m => m).endChild()\n         .if(m => WebApp.injectProxy(m, \"$parent\", t.model).showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .if(m => m.content.count == 0 && m.emptyView != null && m.status == 'loaded', t2 => t2\n         .content(m => m.emptyView)\n      )\n      .foreach(m => m.content, t2 => t2\n         .beginChild(\"div\").set(\"class\",\"list-item\").content(m => m, true).endChild()\n         .if(m => WebApp.injectProxy(m, \"$parent\", t.model).showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .foreach(m => m.footer, t2 => t2\n         .beginChild(\"footer\").set(\"class\",\"footer-item\").content(m => m).endChild()\n         .if(m => WebApp.injectProxy(m, \"$parent\", t.model).showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .beginChild(\"div\").set(\"class\",\"loading-item\")\n         .beginChild(\"i\").set(\"class\",\"fas fa-circle-notch fa-spin fa-3x fa-fw\").endChild()\n      .endChild()\n   .endChild()\n});\n__defineTemplate(\"ListViewInline\", t => { t\n   .beginChild(\"div\").set(\"class\",\"list-view-inline\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).behavoir(\"scroll-check\").class(m => m.status)\n      .if(m => m.header.count > 0, t2 => t2\n         .foreach(m => m.header, t3 => t3\n            .content(m => m)\n         )\n         .if(m => m.showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .if(m => m.content.count == 0 && m.emptyView != null && m.status == 'loaded', t2 => t2\n         .content(m => m.emptyView)\n      )\n      .foreach(m => m.content, t2 => t2\n         .content(m => m)\n         .if(m => WebApp.injectProxy(m, \"$parent\", t.model).showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .if(m => m.footer.count > 0, t2 => t2\n         .foreach(m => m.footer, t3 => t3\n            .content(m => m)\n         )\n         .if(m => m.showSeparator, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"separator\").endChild()\n         )\n      )\n      .beginChild(\"div\").set(\"class\",\"loading-item\")\n         .beginChild(\"i\").set(\"class\",\"fas fa-circle-notch fa-spin fa-3x fa-fw\").endChild()\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"LocationView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"address\")\n         .if(m => m.content.name != null, t3 => t3\n            .beginChild(\"label\").text(m => m.content.name).endChild()\n         )\n         .beginChild(\"span\").text(m => m.content.address).endChild()\n      .endChild()\n      .beginChild(\"img\").set(\"src\",m => m.map).on(\"click\", m => m.showMap()).endChild()\n   .endChild()\n});","__defineTemplate(\"MediaEditor\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible)\n      .beginChild(\"div\").set(\"class\",\"media-container\").on(\"click\", m => m.showMenu()).content(m => m.mediaView).endChild()\n      .content(m => m.fileUpload).endChild()\n});","__defineTemplate(\"MediaView\", t => { t\n   .content(m => m.activeView)\n});","__defineTemplate(\"MessageBox\", t => { t\n   .beginChild(\"div\").class(m => m.className)\n      .beginChild(\"h5\").set(\"class\",\"title\").text(m => m.title).endChild()\n      .beginChild(\"div\").set(\"class\",\"body\")\n         .if(m => m.icon != null, t3 => t3\n            .template(\"Icon\", m => m.icon)\n         )\n         .beginChild(\"div\").set(\"class\",\"text\").text(m => m.message).endChild()\n      .endChild()\n      .beginChild(\"div\").set(\"class\",\"actions\")\n         .foreach(m => m.actions, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"MultiItemPicker\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status)\n      .beginChild(\"div\").set(\"class\",\"items-container\")\n         .beginChild(\"i\").set(\"class\",\"loading-item fas fa-circle-notch fa-spin fa-fw\").endChild()\n         .foreach(m => m.items, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n      .content(m => m.selectAction).endChild()\n});","__defineTemplate(\"NavBar\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"nav\").set(\"class\",\"nav\")\n         .foreach(m => m.content, t3 => t3\n            .beginChild(\"button\").set(\"class\",\"button-text\").class(m => m.status).on(\"click\", m => m.select()).visible(m => m.visible).behavoir(\"ripple\").content(m => m).endChild()\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"OperationView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"operation-view\").template(\"Spinner\", m => m)\n      .beginChild(\"div\").set(\"class\",\"text\")\n         .beginChild(\"span\").text(m => m.message).endChild()\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"SlidePageHost\", t => { t\n   .beginChild(\"div\").set(\"class\",\"slide-page-host\").class(m => m.activeTransaction)\n      .beginChild(\"div\").set(\"class\",\"page-container\").class(m => m.pageViews[0].className).content(m => m.pageViews[0].content).endChild()\n      .beginChild(\"div\").set(\"class\",\"page-container\").class(m => m.pageViews[1].className).content(m => m.pageViews[1].content).endChild()\n   .endChild()\n});\n__defineTemplate(\"SinglePageHost\", t => { t\n   .beginChild(\"div\").set(\"class\",\"single-page-host\").content(m => m.current.view).endChild()\n});","__defineTemplate(\"PermissionRequestItemView\", t => { t\n   .beginChild(\"div\").class(m => m.className)\n      .beginChild(\"div\").set(\"class\",\"item-content\")\n         .beginChild(\"div\").set(\"class\",\"main\").content(m => m.switchView).endChild()\n         .beginChild(\"span\").set(\"class\",\"right bold uppercase\").text(m => WebApp.Format.action('permission-why')).on(\"click\", m => m.isShowInfo = true).class(\"hidden\", m => m.isShowInfo).endChild()\n      .endChild()\n      .beginChild(\"div\").set(\"class\",\"info-message on-surface-smaller\").text(m => WebApp.Format.message(m.request.description)).class(\"hidden\", m => !m.isShowInfo).endChild()\n   .endChild()\n});","__defineTemplate(\"PopUpContent\", t => { t\n   .beginChild(\"div\").class(m => m.className)\n      .beginChild(\"h5\").set(\"class\",\"title\").text(m => m.title).endChild()\n      .beginChild(\"div\").set(\"class\",\"body\").content(m => m.contentView).endChild()\n      .beginChild(\"div\").set(\"class\",\"actions\")\n         .foreach(m => m.actions, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"ProgressView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(\"visible\", m => m.visible)\n      .beginChild(\"i\").set(\"class\",\"spinner fas fa-circle-notch fa-spin fa-3x fa-fw\").endChild()\n   .endChild()\n});","__defineTemplate(\"PropertyView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"action\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .if(m => m.showLabel && m.label != null, t2 => t2\n         .beginChild(\"label\").set(\"for\",m => m.editor.uid).text(m => m.label).endChild()\n      )\n      .if(m => m.readonly, t2 => t2\n         .beginChild(\"div\").set(\"class\",\"display-value\").text(m => m.editor.displayValue).endChild()\n      , t2 => t2\n         .content(m => m.editor)\n         .if(m => m.error != null, t3 => t3\n            .beginChild(\"span\").set(\"class\",\"error\").text(m => m.error).endChild()\n         )\n      )\n   .endChild()\n});","__defineTemplate(\"RemovableItemView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).class(m => m.status)\n      .beginChild(\"div\").set(\"class\",\"content\").content(m => m.content).endChild()\n      .beginChild(\"button\").set(\"type\",\"button\").set(\"class\",\"remove button-text\").set(\"href\",\"#!\").on(\"click\", m => m.removeAsync())\n         .beginChild(\"i\").set(\"class\",\"fas fa-times\").endChild()\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"SearchView\", t => { t\n   .if(m => m.isExpanded, t1 => t1\n      .beginChild(\"div\").set(\"class\",\"search-container\").class(m => m.className).visible(m => m.visible).class(m => m.status)\n         .beginChild(\"input\").set(\"type\",\"text\").focus(m => m.hasFocus).set(\"enabled\",m => m.enabled).value(m => m.searchText).set(\"placeholder\",m => m.tooltip).endChild()\n         .beginChild(\"i\").set(\"class\",\"loading-item fas fa-circle-notch fa-spin fa-fw\").endChild()\n      .endChild()\n   , t1 => t1\n      .template(\"ActionIcon\", m => m)\n   )\n});","__defineTemplate(\"SectionEditor\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).content(m => m.navBar)\n      .if(m => m.navBar.selectedItem && m.navBar.selectedItem.content && m.navBar.selectedItem.content.editor != null, t2 => t2\n         .content(m => m.navBar.selectedItem.content.editor)\n      )\n   .endChild()\n});","__defineTemplate(\"SectionsView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .foreach(m => m.content, t2 => t2\n         .beginChild(\"section\")\n            .beginChild(\"h5\").set(\"class\",\"header\").content(m => m.header).endChild()\n            .beginChild(\"div\").set(\"class\",\"content\").content(m => m.content).endChild()\n         .endChild()\n      )\n   .endChild()\n});","__defineTemplate(\"SelectableItemView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).on(\"click\", m => m.toggle()).class(\"selected\", m => m.isSelected).class(\"checkbox\", m => true)\n      .beginChild(\"div\").set(\"class\",\"checkbox-container\").value(m => m.isSelected)\n         .beginChild(\"i\").set(\"class\",\"fas fa-check\").endChild()\n      .endChild()\n      .content(m => m.content).endChild()\n});\n__defineTemplate(\"SelectableItemViewText\", t => { t\n   .beginChild(\"div\").class(m => m.className).on(\"click\", m => m.toggle()).class(\"selected\", m => m.isSelected).content(m => m.content, true).endChild()\n});","__defineTemplate(\"SimpleItemView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).class(m => m.status).template(\"Icon\", m => m.icon)\n      .beginChild(\"div\").set(\"class\",\"details\")\n         .beginChild(\"h6\").text(m => m.text).endChild()\n         .if(m => m.subText != null, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"sub-text\").text(m => m.subText).endChild()\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"SingleItemPicker\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.status)\n      .beginChild(\"div\").set(\"class\",\"items-container\")\n         .beginChild(\"i\").set(\"class\",\"loading-item fas fa-circle-notch fa-spin fa-fw\").endChild()\n         .content(m => m.contentView).endChild()\n      .if(m => m.editValue != null, t2 => t2\n         .content(m => m.clearAction)\n      )\n      .content(m => m.selectAction).endChild()\n});","__defineTemplate(\"SelectEditor\", t => { t\n   .beginChild(\"select\").set(\"class\",\"input-element\").focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).behavoir(\"attach\")\n      .if(m => m.placeholder != null, t2 => t2\n         .beginChild(\"option\").set(\"value\",\"\").text(m => m.placeholder).endChild()\n      )\n      .foreach(m => m.items, t2 => t2\n         .beginChild(\"option\").text(m => m.content).endChild()\n      )\n   .endChild()\n});\n__defineTemplate(\"SingleItemSelectorButton\", t => { t\n   .beginChild(\"button\").set(\"type\",\"button\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).on(\"click\", m => m.selectAsync())\n      .beginChild(\"span\").text(m => m.selectedItemText).endChild()\n      .beginChild(\"i\").set(\"class\",\"fas fa-caret-down\").endChild()\n   .endChild()\n});","__defineTemplate(\"SnackBar\", t => { t\n   .beginChild(\"div\").set(\"class\",\"snack-bar-container\").class(m => m.status)\n      .beginChild(\"div\").class(m => m.className)\n         .beginChild(\"div\").set(\"class\",\"content\").on(\"click\", m => m.hide(null)).content(m => m.content).endChild()\n         .if(m => m.action != null, t3 => t3\n            .content(m => m.action)\n         )\n      .endChild()\n   .endChild()\n});","__defineTemplate(\"Spinner\", t => { t\n   .beginChild(\"div\").set(\"class\",\"spinner-container\")\n      .beginChild(\"i\").set(\"class\",\"spinner fas fa-circle-notch fa-spin fa-3x fa-fw\").endChild()\n   .endChild()\n});","__defineTemplate(\"TextEditor\", t => { t\n   .beginChild(\"input\").behavoir(\"attach\").set(\"class\",\"input-element\").set(\"type\",\"text\").value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"placeholder\",m => m.placeholder).set(\"maxlength\",m => m.maxLength).endChild()\n});\n__defineTemplate(\"NumberEditor\", t => { t\n   .beginChild(\"input\").behavoir(\"attach\").set(\"class\",\"input-element\").set(\"inputmode\",\"decimal\").set(\"type\",\"text\").set(\"pattern\",m => WebApp.Format.text('decimal-input')).set(\"lang\",m => WebApp.App.language).value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"placeholder\",m => m.placeholder).endChild()\n});\n__defineTemplate(\"TimeEditor\", t => { t\n   .beginChild(\"input\").behavoir(\"attach\").set(\"class\",\"input-element\").set(\"type\",\"time\").set(\"lang\",m => WebApp.App.language).value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"placeholder\",m => m.placeholder).set(\"min\",\"00:00\").set(\"max\",\"24:00\").endChild()\n});\n__defineTemplate(\"PasswordEditor\", t => { t\n   .beginChild(\"input\").behavoir(\"attach\").set(\"class\",\"input-element\").set(\"type\",\"password\").value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"placeholder\",m => m.placeholder).set(\"maxlength\",m => m.maxLength).endChild()\n});\n__defineTemplate(\"TextEditorMultiLine\", t => { t\n   .beginChild(\"textarea\").set(\"class\",\"input-element\").behavoir(\"attach\").value(m => m.editValue).focus(m => m.hasFocus).class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"id\",m => m.uid).set(\"rows\",m => m.lineCount).set(\"placeholder\",m => m.placeholder).set(\"maxlength\",m => m.maxLength).endChild()\n});","__defineTemplate(\"TextContent\", t => { t\n   .beginChild(\"span\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).text(m => m.content).endChild()\n});\n__defineTemplate(\"TextView\", t => { t\n   .beginChild(\"span\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).text(m => m.text).endChild()\n});\n__defineTemplate(\"Text\", t => { t\n   .beginChild(\"span\").text(m => m).endChild()\n});","__defineTemplate(\"ToastContainer\", t => { t\n   .foreach(m => m, t1 => t1\n      .content(m => m)\n   )\n});\n__defineTemplate(\"Toast\", t => { t\n   .beginChild(\"div\").class(m => m.className)\n      .if(m => m.icon != null, t2 => t2\n         .template(\"Icon\", m => m.icon)\n      )\n      .beginChild(\"span\").text(m => m.message).endChild()\n      .class(\"visible\", m => m.visible).endChild()\n});","__defineTemplate(\"VideoView\", t => { t\n   .beginChild(\"div\").set(\"class\",\"video-container\").visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.className)\n      .beginChild(\"video\").set(\"src\",m => m.content).behavoir(\"attach\").endChild()\n   .endChild()\n});\n__defineTemplate(\"VideoViewInline\", t => { t\n   .beginChild(\"video\").visible(m => m.visible).set(\"enabled\",m => m.enabled).class(m => m.className).set(\"src\",m => m.content).behavoir(\"attach\").endChild()\n});","__defineTemplate(\"WebView\", t => { t\n   .beginChild(\"iframe\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled).set(\"src\",m => m.content).behavoir(\"attach\").endChild()\n});","__defineTemplate(\"WizardView\", t => { t\n   .beginChild(\"div\").class(m => m.className).visible(m => m.visible).set(\"enabled\",m => m.enabled)\n      .beginChild(\"div\").set(\"class\",\"wizard-steps\")\n         .beginChild(\"ul\")\n            .foreach(m => m.content, t4 => t4\n               .beginChild(\"li\").text(m => m.index + 1).class(\"active\", m => m.isActive).class(\"done\", m => m.index < WebApp.injectProxy(m, \"$parent\", t.model).currentStepIndex).endChild()\n            )\n         .endChild()\n      .endChild()\n      .if(m => m.currentView != null, t2 => t2\n         .beginChild(\"h5\").set(\"class\",\"title\").text(m => m.currentView.title).endChild()\n         .if(m => m.currentView.coverImage != null, t3 => t3\n            .beginChild(\"div\").set(\"class\",\"cover-image\").template(\"Icon\", m => m.currentView.coverImage).endChild()\n         )\n         .content(m => m.currentView)\n      )\n      .beginChild(\"div\").set(\"class\",\"actions\").content(m => m.actions.next).content(m => m.actions.finish)\n         .foreach(m => m.currentView.actions, t3 => t3\n            .content(m => m)\n         )\n      .endChild()\n   .endChild()\n});","import { IAppArgs, IApplication } from \"./Abstraction/IApplication\";\r\nimport { Type } from \"./Types/Types\";\r\n\r\nexport var App: IApplication<IAppArgs> = null;\r\n\r\nexport const Services: IServices = {} as IServices;\r\n\r\n/****************************************/\r\n\r\nexport async function runAsync<TApp extends IApplication<TArgs>, TArgs extends IAppArgs>(app: Type<TApp> | TApp, args: TArgs, action: () => any) {\r\n\r\n    if (typeof app == \"function\")\r\n        App = new app();\r\n    else\r\n        App = app;\r\n\r\n    window.addEventListener(\"load\", async () => {\r\n\r\n        await App.runAsync(args);\r\n\r\n        action();\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nexport async function install(workerUri: string, versionUri: string, isDebug?: boolean) {\r\n\r\n    const curVer = localStorage.getItem(\"AppVer\");\r\n\r\n    let newVer: string;\r\n\r\n    try {\r\n        newVer = JSON.parse(await (await fetch(versionUri)).text());\r\n    }\r\n    catch {\r\n        newVer = curVer;\r\n        console.warn(\"Error fetching version\");\r\n    }\r\n\r\n    if (\"serviceWorker\" in navigator) {\r\n        const curReg = await navigator.serviceWorker.getRegistration(workerUri);\r\n\r\n        if (curVer != newVer || !curReg) {\r\n\r\n            if (curReg)\r\n                await curReg.update();\r\n            else\r\n                await navigator.serviceWorker.register(workerUri);\r\n        }\r\n    };\r\n\r\n    localStorage.setItem(\"AppVer\", newVer);\r\n\r\n    if (curVer && curVer != newVer && !isDebug)\r\n        document.location.reload();\r\n}","import { IDictionary } from \"../Abstraction/IDictionary\";\r\nimport { IMap } from \"../Abstraction/IMap\";\r\nimport { DynamicString, LocalString, StringUsage } from \"../Types/DynamicString\";\r\n\r\nexport namespace Format {\r\n\r\n    export function join(separator: string, ...args: LocalString[]) {\r\n\r\n        let result = \"\";\r\n\r\n        for (const arg of args) {\r\n            if (!arg)\r\n                continue;\r\n            if (result.length > 0)\r\n                result += separator;\r\n            result += DynamicString.getValue(arg);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function text(value: LocalString, ...args: LocalString[]) {\r\n\r\n        return DynamicString.getValue(value, { params: args });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function title(value: LocalString, ...args: LocalString[]) {\r\n\r\n        return DynamicString.getValue(value, { params: args, usage: StringUsage.Title });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function action(value: LocalString, ...args: LocalString[]) {\r\n\r\n        return DynamicString.getValue(value, { params: args, usage: StringUsage.Action });\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    export function tooltip(value: LocalString, ...args: LocalString[]) {\r\n\r\n        return DynamicString.getValue(value, { params: args, usage: StringUsage.Tooltip });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function message(value: LocalString, ...args: LocalString[]) {\r\n\r\n        return DynamicString.getValue(value, { params: args, usage: StringUsage.Message });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function numberWithCommas(value: number, separator = \".\") {\r\n        if (value == null || value == undefined)\r\n            return \"\";\r\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function currency(value: number, symbol: string = \"€. \") {\r\n        if (value == null || value == undefined)\r\n            return \"\";\r\n        return symbol + \" \" + value.toFixed(2);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function replaceArgs(value: string, args: IDictionary<any> | IMap<any, string>): string {\r\n\r\n        if (!value)\r\n            return;\r\n\r\n        let map: IMap<any, string>;\r\n\r\n        if (typeof (args) != \"function\")\r\n            map = key => args[key];\r\n        else\r\n            map = <any>args;\r\n\r\n        let state = 0;\r\n        let result = \"\";\r\n        let curName = \"\";\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n            const c = value[i];\r\n            switch (state) {\r\n                case 0:\r\n                    if (c == \"{\") {\r\n                        curName = \"\";\r\n                        state = 1;\r\n                    }\r\n                    else\r\n                        result += c;\r\n                    break;\r\n                case 1:\r\n                    if (c == \"}\" || c == \":\" || c == \"=\") {\r\n                        state = 0;\r\n\r\n                        if (args)\r\n                            result += map(curName);\r\n\r\n                        if (c == \":\" || c == \"=\")\r\n                            state = 2;\r\n                        else\r\n                            state = 0;\r\n                    }\r\n                    else if (c != \"?\")\r\n                        curName += c;\r\n                    break;\r\n                case 2:\r\n                    if (c == \"}\")\r\n                        state = 0;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function replaceArgs2(value: string, args: IDictionary<any> | IMap<any, string>): string {\r\n\r\n        if (!value)\r\n            return value;\r\n\r\n        let map: IMap<any, string>;\r\n\r\n        if (typeof (args) != \"function\")\r\n            map = key => args[key];\r\n        else\r\n            map = <any>args;\r\n\r\n        let result = \"\";\r\n        let paramName = \"\";\r\n        let state = 0;\r\n\r\n        for (let i = 0; i < value.length; i++) {\r\n            const c = value[i];\r\n\r\n            switch (state) {\r\n                case 0:\r\n                    if (c == '$')\r\n                        state = 1;\r\n                    else\r\n                        result += c;\r\n                    break;\r\n                case 1:\r\n                    if (c == '(') {\r\n                        state = 2;\r\n                        paramName = \"\";\r\n                    }\r\n                    else {\r\n                        result += \"$\" + c;\r\n                        state = 0;\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    if (c == ')') {\r\n                        const paramValue = map(paramName);\r\n                        result += JSON.stringify(paramValue);\r\n                        state = 0;\r\n                    }\r\n                    else\r\n                        paramName += c;\r\n                    break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function linkify(value: string): string {\r\n\r\n        if (!value)\r\n            return \"\";\r\n\r\n        let replacedText, replacePattern1, replacePattern2, replacePattern3;\r\n\r\n        //URLs starting with http://, https://, or ftp://\r\n        replacePattern1 = /(\\b(https?|ftp):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\r\n        replacedText = value.replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>');\r\n\r\n        //URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\r\n        replacePattern2 = /(^|[^\\/])(www\\.[\\S]+(\\b|$))/gim;\r\n        replacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\r\n\r\n        //Change email addresses to mailto:: links.\r\n        replacePattern3 = /(([a-zA-Z0-9\\-\\_\\.])+@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\r\n        replacedText = replacedText.replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\r\n\r\n        return replacedText;\r\n    }\r\n}","﻿import { Services } from \"../Global\";\r\n\r\n\r\nexport namespace Http {\r\n\r\n    export function getStringAsync(url: string): Promise<string> {\r\n        return Services.httpClient.requestAsync<string>({\r\n            url: url,\r\n            method: \"GET\",\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function postStringAsync(url: string, data: any): Promise<string> {\r\n        return Services.httpClient.requestAsync<string>({\r\n            url: url,\r\n            method: \"POST\",\r\n            data: data,\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function getJsonAsync<T>(url: string): Promise<T> {\r\n\r\n        return Services.httpClient.requestAsync<T>({\r\n            url: url,\r\n            method: \"GET\",\r\n            responseType: \"application/json\",\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function postJsonAsync<T>(url: string, data: any): Promise<T> {\r\n\r\n        return Services.httpClient.requestAsync<T>({\r\n            url: url,\r\n            method: \"POST\",\r\n            responseType: \"application/json\",\r\n            data: data,\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function postBinaryAsync<T>(url: string, data: Blob | File | ArrayBuffer, onProgress?: (ev: ProgressEvent) => boolean): Promise<T> {\r\n\r\n        return Services.httpClient.requestAsync<T>({\r\n            url: url,\r\n            method: \"POST\",\r\n            responseType: \"application/json\",\r\n            dataType: \"application/octet-stream\",\r\n            data: data,\r\n            onProgress: onProgress\r\n        });\r\n    }\r\n}","﻿import { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { ICloneable } from \"../Abstraction/ICloneable\";\r\nimport { IList } from \"../Abstraction/IList\";\r\nimport { IStateManager } from \"../Abstraction/IStateManager\";\r\nimport { Guid } from \"../Types/Types\";\r\n\r\nconst GUID_REGEXP = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n\r\nexport function isList(obj: any): obj is IList<any> {\r\n\r\n    return obj && typeof obj == \"object\" && \"add\" in obj && \"get\" in obj && \"count\" in obj;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isCloneable(obj: any): obj is ICloneable {\r\n\r\n    return obj && typeof obj == \"object\" && \"clone\" in obj && typeof obj[\"clone\"] == \"function\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isObservableList(obj: any): obj is IObservableList<any> {\r\n\r\n    return isList(obj) && \"subscribe\" in obj;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isString(obj: any): obj is string {\r\n\r\n    return typeof obj == \"string\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isFunction(obj: any): obj is Function {\r\n\r\n    return typeof obj == \"function\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isObject(obj: any): obj is object {\r\n\r\n    return typeof obj == \"object\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isStateManager(obj: any): obj is IStateManager {\r\n\r\n    return obj && typeof obj == \"object\" && \"setState\" in obj && \"getState\" in obj;\r\n}\r\n\r\n\r\nexport function isGuid(obj: any): obj is Guid {\r\n\r\n    return GUID_REGEXP.test(obj?.toString());\r\n\r\n}\r\n","import { App } from \"../Global\";\r\n\r\nexport namespace Uri {\r\n\r\n    var _relativeSegment: string;\r\n    var _absoluteSegment: string;\r\n\r\n    /****************************************/\r\n\r\n    export function absolute(uri: string): string {\r\n\r\n        if (uri.substr(0, 2) == \"./\" || uri.substr(0, 2) == \"~/\")\r\n            return getAbsoluteSegment(document.URL) + App.baseUrl.substr(1) + uri.substr(2);\r\n\r\n        else if (uri.substr(0, 1) == \"/\")\r\n            return getAbsoluteSegment(document.URL) + uri.substr(1);\r\n\r\n        else if (isAbsolute(uri))\r\n            return uri;\r\n\r\n        return getRelativeSegment(document.URL) + uri.substr(1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function isAbsolute(uri: string): boolean {\r\n        return uri.indexOf(\"://\") != -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function getRelativeSegment(uri: string): string {\r\n\r\n        if (!_relativeSegment) {\r\n\r\n            _relativeSegment = \"\";\r\n\r\n            const index = uri.lastIndexOf(\"/\");\r\n            if (index != -1)\r\n                _relativeSegment = uri.substr(0, index + 1);\r\n        }\r\n        return _relativeSegment;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function getAbsoluteSegment(uri: string): string {\r\n\r\n        if (!_absoluteSegment) {\r\n\r\n            _absoluteSegment = \"\";\r\n\r\n            let index = uri.indexOf(\"://\");\r\n            if (index != -1) {\r\n                index = uri.indexOf(\"/\", index + 4);\r\n                if (index != -1)\r\n                    _absoluteSegment = uri.substr(0, index + 1);\r\n            }\r\n        }\r\n\r\n        return _absoluteSegment;\r\n    }\r\n}","import { IDictionary } from \"./Abstraction/IDictionary\";\r\nimport { IKeyValue } from \"./Abstraction/IKeyValue\";\r\nimport { IList } from \"./Abstraction/IList\";\r\nimport { isList } from \"./Helpers/TypeCheck\";\r\nimport { Type } from \"./Types/Types\";\r\nimport { delayAsync } from \"./Utils/PromiseUtils\";\r\n\r\nexport interface IEnumerator<T> {\r\n\r\n    current: T;\r\n\r\n    moveNext(): boolean;\r\n\r\n    reset(): void;\r\n\r\n    toArray?(): T[];\r\n\r\n    count?(): number;\r\n\r\n    first?(): T;\r\n\r\n    last?(): T;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IGroupItem<TKey, TValue> {\r\n    key: TKey;\r\n    values: Linq<TValue>;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface ICollection<T> {\r\n\r\n    length: number;\r\n\r\n    item(index: number): T;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IEnumerable<T> {\r\n\r\n    getEnumerator(): IEnumerator<T>;\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nclass EmptyEnumerator<T> implements IEnumerator<T> {\r\n\r\n    get current(): T {\r\n        return undefined;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    count(): number {\r\n        return 0;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass DistinctEnumerator<TSrc, TDest> implements IEnumerator<TDest>{\r\n\r\n    private _selector: (item: TSrc) => TDest;\r\n    private _source: IEnumerator<TSrc>;\r\n    private _foundItems: TDest[];\r\n    private _current: TDest;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<TSrc>, selector?: (item: TSrc) => TDest) {\r\n\r\n        this._selector = selector;\r\n        this._source = source;\r\n\r\n        if (!this._selector)\r\n            this._selector = a => <any>a;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): TDest {\r\n        return this._current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        while (this._source.moveNext()) {\r\n            const item = this._selector(this._source.current);\r\n            if (this._foundItems.indexOf(item) == -1) {\r\n                this._foundItems.push(item);\r\n                this._current = item;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._source.reset();\r\n        this._foundItems = [];\r\n        this._current = undefined;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass DictionaryEnumerator<T> implements IEnumerator<IKeyValue<T>> {\r\n\r\n    private _curIndex: number;\r\n    private _keyList: string[];\r\n    private _value: IDictionary<T>;\r\n\r\n    /****************************************/\r\n\r\n    constructor(value: IDictionary<T>) {\r\n        this._keyList = Object.getOwnPropertyNames(value);\r\n        this._value = value;\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): IKeyValue<T> {\r\n        return {\r\n            key: this._keyList[this._curIndex],\r\n            value: this._value[this._keyList[this._curIndex]]\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        this._curIndex++;\r\n        return this._curIndex < this._keyList.length;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._curIndex = -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    first(): IKeyValue<T> {\r\n        return {\r\n            key: this._keyList[0],\r\n            value: this._value[this._keyList[0]]\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    last(): IKeyValue<T> {\r\n        return {\r\n            key: this._keyList[this._keyList.length - 1],\r\n            value: this._value[this._keyList[this._keyList.length - 1]]\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    count(): number {\r\n        return this._keyList.length;\r\n    }\r\n\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nclass ArrayEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _curIndex: number;\r\n    private _value: T[];\r\n\r\n    /****************************************/\r\n\r\n    constructor(value: T[]) {\r\n        this._value = value;\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._value[this._curIndex];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toArray() {\r\n        return this._value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        this._curIndex++;\r\n        return this._curIndex < this._value.length;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._curIndex = -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    first(): T {\r\n        return this._value[0];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    last(): T {\r\n        return this._value[this._value.length - 1];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    count(): number {\r\n        return this._value.length;\r\n    }\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nclass CollectionEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _curIndex: number;\r\n    private _value: ICollection<T>;\r\n\r\n    /****************************************/\r\n\r\n    constructor(value: ICollection<T>) {\r\n        this._value = value;\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._value.item(this._curIndex);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        this._curIndex++;\r\n        return this._curIndex < this._value.length;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._curIndex = -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    first(): T {\r\n        return this._value.item(0);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    last(): T {\r\n        return this._value.item(this._value.length - 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    count(): number {\r\n        return this._value.length;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass SelectManyEnumerator<TSrc, TDest> implements IEnumerator<TDest> {\r\n\r\n    private _selector: (item: TSrc, index?: number) => IEnumerable<TDest>;\r\n    private _source: IEnumerator<TSrc>;\r\n    private _index: number;\r\n    private _curGroup: IEnumerator<TDest>;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<TSrc>, selector: (item: TSrc, index?: number) => IEnumerable<TDest>) {\r\n\r\n        this._selector = selector;\r\n        this._source = source;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): TDest {\r\n        return this._curGroup?.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        while (true) {\r\n\r\n            while (!this._curGroup) {\r\n\r\n                if (!this._source.moveNext())\r\n                    return false;\r\n\r\n                this._curGroup = this._selector(this._source.current, this._index)?.getEnumerator();\r\n            }\r\n\r\n            if (this._curGroup) {\r\n\r\n                if (!this._curGroup.moveNext())\r\n                    this._curGroup = null;\r\n                else {\r\n                    this._index++;\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._curGroup = null;\r\n        this._index = -1;\r\n        this._source.reset();\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass SelectEnumerator<TSrc, TDest> implements IEnumerator<TDest> {\r\n\r\n    private _selector: (item: TSrc, index?: number) => TDest;\r\n    private _source: IEnumerator<TSrc>;\r\n    private _index: number;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<TSrc>, selector: (item: TSrc, index?: number) => TDest) {\r\n\r\n        this._selector = selector;\r\n        this._source = source;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): TDest {\r\n        return this._selector(this._source.current, this._index);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n        this._index++;\r\n        return this._source.moveNext();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._index = -1;\r\n        this._source.reset();\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass WhereEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _condition: (item: T) => boolean;\r\n    private _source: IEnumerator<T>;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<T>, condition: (item: T) => boolean) {\r\n\r\n        this._condition = condition;\r\n        this._source = source;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._source.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        while (this._source.moveNext()) {\r\n            if (this._condition(this._source.current))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._source.reset();\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nclass SkipEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _source: IEnumerator<T>;\r\n    private _count: number;\r\n    private _skipped: boolean;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<T>, count: number) {\r\n\r\n        this._count = count;\r\n        this._source = source;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._source.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        if (!this._skipped) {\r\n            let elCount = 0;\r\n            while (elCount < this._count) {\r\n                if (!this._source.moveNext())\r\n                    return false;\r\n                elCount++;\r\n            }\r\n            this._skipped = true;\r\n        }\r\n\r\n        return this._source.moveNext();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._source.reset();\r\n        this._skipped = false;\r\n    }\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nclass TakeEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _source: IEnumerator<T>;\r\n    private _count: number;\r\n    private _taken: number;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: IEnumerator<T>, count: number) {\r\n\r\n        this._count = count;\r\n        this._source = source;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._source.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        if (this._taken >= this._count)\r\n            return false;\r\n\r\n        if (!this._source.moveNext())\r\n            return false;\r\n\r\n        this._taken++;\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._source.reset();\r\n        this._taken = 0;\r\n    }\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nclass IteratorEnumerator<T> implements IEnumerator<T> {\r\n\r\n    private _source: Iterator<T>;\r\n    private _current: T;\r\n\r\n    /****************************************/\r\n\r\n    constructor(source: Iterator<T>) {\r\n        this._source = source;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): T {\r\n        return this._current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        const result = this._source.next();\r\n        if (result.done)\r\n            return false;\r\n        this._current = result.value;\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Linq<T> implements IEnumerable<T> {\r\n\r\n    private _enumerator: IEnumerator<T>;\r\n\r\n    /****************************************/\r\n\r\n    constructor(value: IEnumerator<T>) {\r\n\r\n        this._enumerator = value;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    selectMany<TResult>(selector: (item: T, index?: number) => IEnumerable<TResult>): Linq<TResult> {\r\n\r\n        return linq(new SelectManyEnumerator(this._enumerator, selector));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select<TResult>(selector: (item: T, index?: number) => TResult): Linq<TResult> {\r\n\r\n        return linq(new SelectEnumerator(this._enumerator, selector));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    ofType<TCheck>(typeCheck: (item: T) => boolean): Linq<TCheck>;\r\n\r\n    ofType<TCheck>(type: Type<TCheck>): Linq<TCheck>;\r\n\r\n    ofType<TCheck>(typeOrCheck: Type<TCheck> | { (item: T) : boolean }): Linq<TCheck> {\r\n\r\n        if (\"prototype\" in typeOrCheck)\r\n            return this.where(a => a instanceof typeOrCheck) as any;\r\n\r\n        return this.where(a => (typeOrCheck as any)(a)) as any;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    where(condition: (item: T) => boolean): Linq<T> {\r\n\r\n        return linq(new WhereEnumerator(this._enumerator, condition));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    first(condition?: (item: T) => boolean): T {\r\n\r\n        if (condition)\r\n            return this.where(condition).first();\r\n\r\n        if (this._enumerator.first)\r\n            return this._enumerator.first();\r\n\r\n        this._enumerator.reset();\r\n        if (this._enumerator.moveNext())\r\n            return this._enumerator.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    last(): T {\r\n\r\n        if (this._enumerator.last)\r\n            return this._enumerator.last();\r\n\r\n        this._enumerator.reset();\r\n\r\n        let lastItem: T;\r\n\r\n        while (this._enumerator.moveNext())\r\n            lastItem = this._enumerator.current;\r\n\r\n        return lastItem;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    sum(selector?: (item: T) => number): number {\r\n\r\n        if (selector)\r\n            return this.select(selector).sum();\r\n\r\n        let result = 0;\r\n\r\n        this.foreach(a => {\r\n            result += parseFloat(a as any);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    min(selector?: (item: T) => number): number {\r\n\r\n        if (selector)\r\n            return this.select(selector).min();\r\n        let result = Number.POSITIVE_INFINITY;\r\n        this.foreach(a => {\r\n            const number = parseFloat(a as any);\r\n            if (number < result)\r\n                result = number;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    max(selector?: (item: T) => number): number {\r\n\r\n        if (selector)\r\n            return this.select(selector).max();\r\n        let result = Number.NEGATIVE_INFINITY;\r\n        this.foreach(a => {\r\n            const number = parseFloat(a as any);\r\n            if (number > result)\r\n                result = number;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    avg(selector?: (item: T) => number): number {\r\n\r\n        if (selector)\r\n            return this.select(selector).avg();\r\n\r\n        let result = 0;\r\n        let count = 0;\r\n\r\n        this.foreach(a => {\r\n            result += parseFloat(a as any);\r\n            count++;\r\n        });\r\n\r\n        if (count)\r\n            return result / count;\r\n        return NaN;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    count(condition?: (item: T) => boolean): number {\r\n\r\n        if (condition)\r\n            return this.where(condition).count();\r\n\r\n        if (this._enumerator.count)\r\n            return this._enumerator.count();\r\n\r\n        this._enumerator.reset();\r\n\r\n        let count = 0;\r\n        while (this._enumerator.moveNext())\r\n            count++;\r\n\r\n        return count;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    concat(separator: string, selector?: (item: T) => any): string {\r\n\r\n        let result = \"\";\r\n        let index = 0;\r\n\r\n        if (!selector)\r\n            selector = a => a.toString();\r\n\r\n        this.foreach(a => {\r\n            if (index > 0)\r\n                result += separator;\r\n            result += selector(a);\r\n            index++;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    orderBy(selector: (item: T) => any): Linq<T> {\r\n\r\n        const result = this.toArray();\r\n        result.sort((a, b) => {\r\n            const itemA = selector(a);\r\n            const itemB = selector(b);\r\n            return itemA - itemB;\r\n        });\r\n        return linq(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    orderByDesc(selector: (item: T) => any): Linq<T> {\r\n\r\n        const result = this.toArray();\r\n        result.sort((a, b) => {\r\n            const itemA = selector(a);\r\n            const itemB = selector(b);\r\n            return itemB - itemA;\r\n        });\r\n        return linq(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    distinct<TDest>(selector?: (item: T) => TDest): Linq<TDest> {\r\n\r\n        return linq(new DistinctEnumerator<T, TDest>(this._enumerator, selector));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    groupBy<TKey>(key: (item: T) => TKey, comparer?: (a: TKey, b: TKey) => boolean): Linq<IGroupItem<TKey, T>>;\r\n\r\n    groupBy<TKey extends IDictionary<(item: T) => any>>(key: (item: T) => TKey, comparer?: (a: TKey, b: TKey) => boolean): Linq<IGroupItem<TKey, T>>;\r\n\r\n    groupBy<TKey>(key: any, comparer?: (a: TKey, b: TKey) => boolean): Linq<IGroupItem<TKey, T>> {\r\n\r\n        const result: Array<IGroupItem<TKey, T>> = [];\r\n\r\n        if (!comparer)\r\n            comparer = (a, b) => a == b;\r\n\r\n        if (typeof key == \"function\") {\r\n\r\n            const keySelector = <(item: T) => TKey>key;\r\n\r\n            this.foreach(item => {\r\n                const itemKey = keySelector(item);\r\n                let groupItem = linq(result).first(a => comparer(a.key, itemKey));\r\n                if (!groupItem) {\r\n                    groupItem = {\r\n                        key: itemKey,\r\n                        values: linq(new ArrayEnumerator([]))\r\n                    };\r\n                    result.push(groupItem);\r\n                }\r\n                groupItem.values._enumerator.toArray().push(item);\r\n\r\n            });\r\n        }\r\n\r\n        return linq(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    indexOf(condition: (item: T) => boolean): number {\r\n\r\n        let index = 0;\r\n\r\n        this._enumerator.reset();\r\n        while (this._enumerator.moveNext()) {\r\n            if (condition(this._enumerator.current))\r\n                return index;\r\n            index++;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    foreach(action: (item: T, index?: number) => void): Linq<T> {\r\n\r\n        this._enumerator.reset();\r\n\r\n        let index = 0;\r\n        while (this._enumerator.moveNext()) {\r\n            action(this._enumerator.current, index);\r\n            index++;\r\n        }\r\n\r\n        return this;\r\n    }\r\n    /****************************************/\r\n\r\n    async foreachAsync(action: (item: T, index?: number) => Promise<void>, chunkSize = 1): Promise<Linq<T>> {\r\n\r\n        this._enumerator.reset();\r\n\r\n        let index = 0;\r\n        while (this._enumerator.moveNext()) {\r\n            await action(this._enumerator.current, index);\r\n            index++;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    any(condition?: (item: T) => boolean): boolean {\r\n\r\n        if (!condition)\r\n            return this._enumerator.moveNext();\r\n\r\n        return this.where(condition).any();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    contains(item: T, comparer?: (a: T, b: T) => boolean) {\r\n\r\n        if (!comparer)\r\n            comparer = (a, b) => a == b;\r\n\r\n        this._enumerator.reset();\r\n\r\n        while (this._enumerator.moveNext())\r\n            if (comparer(this._enumerator.current, item))\r\n                return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    all(condition: (item: T) => boolean): boolean {\r\n\r\n        return !this.where(a => !condition(a)).any();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    take(count: number): Linq<T> {\r\n        return linq(new TakeEnumerator(this._enumerator, count));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    skip(count: number): Linq<T> {\r\n        return linq(new SkipEnumerator(this._enumerator, count));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    replace(condition: (item: T) => boolean, newItem: T) {\r\n        if (!(this._enumerator instanceof ArrayEnumerator))\r\n            throw \"Invalid enumerator, expected array\";\r\n        const items = this._enumerator.toArray();\r\n        for (let i = 0; i < items.length; i++) {\r\n            if (condition(items[i]))\r\n                items[i] == newItem;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toGenerator() {\r\n\r\n        function* generator(self: Linq<T>) {\r\n\r\n            self._enumerator.reset();\r\n            while (self._enumerator.moveNext())\r\n                yield self._enumerator.current;\r\n        }\r\n\r\n        return generator(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async toArrayAsync(chunkSize = 1) {\r\n\r\n        if (this._enumerator.toArray)\r\n            return this._enumerator.toArray();\r\n\r\n        const array: T[] = [];\r\n\r\n        let index = 0;\r\n\r\n        for (const item of this.toGenerator()) {\r\n\r\n            array.push(item);\r\n\r\n            if (index % chunkSize == 0)\r\n                await delayAsync(0);\r\n\r\n            index++;\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toArray(): T[] {\r\n\r\n        if (this._enumerator.toArray)\r\n            return this._enumerator.toArray();\r\n\r\n        const result: T[] = [];\r\n        this.foreach(a => result.push(a));\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toDictionary(keySelector: (item: T) => string): IDictionary<T>;\r\n\r\n    toDictionary<TValue>(keySelector: (item: T) => string, valueSelector: (item: T) => TValue): IDictionary<TValue>;\r\n\r\n    toDictionary(keySelector: (item: T) => string, valueSelector?: (item: T) => any): IDictionary<any> {\r\n\r\n        if (!valueSelector)\r\n            valueSelector = a => a;\r\n\r\n        const result = {};\r\n        this.foreach(a =>\r\n            result[keySelector(a)] = valueSelector(a));\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getEnumerator(): IEnumerator<T> {\r\n\r\n        return this._enumerator;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    [Symbol.iterator]() {\r\n        this._enumerator.reset();\r\n        return ({\r\n            next: (value?: any): IteratorResult<T> => {\r\n                const isDone = !this._enumerator.moveNext();\r\n                return {\r\n                    done: isDone,\r\n                    value: this._enumerator.current\r\n                };\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function linq<T>(enumerator: IEnumerator<T>): Linq<T>;\r\nexport function linq<T>(enumerable: IEnumerable<T>): Linq<T>;\r\nexport function linq<T>(array: T[]): Linq<T>;\r\nexport function linq<T>(list: ICollection<T>): Linq<T>;\r\nexport function linq<T>(iterator: Iterator<T>): Linq<T>;\r\nexport function linq<T>(dictionary: IDictionary<T>): Linq<IKeyValue<T>>;\r\nexport function linq<T extends Node>(nodeList: NodeListOf<T>): Linq<T>;\r\nexport function linq<T>(iterable: IList<T>): Linq<T>;\r\n\r\nexport function linq<T>(value: any): Linq<any> {\r\n\r\n    let enumerator: IEnumerator<any>;\r\n\r\n    if (!value)\r\n        enumerator = new EmptyEnumerator<T>();\r\n    else if (Array.isArray(value))\r\n        enumerator = new ArrayEnumerator<T>(value);\r\n    else if (\"getEnumerator\" in value)\r\n        enumerator = (value as IEnumerable<T>).getEnumerator();\r\n    else if (isList(value))\r\n        enumerator = new ArrayEnumerator(value.toArray());\r\n    else if (\"item\" in value)\r\n        enumerator = new CollectionEnumerator<T>(value);\r\n    else if (\"next\" in value && typeof (value[\"next\"]) == \"function\")\r\n        enumerator = new IteratorEnumerator(value);\r\n    else if (\"current\" in value && \"reset\" in value && \"moveNext\" in value)\r\n        enumerator = value;\r\n    else\r\n        enumerator = new DictionaryEnumerator<T>(value);\r\n\r\n    return new Linq(enumerator);\r\n}","import { IDictionary } from \"./Abstraction/IDictionary\";\r\nimport { IDynamicString } from \"./Types/DynamicString\";\r\n\r\ndeclare global {\r\n    interface IStringTable {\r\n        [key: string]: IDynamicString|string;\r\n    }\r\n}\r\n\r\ninterface IStringTableConfig {\r\n    language: string;\r\n    sector?: string;\r\n}\r\n\r\nexport var Strings: IStringTable;\r\n\r\n/****************************************/\r\n\r\nexport class StringTable {\r\n\r\n    private static _tables: IDictionary<IStringTable> = {};\r\n    private static _currentConfig: IStringTableConfig;\r\n\r\n    /****************************************/\r\n\r\n    private static getKey(config: IStringTableConfig): string {\r\n        let key = config.language;\r\n        if (config.sector)\r\n            key += \"|\" + config.sector;\r\n        return key;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static get(config?: IStringTableConfig): IStringTable {\r\n\r\n        if (!config)\r\n            config = this._currentConfig;\r\n\r\n        let result = StringTable._tables[this.getKey(config)];\r\n        if (!result && config.sector)\r\n            result = StringTable._tables[this.getKey({ language: config.language })];\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static add(value: Partial<IStringTable>, config: IStringTableConfig): void {\r\n        const key = this.getKey(config);\r\n        const curValue = this._tables[key];\r\n        if (!curValue)\r\n            this._tables[key] = value as IStringTable;\r\n        else {\r\n            for (const str in value)\r\n                curValue[str] = value[str];\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static get currentConfig(): IStringTableConfig {\r\n        return this._currentConfig;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static set currentConfig(value: IStringTableConfig) {\r\n        this._currentConfig = value;\r\n        Strings = StringTable.get();\r\n    }\r\n}","import { Strings } from \"../StringTable\";\r\n\r\nexport type LocalString = IDynamicString | string | keyof IStringTable;\r\n\r\nexport enum WordNumber {\r\n    Singular,\r\n    Plural\r\n}\r\n\r\n/****************************************/\r\n\r\nexport enum WordGender {\r\n    Male,\r\n    Female\r\n}\r\n\r\n/****************************************/\r\n\r\nexport enum StringUsage {\r\n    General,\r\n    Label,\r\n    Column,\r\n    Action,\r\n    Message,\r\n    Question,\r\n    Title,\r\n    Tooltip\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDynamicStringConfig {\r\n    useArticle?: boolean;\r\n    useArticleInd?: boolean;\r\n    cardinality?: number;\r\n    number?: WordNumber;\r\n    gender?: WordGender;\r\n    scope?: string;\r\n    language?: string;\r\n    usage?: StringUsage;\r\n    params?: Array<LocalString>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDynamicString {\r\n    (config?: IDynamicStringConfig): string;\r\n};\r\n\r\n\r\n/****************************************/\r\n\r\ninterface IFullNameConfig {\r\n    detArticle?: string;\r\n    undetArticle?: string;\r\n    name: string;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAdverbConfig {\r\n    male?: string;\r\n    female?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface INameConfig {\r\n    gender?: WordGender;\r\n    singular: IFullNameConfig;\r\n    plural?: IFullNameConfig;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAdjectiveConfig {\r\n    male?: INameConfig;\r\n    female?: INameConfig;\r\n}\r\n\r\n/****************************************/\r\n\r\nclass DynamicStringManager {\r\n\r\n    format(Strings: IDynamicString): IDynamicString {\r\n        return cfg => {\r\n            let curValue = Strings(cfg);\r\n\r\n            if (cfg) {\r\n\r\n                if (cfg.usage === StringUsage.Column ||\r\n                    cfg.usage === StringUsage.Label ||\r\n                    cfg.usage === StringUsage.Action ||\r\n                    cfg.usage === StringUsage.Title ||\r\n                    cfg.usage === StringUsage.Question ||\r\n                    cfg.usage === StringUsage.Tooltip ||\r\n                    cfg.usage === StringUsage.Message)\r\n                    curValue = curValue.substr(0, 1).toUpperCase() + curValue.substr(1);\r\n\r\n                if (cfg.usage === StringUsage.Label)\r\n                    curValue += \":\";\r\n\r\n                if (cfg.usage === StringUsage.Message)\r\n                    curValue += \".\";\r\n\r\n                if (cfg.usage === StringUsage.Question)\r\n                    curValue += \"?\";\r\n            }\r\n\r\n            return curValue;\r\n        };\r\n    }\r\n\r\n    get(name: string): IDynamicString {\r\n        const value = Strings[name];\r\n        if (typeof value == \"string\")\r\n            return DynamicString.simple(value);\r\n        return value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getValue(value: LocalString, config?: IDynamicStringConfig): string;\r\n\r\n    getValue(value: LocalString, usage?: StringUsage): string;\r\n\r\n    getValue(value: LocalString, usageOrConfig?: any): string {\r\n\r\n        if (typeof value == \"function\") {\r\n\r\n            let cfg: IDynamicStringConfig;\r\n\r\n            if (usageOrConfig) {\r\n                if (StringUsage[usageOrConfig])\r\n                    cfg = {\r\n                        usage: usageOrConfig\r\n                    };\r\n                else\r\n                    cfg = usageOrConfig;\r\n            }\r\n\r\n            return (value as IDynamicString)(cfg);\r\n        }\r\n        else {\r\n\r\n            if (value && Strings && value in Strings)\r\n                return this.getValue(this.get(value as string), usageOrConfig);\r\n        }\r\n\r\n        return <string>value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    complex(value: string): IDynamicString {\r\n        return DynamicString.format(cfg => {\r\n\r\n            let state = 0;\r\n            let result = \"\";\r\n            let curName = \"\";\r\n            let curNameParams: string = null;\r\n            let curNameParamsDeep = 0;\r\n\r\n            if (!cfg)\r\n                cfg = {};\r\n\r\n            if (!cfg.gender && cfg.params) {\r\n                //Forzo la valutazione dei parametri x estrarre il genere\r\n                cfg.params.forEach(a => {\r\n                    if (typeof a === \"function\")\r\n                        (a as IDynamicString)({ ...cfg, params: [] });\r\n                });\r\n            }\r\n\r\n            for (let i = 0; i < value.length; i++) {\r\n                const c = value[i];\r\n                switch (state) {\r\n                    case 0:\r\n                        if (c == \"{\") {\r\n                            curName = \"\";\r\n                            curNameParams = null;\r\n                            state = 1;\r\n                        }\r\n                        else\r\n                            result += c;\r\n                        break;\r\n                    case 1:\r\n                        if (c == \"}\") {\r\n                            state = 3;\r\n                            i--;\r\n                            break;\r\n                        }\r\n                        else if (c == \":\") {\r\n                            curNameParams = \"\";\r\n                            curNameParamsDeep = 0;\r\n                            state = 2;\r\n                        }\r\n                        else\r\n                            curName += c;\r\n                        break;\r\n                    case 2:\r\n                        if (c == \"{\")\r\n                            curNameParamsDeep++;\r\n\r\n                        if (c == \"}\") {\r\n                            curNameParamsDeep--;\r\n                            if (curNameParamsDeep < 0) {\r\n                                state = 3;\r\n                                i--;\r\n                            }\r\n                            else\r\n                                curNameParams += c;\r\n                        }\r\n                        else\r\n                            curNameParams += c;\r\n                        break;\r\n                    case 3:\r\n\r\n                        let paramCfg: IDynamicStringConfig;\r\n\r\n                        if (curNameParams)\r\n                            paramCfg = <IDynamicStringConfig>JSON.parse(curNameParams.trim());\r\n                        else\r\n                            paramCfg = {};\r\n\r\n                        let flagFound = true;\r\n\r\n                        while (flagFound) {\r\n\r\n                            flagFound = false;\r\n\r\n                            if (curName.startsWith(\"*\")) {\r\n                                paramCfg.number = WordNumber.Plural;\r\n                                curName = curName.substr(1);\r\n                                flagFound = true;\r\n                            }\r\n\r\n                            if (curName.startsWith(\"!\")) {\r\n                                paramCfg.useArticle = true;\r\n                                curName = curName.substr(1);\r\n                                flagFound = true;\r\n                            }\r\n\r\n                            if (curName.startsWith(\".\")) {\r\n                                paramCfg.useArticleInd = true;\r\n                                curName = curName.substr(1);\r\n                                flagFound = true;\r\n                            }\r\n                        }\r\n\r\n                        if (cfg.gender && !paramCfg.gender)\r\n                            paramCfg.gender = cfg.gender;\r\n\r\n                        if (cfg.cardinality && !paramCfg.cardinality)\r\n                            paramCfg.cardinality = cfg.cardinality;\r\n\r\n                        if (cfg.number && !paramCfg.number)\r\n                            paramCfg.number = cfg.number;\r\n\r\n                        if (cfg.useArticle !== undefined && paramCfg.useArticle === undefined)\r\n                            paramCfg.useArticle = cfg.useArticle;\r\n\r\n\r\n                        const number = parseInt(curName);\r\n\r\n                        if (!isNaN(number)) {\r\n                            if (cfg.params && number < cfg.params.length) {\r\n                                const param = cfg.params[number];\r\n                                result += this.getValue(param, paramCfg);\r\n                            }\r\n                        }\r\n                        else\r\n                            result += this.get(curName)(paramCfg);\r\n\r\n                        if (paramCfg.gender)\r\n                            cfg.gender = paramCfg.gender;\r\n\r\n                        state = 0;\r\n                        break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    adverb(advCfg: IAdverbConfig): IDynamicString {\r\n        return this.format(cfg => {\r\n\r\n            return cfg && cfg.gender == WordGender.Female ? advCfg.female : advCfg.male;\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private appendArticle(article: string, name: string): string {\r\n        let result = article;\r\n        if (result.charAt(result.length - 1) != \"'\")\r\n            result += \" \";\r\n        return result + name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    adjective(adjCfg: IAdjectiveConfig): IDynamicString {\r\n        return this.format(cfg => {\r\n\r\n            const gender = cfg && cfg.gender == WordGender.Female ? adjCfg.female : adjCfg.male;\r\n\r\n            const fullName = cfg && (cfg.number == WordNumber.Plural || cfg.cardinality > 1) ? gender.plural : gender.singular;\r\n\r\n            if (cfg && cfg.useArticle)\r\n                return this.appendArticle(fullName.detArticle, fullName.name);\r\n\r\n            if (cfg && cfg.useArticleInd)\r\n                return this.appendArticle(fullName.undetArticle, fullName.name);\r\n\r\n            return fullName.name;\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    noun(nameCfg: INameConfig): IDynamicString {\r\n        return this.format(cfg => {\r\n\r\n            if (!cfg)\r\n                cfg = {};\r\n\r\n            if (nameCfg.gender)\r\n                cfg.gender = nameCfg.gender;\r\n\r\n            const fullName = (cfg.number == WordNumber.Plural || cfg.cardinality > 1) ? nameCfg.plural : nameCfg.singular;\r\n\r\n            if (cfg && cfg.useArticle)\r\n                return this.appendArticle(fullName.detArticle, fullName.name);\r\n\r\n            if (cfg && cfg.useArticleInd)\r\n                return this.appendArticle(fullName.undetArticle, fullName.name);\r\n\r\n            return fullName.name;\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    map(selector: (table: IStringTable) => IDynamicString): IDynamicString {\r\n        return cfg => selector(Strings)(cfg);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    simple(value: string): IDynamicString {\r\n        return this.format(() => value);\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport var DynamicString = new DynamicStringManager();\r\n\r\nexport function $string(name: string): IDynamicString {\r\n    return DynamicString.get(name);\r\n}\r\n","﻿\r\nexport function delayAsync(milliseconds: number): Promise<void> {\r\n\r\n    return new Promise(res => setTimeout(res, milliseconds));\r\n};","﻿import { IOperation } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\nimport { Uri } from \"../../Core/Helpers/Uri\";\r\nimport { linq } from \"../../Core/Linq\";\r\n\r\n\r\nexport interface ILoader {\r\n\r\n    isLoaded(): boolean;\r\n\r\n    loadAsync(operation?: IOperation): Promise<boolean>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ScriptLoader implements ILoader {\r\n\r\n    constructor(src: string) {\r\n\r\n        this.src = Uri.absolute(src.replace(\"~/\", \"./\"));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isLoaded(): boolean {\r\n\r\n        if (this.src.substr(this.src.length - 3) == \".ts\")\r\n            return true;\r\n        return linq(document.scripts).any(a => (a as HTMLScriptElement).src.toLowerCase().startsWith(this.src.toLowerCase()));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadAsync(operation?: IOperation): Promise<boolean> {\r\n\r\n        if (this.isLoaded())\r\n            return Promise.resolve(true);\r\n\r\n        return new Promise<boolean>((resolve, reject) => {\r\n            const curOperation = Services.operation.begin({ parentOperation: operation, message: \"Loading script \" + this.src });\r\n\r\n            const scriptNode = document.createElement(\"script\");\r\n\r\n            scriptNode.onload = () => {\r\n                curOperation.end();\r\n                resolve(true);\r\n            }\r\n\r\n            scriptNode.onerror = () => {\r\n                curOperation.end();\r\n                resolve(false);\r\n            }\r\n\r\n            scriptNode.type = \"text/javascript\";\r\n            scriptNode.src = this.src;\r\n\r\n            document.body.appendChild(scriptNode);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    src: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class StyleLoader implements ILoader {\r\n\r\n    constructor(src: string) {\r\n        this.src = Uri.absolute(src.replace(\"~/\", \"./\"));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isLoaded(): boolean {\r\n\r\n        return linq(document.styleSheets).any(a => a.href && a.href.toLowerCase().startsWith(this.src.toLowerCase()));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadAsync(operation?: IOperation): Promise<boolean> {\r\n\r\n        if (this.isLoaded())\r\n            return Promise.resolve(true);\r\n\r\n        return new Promise<boolean>((resolve, reject) => {\r\n            const curOperation = Services.operation.begin({ parentOperation: operation, message: \"Loading style \" + this.src });\r\n\r\n            const linkNode = document.createElement(\"link\");\r\n\r\n            linkNode.onload = () => {\r\n                curOperation.end();\r\n                resolve(true);\r\n            }\r\n\r\n            linkNode.onerror = () => {\r\n                curOperation.end();\r\n                resolve(false);\r\n            }\r\n\r\n            linkNode.rel = \"stylesheet\";\r\n            linkNode.href = this.src;\r\n\r\n            document.body.appendChild(linkNode);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    src: string;\r\n}","import { IOperation } from \"../../Core/Abstraction/IOperation\";\r\nimport { App, Services } from \"../../Core/Global\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { Http } from \"../../Core/Helpers/Http\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { IPage } from \"../Abstraction/IPage\";\r\nimport { IPageInfo, IPageManager } from \"../Abstraction/IPageManager\";\r\nimport { ILoader, ScriptLoader, StyleLoader } from \"../Helpers/Loaders\";\r\n\r\ninterface IClientPage {\r\n\r\n    scripts?: string[];\r\n\r\n    styles?: string[];\r\n\r\n    action?: string;\r\n\r\n    isLoded?: boolean;\r\n\r\n    url?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAppInclude {\r\n\r\n    scripts: string[];\r\n\r\n    styles: string[];\r\n\r\n    components: string[];\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAppComponent {\r\n    include: IAppInclude;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAppPage extends IAppComponent {\r\n\r\n    url: string;\r\n\r\n    action: string;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IAppStructure {\r\n\r\n    pages: { [name: string]: IAppPage };\r\n\r\n    components: { [name: string]: IAppComponent };\r\n\r\n    templates?: { [name: string]: string };\r\n\r\n    include?: [];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class DynamicPageManager implements IPageManager {\r\n\r\n    private _struture: IAppStructure;\r\n\r\n    /****************************************/\r\n\r\n    async createPageAsync(pageInfo: IPageInfo): Promise<IPage> {\r\n\r\n        const curOperation = Services.operation.begin({ message: \"Loading page '\" + pageInfo.name + \"'...\" });\r\n\r\n        const clientPage = await this.getClientPageAsync(pageInfo.name, curOperation);\r\n\r\n        if (!clientPage.isLoded)\r\n            await this.loadClientPageAsync(clientPage, curOperation);\r\n\r\n        const result = eval(clientPage.action);\r\n\r\n\r\n        let page: IPage;\r\n\r\n        if (result instanceof Promise)\r\n            page = await <Promise<IPage>>result;\r\n\r\n        if (page != null)\r\n            page.url = Format.replaceArgs(App.baseUrl + clientPage.url, pageInfo.args);\r\n\r\n        page.args = pageInfo.args;\r\n\r\n        curOperation.end();\r\n\r\n        return page;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadComponentsAsync(pageName: string) {\r\n\r\n        const curOperation = Services.operation.begin({ message: \"Loading page '\" + pageName + \"'...\" });\r\n\r\n        const clientPage = await this.getClientPageAsync(pageName, curOperation);\r\n\r\n        if (clientPage && !clientPage.isLoded)\r\n            await this.loadClientPageAsync(clientPage, curOperation);\r\n\r\n        curOperation.end();\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    private async include(src: string) {\r\n        const curStruct = await Http.getJsonAsync<IAppStructure>(src);\r\n\r\n        if (curStruct) {\r\n\r\n            if (curStruct.include) {\r\n                for (const file of curStruct.include)\r\n                    await this.include(file);\r\n            }\r\n\r\n            if (curStruct.components) {\r\n                for (const key in curStruct.components)\r\n                    this._struture.components[key] = curStruct.components[key];\r\n            }\r\n\r\n            if (curStruct.pages) {\r\n                for (const key in curStruct.pages)\r\n                    this._struture.pages[key] = curStruct.pages[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    private async loadAppStructureAsync(operation?: IOperation): Promise<void> {\r\n\r\n        if (!this._struture) {\r\n            this._struture = {\r\n                components: {},\r\n                pages: {},\r\n            };\r\n            await this.include(\"~/app.json\");\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private async loadClientPageAsync(clientPage: IClientPage, operation?: IOperation): Promise<void> {\r\n\r\n        const loaders: ILoader[] = [];\r\n\r\n        clientPage.isLoded = true;\r\n\r\n        if (clientPage.scripts)\r\n            clientPage.scripts.forEach(a => loaders.push(new ScriptLoader(a)));\r\n\r\n        if (clientPage.styles)\r\n            clientPage.styles.forEach(a => loaders.push(new StyleLoader(a)));\r\n\r\n        await Promise.all(linq(loaders).select(a => a.loadAsync(operation)).toArray());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private async getClientPageAsync(name: string, operation?: IOperation): Promise<IClientPage> {\r\n\r\n        await this.loadAppStructureAsync(operation);\r\n\r\n        const result: IClientPage = {};\r\n\r\n        const pageInfo = this._struture.pages[name];\r\n\r\n        result.styles = [];\r\n        result.scripts = [];\r\n        result.action = pageInfo.action;\r\n        result.url = pageInfo.url;\r\n\r\n        this.includeClientPage(result, pageInfo.include);\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private includeClientPage(clientPage: IClientPage, include: IAppInclude) {\r\n\r\n        if (!include)\r\n            return;\r\n\r\n        if (include.components)\r\n            include.components.forEach(a => this.includeClientPage(clientPage, this._struture.components[a].include));\r\n\r\n        if (include.styles)\r\n            include.styles.forEach(a => {\r\n                if (clientPage.styles.indexOf(a) == -1)\r\n                    clientPage.styles.push(a);\r\n            });\r\n\r\n        if (include.scripts)\r\n            include.scripts.forEach(a => {\r\n                if (clientPage.scripts.indexOf(a) == -1)\r\n                    clientPage.scripts.push(a);\r\n            });\r\n    }\r\n}","﻿interface KnockoutBindingHandlers {\r\n    attach: KnockoutBindingHandler;\r\n}\r\n\r\ntype AttachFunction = (element: HTMLElement) => void;\r\n\r\nif (window[\"ko\"]) {\r\n\r\n    ko.bindingHandlers.attach = {\r\n        init: (element, valueAccessor, allBindings, viewModel) => {\r\n\r\n            let func = <AttachFunction|boolean>ko.unwrap(valueAccessor());\r\n\r\n            if (func === true || func == undefined)\r\n                func = <AttachFunction>viewModel[\"attachNode\"];\r\n\r\n            if (typeof func != \"function\")\r\n                throw \"Supplied argument is not a function\";\r\n\r\n            setTimeout(() =>\r\n                (<AttachFunction>func).call(viewModel, element));\r\n        }\r\n    }\r\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__2370__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1431__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4396__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","﻿import { StringTable } from \"../Core/StringTable\";\r\nimport { DynamicString } from \"../Core/Types/DynamicString\";\r\n\r\nStringTable.add({\r\n\r\n    \"msg-upgrading\": \"aggiornamento alla nuova versione\",\r\n\r\n    \"confirm\": \"conferma\",\r\n\r\n    \"yes\": \"si\",\r\n\r\n    \"no\": \"no\",\r\n\r\n    \"close\": \"chiudi\",\r\n\r\n    \"day-label\": \"[Giorno]\",\r\n\r\n    \"month-label\": \"[Mese]\",\r\n\r\n    \"year-label\": \"[Anno]\",\r\n\r\n    \"msg-specify-value\": DynamicString.complex(\"specificare un valore per '{0}'\"),\r\n\r\n    \"msg-insert-greater-than\": DynamicString.complex(\"inserire un valore maggiore o uguale a {0}\"),\r\n\r\n    \"msg-invalid-email\": \"email non valida\",\r\n\r\n    \"msg-insert-less-than\": DynamicString.complex(\"inserire un valore minore o uguale a {0}\"),\r\n\r\n}, { language: \"IT\" });","﻿declare global {\r\n    export interface IAndroidInterface {\r\n    }\r\n\r\n    export const android: IAndroidInterface;\r\n}\r\n\r\nexport function isAndroidApp() {\r\n    return \"android\" in window;\r\n}\r\n","﻿import { LocalString } from \"../Types/DynamicString\";\r\n\r\nexport enum OperationType {\r\n    Global,\r\n    Local\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IOperationProgress {\r\n\r\n    message?: LocalString;\r\n\r\n    totCount?: number;\r\n\r\n    current?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IOperation {\r\n\r\n    end(): void;\r\n\r\n    progress: IOperationProgress;\r\n\r\n    parentOperation: IOperation;\r\n\r\n    type: OperationType;\r\n\r\n    //subOperations: WebApp.IList<IOperation>;\r\n\r\n    addSubOperation(operation: IOperation);\r\n\r\n    removeSubOperation(operation: IOperation);\r\n\r\n    message: LocalString;\r\n}","﻿import { Services } from \"../Global\";\r\nimport { LocalString } from \"../Types/DynamicString\";\r\nimport { AppEvent } from \"../Types/Event\";\r\nimport { IOperation, IOperationProgress, OperationType } from \"./IOperation\";\r\n\r\ndeclare global {\r\n\r\n    export interface IServices {\r\n\r\n        operation: IOperationManager;\r\n    }\r\n}\r\n\r\n\r\nexport interface IOperationConfig extends IOperationProgress {\r\n\r\n    type?: OperationType;\r\n\r\n    parentOperation?: IOperation;\r\n\r\n    showProgress?: boolean;\r\n}\r\n\r\nexport interface IOperationManager {\r\n\r\n    progress(progress: IOperationProgress | LocalString);\r\n\r\n    begin(message: LocalString | IOperationConfig): IOperation;\r\n\r\n    end(operation: IOperation);\r\n\r\n    readonly onBegin: AppEvent<IOperation>;\r\n\r\n    readonly onEnd: AppEvent<IOperation>;\r\n\r\n    readonly onProgress: AppEvent<{ operation: IOperation, progress: IOperationProgress }>;\r\n\r\n    readonly current: IOperation;\r\n\r\n    readonly operations: Iterable<IOperation>;\r\n}\r\n\r\n\r\nexport async function execAsync<T>(action: (operation? : IOperation) => Promise<T>, operation: string | IOperationConfig = \"Executing\")  {\r\n    const op = Services.operation.begin(operation);\r\n    try {\r\n        return await action(op);\r\n    }\r\n    catch (ex) {\r\n        Services.application.handleError(action, ex);\r\n    }\r\n    finally {\r\n        op.end();\r\n    }\r\n}","﻿\r\nexport function apply<T>(item: T, block: (T) => void): T {\r\n    block(item);\r\n    return item;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function injectProxy<T>(proxy: {}, propName: string, value: T): T {\r\n    proxy[propName] = value;\r\n    return <T>proxy[propName];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function safeCall<T>(block: () => T, errorHandler?: (e: string) => T): T {\r\n    try {\r\n        return block();\r\n    }\r\n    catch (e) {\r\n        if (errorHandler)\r\n            return errorHandler(e);\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nexport async function safeCallAsync<T>(block: () => Promise<T>, errorHandler?: (e: string) => T): Promise<T> {\r\n    try {\r\n        return await block();\r\n    }\r\n    catch (e) {\r\n        if (errorHandler)\r\n            return Promise.resolve(errorHandler(e));\r\n    }\r\n}","﻿declare global {\r\n\r\n    export interface IServices {\r\n\r\n        dbStorage: DbStorage;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport class DbStorage {\r\n\r\n    private _database: IDBDatabase;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async openAsync(name: string) {\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            const request = indexedDB.open(name, 2);\r\n\r\n            request.onerror = ev => rej();\r\n\r\n            request.onsuccess = ev => {\r\n\r\n                this._database = request.result;\r\n                res(true);\r\n            }\r\n\r\n            request.onupgradeneeded = ev => {\r\n\r\n                if (!request.result.objectStoreNames.contains(\"object\"))\r\n                    request.result.createObjectStore(\"object\");\r\n                res(true);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected openReadWrite() {\r\n        return this._database.transaction(\"object\", \"readwrite\").objectStore(\"object\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected openRead() {\r\n        return this._database.transaction(\"object\", \"readonly\").objectStore(\"object\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setItem(key: string, value: any): Promise<IDBValidKey> {\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            const request = this.openReadWrite().put(JSON.stringify(value), key);\r\n            request.onerror = ev => rej();\r\n            request.onsuccess = ev => res(request.result);\r\n        });\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    getItem<TResult>(key: string): Promise<TResult> {\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            const request = this.openRead().get(key);\r\n            request.onerror = ev => rej();\r\n            request.onsuccess = ev => {\r\n                res(!request.result ? null : <TResult>JSON.parse(request.result));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    removeItem(key: string): Promise<void> {\r\n\r\n        return new Promise((res, rej) => {\r\n            const request = this.openReadWrite().delete(key);\r\n            request.onerror = ev => rej();\r\n            request.onsuccess = ev => res();\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear(key: string): Promise<void> {\r\n\r\n        return new Promise((res, rej) => {\r\n            const request = this.openReadWrite().clear();\r\n            request.onerror = ev => rej();\r\n            request.onsuccess = ev => res();\r\n        });\r\n    }\r\n\r\n}","﻿declare global {\r\n    interface Crypto {\r\n        randomUUID(): string;\r\n    }\r\n}\r\n\r\nexport function randomString(length: number, chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"): string {\r\n\r\n    let result = \"\";\r\n\r\n    for (let i = 0; i < length; i++)\r\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n\r\n    return result;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isUpperCase(value: string): boolean {\r\n    return value.toUpperCase() === value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function repeatString(value: string, count: number): string {\r\n    let result = \"\";\r\n    for (let i = 0; i < count; i++)\r\n        result += value;\r\n    return result;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function padLeft(value: string, count: number, char: string): string {\r\n    if (value == null)\r\n        return;\r\n    if (value.length >= count)\r\n        return value;\r\n    return repeatString(char, count - value.length) + value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function padRight(value: string, count: number, char: string): string {\r\n    if (value == null)\r\n        return;\r\n    if (value.length >= count)\r\n        return value;\r\n    return value + repeatString(char, count - value.length);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function uuidv4(): string {\r\n    if (\"crypto\" in window && \"randomUUID\" in crypto)\r\n        return crypto.randomUUID();\r\n\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        const r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}","﻿import { Format } from \"../Helpers/Format\";\r\nimport { padLeft } from \"../Utils/StringUtils\";\r\n\r\nexport enum TimePart {\r\n    Milliseconds,\r\n    Seconds,\r\n    Minutes,\r\n    Hours,\r\n    Days\r\n}\r\n\r\nexport class TimeSpan {\r\n\r\n    constructor(ticks: number = 0) {\r\n        this.ticks = ticks;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get totalDays() {\r\n        return this.ticks / (1000 * 60 * 60 * 24);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get totalHours() {\r\n        return this.ticks / (1000 * 60 * 60);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get totalMinutes() {\r\n        return this.ticks / (1000 * 60);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get totalSeconds() {\r\n        return this.ticks / (1000);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get totalMilliseconds() {\r\n        return this.ticks;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get days() {\r\n        return Math.floor(this.ticks / (1000 * 60 * 60 * 24))\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get hours() {\r\n        return Math.floor(this.ticks / (1000 * 60 * 60)) % 24;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get minutes() {\r\n        return Math.floor(this.ticks / (1000 * 60)) % 60;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get seconds() {\r\n        return Math.floor(this.ticks / (1000)) % 60;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get milliseconds() {\r\n        return this.ticks % 1000;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    format(format: string): string {\r\n        return Format.replaceArgs(format, arg => TimeSpan.formatArgument(this, arg));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toString() {\r\n        return this.format(\"{hh}:{mm}:{ss}\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static zero() {\r\n        return new TimeSpan(0);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromMilliseconds(value: number) {\r\n        return new TimeSpan(value);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromSeconds(value: number) {\r\n        return new TimeSpan(value * 1000);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromMinutes(value: number) {\r\n        return new TimeSpan(value * 1000 * 60);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromHours(value: number) {\r\n        return new TimeSpan(value * 1000 * 60 * 60);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromDays(value: number) {\r\n        return new TimeSpan(value * 1000 * 60 * 60 * 24);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static create(days: number = 0, hours: number = 0, minutes: number = 0, seconds: number = 0, milliseconds: number = 0) {\r\n        return new TimeSpan(\r\n            (days * 1000 * 60 * 60 * 24) +\r\n            (hours * 1000 * 60 * 60) +\r\n            (minutes * 1000 * 60) +\r\n            (seconds * 1000) +\r\n            (milliseconds));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static formatArgument(value: TimeSpan, arg: string): string {\r\n        switch (arg) {\r\n\r\n            case \"d\":\r\n                return value.days.toString();\r\n            case \"dd\":\r\n                return padLeft(value.days.toString(), 2, \"0\");\r\n            case \"h\":\r\n                return value.hours.toString();\r\n            case \"hh\":\r\n                return padLeft(value.hours.toString(), 2, \"0\");\r\n            case \"m\":\r\n                return value.minutes.toString();\r\n            case \"mm\":\r\n                return padLeft(value.minutes.toString(), 2, \"0\");\r\n            case \"s\":\r\n                return value.seconds.toString();\r\n            case \"ss\":\r\n                return padLeft(value.seconds.toString(), 2, \"0\");\r\n            case \"f\":\r\n                return (value.milliseconds / 100).toString();\r\n            case \"ff\":\r\n                return (value.milliseconds / 10).toString();\r\n            case \"fff\":\r\n                return value.milliseconds.toString();\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    ticks: number;\r\n}    ","import { Format } from \"../Helpers/Format\";\r\nimport { LocalString } from \"../Types/DynamicString\";\r\nimport { TimeSpan } from \"../Types/TimeSpan\";\r\nimport { padLeft } from \"./StringUtils\";\r\n\r\nexport const WEEK_DAYS = [\"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\", \"Domenica\"];\r\nexport const MONTHS = [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"];\r\n\r\n/****************************************/\r\n\r\nexport function parseDate(value: Date | string): Date {\r\n\r\n    if (value instanceof Date)\r\n        return value;\r\n\r\n    return new Date(value);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function addDays(date: Date | string, value: number): Date {\r\n    return dateAdd(date, TimeSpan.fromDays(value));\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function dateAdd(date: Date | string, value: TimeSpan): Date {\r\n    date = parseDate(date);\r\n    return new Date(date.getTime() + value.ticks);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function dateDiff(date1: Date | string, date2: Date | string): TimeSpan {\r\n    return new TimeSpan(parseDate(date1).getTime() - parseDate(date2).getTime());\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function now(): Date {\r\n    return new Date();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isSameDay(dateA: Date | string, dateB: Date | string): boolean {\r\n    return truncateTime(dateA).getTime() == truncateTime(dateB).getTime();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function today(): Date {\r\n    return truncateTime(now());\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function truncateTime(date: Date|string): Date {\r\n    date = parseDate(date);\r\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function timeOfDay(date: Date | string): TimeSpan {\r\n    date = parseDate(date);\r\n    return new TimeSpan(date.getTime() - truncateTime(date).getTime());\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function formatDate(date: Date | string, format: LocalString): string {\r\n    date = parseDate(date);\r\n    return Format.replaceArgs(Format.text(format), arg => formatDateArgument(date, arg));\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function formatDateArgument(value: Date | string, arg: string): string {\r\n    value = parseDate(value);\r\n    switch (arg) {\r\n        case \"D\":\r\n            return value.getDate().toString();\r\n        case \"DD\":\r\n            return padLeft(value.getDate().toString(), 2, \"0\");\r\n        case \"W\":\r\n            return WEEK_DAYS[(value.getDay() + 6) % 7].substr(0, 3);\r\n        case \"WW\":\r\n            return WEEK_DAYS[(value.getDay() + 6) % 7];\r\n        case \"M\":\r\n            return value.getMonth().toString();\r\n        case \"MM\":\r\n            return padLeft((value.getMonth() + 1).toString(), 2, \"0\");\r\n        case \"MMM\":\r\n            return MONTHS[value.getMonth()].substr(0, 3);\r\n        case \"MMMM\":\r\n            return MONTHS[value.getMonth()];\r\n        case \"YY\":\r\n            return value.getFullYear().toString().substr(2);\r\n        case \"YYYY\":\r\n            return value.getFullYear().toString();\r\n        case \"h\":\r\n            return value.getHours().toString();\r\n        case \"hh\":\r\n            return padLeft(value.getHours().toString(), 2, \"0\");\r\n        case \"m\":\r\n            return value.getMinutes().toString();\r\n        case \"mm\":\r\n            return padLeft(value.getMinutes().toString(), 2, \"0\");\r\n        case \"s\":\r\n            return value.getSeconds().toString();\r\n        case \"ss\":\r\n            return padLeft(value.getSeconds().toString(), 2, \"0\");\r\n        case \"f\":\r\n            return (value.getMilliseconds() / 100).toString();\r\n        case \"ff\":\r\n            return (value.getMilliseconds() / 10).toString();\r\n        case \"fff\":\r\n            return value.getMilliseconds().toString();\r\n    }\r\n    return arg;\r\n}","import { ICacheEntry, ICacheManager } from \"../Abstraction/ICacheManager\";\r\nimport { now } from \"../Utils/DateUtils\";\r\n\r\nexport class LocalStorageCache implements ICacheManager {\r\n\r\n    read<T>(key: string): ICacheEntry<T> {\r\n\r\n        const entryJson = localStorage.getItem(\"cache:\" + key);\r\n\r\n        if (entryJson) {\r\n            const entry = <ICacheEntry<T>>JSON.parse(entryJson);\r\n            entry.readCount++;\r\n            entry.lastReadTime = now(); \r\n            localStorage.setItem(\"cache:\" + key, JSON.stringify(entry));\r\n            return entry;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    update<T>(key: string, value: T): ICacheEntry<T> {\r\n\r\n        let entry = this.read<T>(key);\r\n\r\n        if (!entry) {\r\n            entry = {\r\n                creationTime: now(),\r\n                key: key,\r\n                lastReadTime: null,\r\n                lastWriteTime: null,\r\n                value: value,\r\n                readCount: 0,\r\n                writeCount: 0\r\n            };\r\n        }\r\n        else {\r\n            entry.writeCount++;\r\n            entry.lastWriteTime = now();\r\n            entry.value = value;\r\n        }\r\n\r\n        localStorage.setItem(\"cache:\" + key, JSON.stringify(entry));\r\n\r\n        return entry;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove(key: string) {\r\n        localStorage.removeItem(\"cache:\" + key);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        for (let i = localStorage.length - 1; i >= 0; i--) {\r\n            const key = localStorage.key(i);\r\n            if (key.startsWith(\"cache:\"))\r\n                localStorage.removeItem(key);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    contains(key: string): boolean {\r\n\r\n        return localStorage.getItem(\"cache:\" + key) != null;\r\n    }\r\n\r\n}","﻿export class Exception extends Error {\r\n\r\n    constructor(message?: string, innerException?: Exception) {\r\n\r\n        super();\r\n\r\n        this.message = message;\r\n\r\n        this.innerException = innerException;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    innerException: Exception;\r\n}","import { IHttpClient, IHttpRequestConfig } from \"../Abstraction/IHttpClient\";\r\nimport { IOperation, OperationType } from \"../Abstraction/IOperation\";\r\nimport { Services } from \"../Global\";\r\nimport { Uri } from \"../Helpers/Uri\";\r\nimport { Exception } from \"../Types/Exception\";\r\n\r\nexport class HttpException extends Exception {\r\n\r\n    constructor(request: IHttpRequestConfig, status: number, innerException?: Exception) {\r\n        super(\"HTTP error, status code: \" + status, innerException);\r\n\r\n        this.request = request;\r\n    }\r\n\r\n    request: IHttpRequestConfig;\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nexport class XHRHttpClient implements IHttpClient {\r\n\r\n    onNewRequest(config: IHttpRequestConfig) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    requestAsync<T>(config: IHttpRequestConfig): Promise<T> {\r\n\r\n        this.onNewRequest(config);\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const xmlhttp = new XMLHttpRequest();\r\n\r\n            let curOperation: IOperation;\r\n\r\n            if (Services.operation) {\r\n                curOperation = Services.operation.begin({\r\n                    message: config.method + \" \" + config.url,\r\n                    type: OperationType.Local\r\n                });\r\n            }\r\n\r\n            xmlhttp.onreadystatechange = ev => {\r\n\r\n                if (xmlhttp.readyState == XMLHttpRequest.DONE) {\r\n\r\n                    if (curOperation)\r\n                        curOperation.end();\r\n\r\n                    if (xmlhttp.status == 200) {\r\n\r\n                        let data: any = xmlhttp.responseText;\r\n\r\n                        const isJson = config.responseType == \"application/json\";\r\n                        if (isJson)\r\n                            data = JSON.parse(data);\r\n\r\n                        resolve(data);\r\n                    }\r\n                    else\r\n                        reject(new HttpException(config, xmlhttp.status));\r\n                }\r\n            };\r\n\r\n            if (config.onProgress)\r\n                xmlhttp.upload.onprogress = ev => {\r\n                    const result = config.onProgress(ev);\r\n                    if (!result)\r\n                        xmlhttp.abort();\r\n                };\r\n\r\n            xmlhttp.open(config.method, Uri.absolute(config.url), true);\r\n\r\n            let contentType = config.dataType;\r\n            let data = config.data;\r\n\r\n            if (config.data) {\r\n\r\n                const isJson = contentType == \"application/json\" || typeof config.data == \"object\";\r\n                const isObj = contentType == \"application/octet-stream\"\r\n\r\n                if (isJson && !isObj) {\r\n                    contentType = \"application/json\";\r\n                    if (data && typeof config.data != \"string\")\r\n                        data = JSON.stringify(data)\r\n                }\r\n            }\r\n\r\n            if (contentType)\r\n                xmlhttp.setRequestHeader(\"Content-type\", contentType);\r\n\r\n            if (config.headers) {\r\n                for (const header in config.headers)\r\n                    xmlhttp.setRequestHeader(header, config.headers[header]);\r\n            }\r\n\r\n            xmlhttp.send(data);\r\n        });\r\n    }\r\n}","﻿import { IAnalytics } from \"../Abstraction/IAnalytics\";\r\n\r\ndeclare global {\r\n\r\n    function gtag(...args: any[]): void;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class GoogleAnalytics implements IAnalytics {\r\n\r\n    constructor(gaId?: string) {\r\n        this.gaId = gaId ?? window[\"__gaid\"];\r\n\r\n        if (!(\"gtag\" in window))\r\n            window[\"gtag\"] = () => { };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    pageView(uri: string): void {\r\n\r\n        gtag(\"config\", this.gaId, { page_path: uri });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    action(name: string, data?: string): void {\r\n\r\n        gtag(\"event\", name, {\r\n            event_category: 'Action',\r\n            event_label: data\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    gaId: string;\r\n}","import { IRepository } from \"../Abstraction/IRepository\";\r\n\r\ninterface ILocalDbRepositoryConfig<TObj, TKey extends IDBValidKey> {\r\n\r\n    dbName: string;\r\n\r\n    tableName: string;\r\n\r\n    getObjectId?: (obj: TObj) => TKey; \r\n}\r\n\r\n/****************************************/\r\n\r\nexport class LocalDbRrepositoy<TObj, TKey extends IDBValidKey, TFilter> implements IRepository<TObj, TKey, TFilter> {\r\n\r\n    protected _config: ILocalDbRepositoryConfig<TObj, TKey>\r\n    protected _database: IDBDatabase;\r\n\r\n    constructor(config: ILocalDbRepositoryConfig<TObj, TKey>) {\r\n        this._config = config;\r\n\r\n        if (config.getObjectId)\r\n            this.getObjectId = config.getObjectId;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getObjectId(obj: TObj): TKey {\r\n\r\n        return obj[\"id\"] as TKey;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected openOrCreateAsync() {\r\n\r\n        if (this._database)\r\n            return;\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            const request = indexedDB.open(this._config.dbName, 2);\r\n\r\n            request.onerror = ev => rej();\r\n\r\n            request.onsuccess = ev => {\r\n\r\n                this._database = request.result;\r\n                res(true);\r\n            }\r\n\r\n            request.onupgradeneeded = ev => {\r\n\r\n                if (!request.result.objectStoreNames.contains(this._config.tableName))\r\n                    request.result.createObjectStore(this._config.tableName);\r\n                //this._database = request.result;\r\n                //res(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async beginTransactionAsync(readwrite = true) {\r\n        await this.openOrCreateAsync();\r\n        return this._database.transaction(this._config.tableName, readwrite ? \"readwrite\" : \"readonly\").objectStore(this._config.tableName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async requestAsync<T>(action: (store: IDBObjectStore) => IDBRequest<T>, readwrite = true): Promise<T> {\r\n\r\n        const store = await this.beginTransactionAsync(readwrite);\r\n\r\n        return new Promise((res, rej) => {\r\n            const request = action(store);\r\n            request.onerror = ev => rej();\r\n            request.onsuccess = ev => res(request.result);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async listAsync(filter?: TFilter): Promise<Iterable<TObj>> {\r\n\r\n        const items = await this.requestAsync(store => store.getAll());\r\n        return items as TObj[];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getByIdAsync(id: TKey): Promise<TObj> {\r\n\r\n        const item = await this.requestAsync(store => store.get(id));\r\n        return item as TObj;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async deleteByIdAsync(id: TKey): Promise<boolean> {\r\n        await this.requestAsync(store => store.delete(id));\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async addAsync(obj: TObj): Promise<TKey> {\r\n\r\n        const key = await this.requestAsync(store => store.add(obj, this.getObjectId(obj)));\r\n        return key as TKey;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async updateAsync(obj: Partial<TObj>, id: TKey): Promise<boolean> {\r\n\r\n        const curItem = await this.getByIdAsync(id);\r\n        Object.assign(curItem, obj);\r\n        await this.requestAsync(store => store.put(obj, id));\r\n        return true;\r\n    }\r\n}","export interface IAppEventHandler<T> {\r\n    (sender: any, data: T);\r\n}\r\n\r\nexport interface IAppEvent<T> {\r\n\r\n    add<THandler extends IAppEventHandler<T>>(handler: THandler): THandler;\r\n\r\n    remove(handler: IAppEventHandler<T>): void;\r\n}\r\n\r\nexport class AppEvent<T> implements IAppEvent<T> {\r\n\r\n    private _handlers: IAppEventHandler<T>[];\r\n    private readonly _awaitHandler;\r\n\r\n    constructor(awaitHandler = false) {\r\n        if (awaitHandler)\r\n            this._awaitHandler = true;\r\n    }\r\n\r\n    add<THandler extends IAppEventHandler<T>>(handler: THandler): THandler {\r\n\r\n        if (!this._handlers)\r\n            this._handlers = [];\r\n\r\n        if (this._handlers.indexOf(handler) == -1)\r\n            this._handlers.push(handler);\r\n\r\n        return handler;\r\n    }\r\n\r\n\r\n    remove(handler: IAppEventHandler<T>): void {\r\n\r\n        if (this._handlers) {\r\n            const index = this._handlers.indexOf(handler);\r\n            if (index != -1)\r\n                this._handlers.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    async raise(sender: any, data?: T) {\r\n\r\n        if (this._handlers) {\r\n            for (const handler of this._handlers) {\r\n                const result = handler(sender, data);\r\n                if (this._awaitHandler && result instanceof Promise)\r\n                    await result;\r\n            }\r\n        }\r\n    }\r\n\r\n    get hasHandlers() { return this._handlers?.length > 0 };\r\n}\r\n\r\nexport function event<T>(awaitHandler = false): AppEvent<T> {\r\n\r\n    return new AppEvent<T>(awaitHandler);\r\n}","﻿import { TimeSpan } from \"./TimeSpan\";\r\n\r\nexport class Signal {\r\n\r\n    private _waitHandlers: ((res: boolean) => void)[] = [];\r\n    private _isSet: boolean;\r\n    private _autoReset: boolean;\r\n\r\n    /****************************************/\r\n\r\n    constructor(isSet: boolean = false, autoReset = true) {\r\n        this._isSet = isSet;\r\n        this._autoReset = autoReset;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set() {\r\n        this._isSet = true;\r\n        for (let i = this._waitHandlers.length - 1; i >= 0; i--)\r\n            this._waitHandlers[i](true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset() {\r\n        this._isSet = false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    waitFor(timeout?: TimeSpan): Promise<boolean> {\r\n\r\n        if (this._isSet) {\r\n            if (this._autoReset && this._waitHandlers.length == 0)\r\n                this.reset();\r\n            return Promise.resolve(true);\r\n        }\r\n\r\n        return new Promise((res) => {\r\n\r\n            const handler = isSuccess => {\r\n                res(isSuccess);\r\n                const index = this._waitHandlers.indexOf(handler);\r\n                if (index != -1)\r\n                    this._waitHandlers.splice(index, 1);\r\n                if (this._waitHandlers.length == 0 && this._autoReset)\r\n                    this.reset();\r\n            };\r\n\r\n            if (timeout) {\r\n                setTimeout(() => {\r\n                    const index = this._waitHandlers.indexOf(handler);\r\n                    if (index != -1) {\r\n                        this._waitHandlers.splice(index, 1);\r\n                        res(false);\r\n                    }\r\n                }, timeout.totalMilliseconds);\r\n            }\r\n\r\n\r\n            this._waitHandlers.push(handler);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get isSet() {\r\n        return this._isSet;\r\n    }\r\n}","import { isCloneable, isFunction, isObject, isString } from \"../Helpers/TypeCheck\";\r\nimport { Type } from \"../Types/Types\";\r\nimport { equalsArray } from \"./ArrayUtils\";\r\n\r\nexport function isEmpty(value: any): boolean {\r\n    return value === undefined || value === null || (Array.isArray(value) && value.length == 0);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function equals(valueA: any, valueB: any): boolean {\r\n\r\n    if (Array.isArray(valueA) || Array.isArray(valueB))\r\n        return equalsArray(valueA, valueB);\r\n\r\n    return valueA == valueB;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function createInstance<TObj>(typeName: string, ...args: any[]): TObj {\r\n\r\n    const parts = typeName.split(\".\");\r\n\r\n    let curType: any = window;\r\n    for (const part of parts)\r\n        curType = curType[part];\r\n\r\n    return new curType(...args);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function hasProp(obj: object, propName: string): boolean {\r\n    return (propName in obj);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isInstanceOf<T>(obj: any, type: Type<T>): obj is T {\r\n\r\n    if (!obj)\r\n        return;\r\n    let curType = getType(obj);\r\n    while (curType != null) {\r\n        if (curType == type)\r\n            return true;\r\n        curType = getBaseType(curType);\r\n    }\r\n    return false;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getOrCreateProperty<T>(obj: object, propName: string, value: T): T {\r\n    const desc = Object.getOwnPropertyDescriptor(obj, propName);\r\n    if (!desc) {\r\n        createProperty(obj, propName, value);\r\n        return value;\r\n    }\r\n    return get(obj, propName);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function createProperty(obj: object, propName: string, value: any) {\r\n    if (propName.substr(0, 1) == \"@\") {\r\n        Object.defineProperty(obj, propName, {\r\n            writable: true,\r\n            enumerable: false,\r\n            value: value\r\n        });\r\n    }\r\n    else {\r\n        Object.defineProperty(obj, propName, {\r\n            value: value\r\n        });\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function get<T>(obj: object, propName: string, defValue?: T): T {\r\n\r\n    if (!obj)\r\n        return defValue;\r\n    const value = obj[propName];\r\n    if (value === undefined || value === null)\r\n        return defValue;\r\n    return value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function set(obj: object, propName: string, value: any) {\r\n\r\n    if (propName.substr(0, 1) == \"@\") {\r\n        const desc = Object.getOwnPropertyDescriptor(obj, propName);\r\n        if (!desc)\r\n            createProperty(obj, propName, value);\r\n        else\r\n            obj[propName] = value;\r\n    }\r\n    else\r\n        obj[propName] = value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function setTypeName(obj: object | Type<any>, name: string) {\r\n\r\n    if (isObject(obj))\r\n        set(obj, \"@typeName\", name);\r\n    else\r\n        set(Object.getPrototypeOf(obj), \"@typeName\", name);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getTypeName(obj: any) {\r\n\r\n    if (!obj)\r\n        return undefined;\r\n\r\n    let name = obj[\"@typeName\"];\r\n\r\n    if (!name) {\r\n        name = typeof obj;\r\n\r\n        if (name == \"function\")\r\n            return getFunctionName(obj);\r\n\r\n        if (name == \"object\") {\r\n\r\n            const constFunc = obj.constructor;\r\n            if (constFunc)\r\n                return getTypeName(constFunc);\r\n        }\r\n    }\r\n    return name;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getBaseType(ctr: Type<any>): Type<any>;\r\n\r\nexport function getBaseType(obj: object): Type<any>;\r\n\r\nexport function getBaseType(objOrFun: object | Type<any>): Type<any> {\r\n\r\n    let proto: any;\r\n\r\n    if (isFunction(objOrFun))\r\n        proto = objOrFun.prototype;\r\n    else\r\n        proto = Object.getPrototypeOf(objOrFun);\r\n\r\n    return Object.getPrototypeOf(proto).constructor;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getType<TObj>(obj: TObj): Type<TObj>\r\n\r\nexport function getType<TObj>(typeName: string): Type<TObj>\r\n\r\nexport function getType<TObj>(typeOrName: string | object): Type<TObj> {\r\n\r\n    if (isString(typeOrName)) {\r\n        const parts = typeOrName.split(\".\");\r\n        let curObj = self;\r\n        parts.forEach(part => {\r\n            curObj = curObj[part];\r\n            if (!curObj)\r\n                return null;\r\n        });\r\n        return <any>curObj;\r\n    }\r\n\r\n    return (typeOrName as object).constructor as Type<TObj>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getFunctionName(func: Function): string {\r\n\r\n    let curName = func.name;\r\n    if (!curName) {\r\n        const funcNameRegex = /function\\s([^(]{1,})\\(/;\r\n        const results = (funcNameRegex).exec(func.toString());\r\n        curName = (results && results.length > 1) ? results[1].trim() : \"\";\r\n    }\r\n    return curName;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function clone<TObj>(obj: TObj): TObj {\r\n\r\n    if (isCloneable(obj))\r\n        return obj.clone();\r\n\r\n    return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function registerType(type: Function, name: string) {\r\n    set(type, \"@typeName\", name);\r\n}","import { equals } from \"./ObjectUtils\";\r\nimport { delayAsync } from \"./PromiseUtils\";\r\n\r\nexport function equalsArray<T>(a: T[], b: T[]): boolean {\r\n\r\n    if (!Array.isArray(a) || !Array.isArray(b))\r\n        return false;\r\n\r\n    if (a.length != b.length)\r\n        return false;\r\n\r\n    for (let i = 0; i < a.length; i++) {\r\n        if (!equals(a[i], b[i]))\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n \r\n/****************************************/\r\n\r\nexport async function forEachAsync<T>(items: T[], chunkSize: number, action: (item: T, index: number) => void) {\r\n\r\n    let index = 0;\r\n\r\n    for (const item of items) {\r\n\r\n        action(item, index);\r\n        if (index % chunkSize == 0)\r\n            await delayAsync(0);\r\n        index++;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function mergeArrays<T>(...args: T[][]): T[] {\r\n\r\n    const result: T[] = [];\r\n    for (const item of args) {\r\n        if (!item)\r\n            continue;\r\n        result.push(...item);\r\n    }\r\n    return result;\r\n}","import { linq, Linq } from \"../Linq\";\r\nimport { randomString } from \"./StringUtils\";\r\n\r\nclass LinqNode {\r\n\r\n    constructor(node: Node) {\r\n        this.node = node;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get childNodes(): Linq<LinqNode> {\r\n        return linq(this.node.childNodes).select(a => new LinqNode(a));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    descendsFrom(target: Node): boolean {\r\n        let curItem = this.node;\r\n        while (curItem != null) {\r\n            if (curItem == target)\r\n                return true;\r\n            curItem = curItem.parentNode;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hasClass(className: string): boolean {\r\n        if (\"classList\" in this.node)\r\n            return (this.node as HTMLElement).classList.contains(className);\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get discendants(): Linq<LinqNode> {\r\n\r\n        function* iterator(node: Node) {\r\n\r\n            for (const child of this.node.childNodes) {\r\n                yield new LinqNode(child);\r\n                for (const innerChild of iterator(child))\r\n                    yield innerChild;\r\n            };\r\n        }\r\n\r\n        return linq(iterator(this.node));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get parentNodesOrSelf(): Linq<LinqNode> {\r\n\r\n        function* iterator(node: Node) {\r\n\r\n            let curItem = node;\r\n            while (curItem != null) {\r\n                yield new LinqNode(curItem);\r\n                curItem = curItem.parentNode;\r\n            }\r\n        }\r\n\r\n        return linq(iterator(this.node));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get parentNodes(): Linq<LinqNode> {\r\n        return this.parentNodesOrSelf.skip(1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get name(): string {\r\n        return this.node.nodeName;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    node: Node;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function parentOfClass(src: HTMLElement, className: string): HTMLElement {\r\n    return <HTMLElement>linqNode(src).parentNodes.where(a => a.hasClass(className)).select(a => a.node).first();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function linqNode(src: Node): LinqNode {\r\n    return new LinqNode(src);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isParentOrSelf(element: HTMLElement, parent: HTMLElement): boolean {\r\n\r\n    let curElement = element;\r\n\r\n    while (curElement) {\r\n        if (curElement == parent)\r\n            return true;\r\n        curElement = curElement.parentElement;\r\n    }\r\n    return false;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function generateNodeId(base: string = \"id_\") {\r\n    while (true) {\r\n        const curId = base + randomString(8);\r\n        if (!document.getElementById(curId))\r\n            return curId;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function removeClass(element: Element, className: string) {\r\n    if (element.classList.contains(className))\r\n        element.classList.remove(className);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function addClass(element: Element, className: string) {\r\n    if (!element.classList.contains(className))\r\n        element.classList.add(className);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isTouchDevice() {\r\n\r\n    return (\"ontouchstart\" in window) ||\r\n            (navigator.maxTouchPoints > 0);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isSmallDevice(): boolean {\r\n    return window.innerWidth < 610;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport async function copyText(value: string) {\r\n    if (navigator[\"clipboard\"])\r\n        await navigator.clipboard.writeText(value);\r\n    else {\r\n        const input = document.createElement(\"textarea\");\r\n        document.body.appendChild(input);\r\n        input.value = value\r\n        input.select();\r\n        //input.setSelectionRange(0, input.value.length);\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(input);\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function getScrollParent(element: HTMLElement): HTMLElement {\r\n\r\n    if (!element)\r\n        return null;\r\n\r\n    if (element.scrollHeight > element.clientHeight)\r\n        return element;\r\n\r\n    return getScrollParent(element.parentElement);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isScrolledIntoView(element: HTMLElement): boolean {\r\n\r\n    const scrollParent = getScrollParent(element);\r\n    if (!scrollParent)\r\n        return true;\r\n\r\n    const scrollTop = scrollParent.scrollTop;\r\n    const scrollBottom = scrollTop + scrollParent.clientHeight;\r\n\r\n    const elemTop = element.offsetTop;\r\n    const elemBottom = element.clientHeight + elemTop;\r\n\r\n    return elemTop < scrollBottom && elemBottom > scrollTop;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function centerElement(element: HTMLElement, always = true): number {\r\n\r\n    const topOfPage = document.documentElement.scrollTop;\r\n    const heightOfPage = window.innerHeight;\r\n\r\n    let elY = 0;\r\n    let elH = 0;\r\n\r\n    for (let p = element; p && p != document.body; p = <HTMLElement>p.offsetParent)\r\n        elY += p.offsetTop;\r\n\r\n    elH = element.offsetHeight;\r\n\r\n    if (always || elY + elH > topOfPage + heightOfPage || elY < topOfPage)\r\n        document.documentElement.scrollTop = Math.max(0, elY - (heightOfPage - elH) / 2);\r\n\r\n    return elY - document.documentElement.scrollTop;\r\n\r\n}","﻿import { IDictionary } from \"../Abstraction/IDictionary\";\r\n\r\nconst idMap: IDictionary<number> = {};\r\n\r\nexport function generateId(base: string): string {\r\n\r\n    if (!base)\r\n        base = \"item\";\r\n\r\n    if (idMap[base] === undefined)\r\n        idMap[base] = 0;\r\n\r\n    idMap[base]++;\r\n\r\n    if (idMap[base] == 1)\r\n        return base;\r\n\r\n    return base + idMap[base];\r\n}","﻿export function discretize(value: number, steps: number): number {\r\n    if (isNaNOrNull(value))\r\n        return undefined;\r\n    return Math.round(value * steps) / steps;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function round(value: number, digits: number): number {\r\n    if (isNaNOrNull(value))\r\n        return undefined;\r\n\r\n    return Math.round(value * Math.pow(10, digits)) / Math.pow(10, digits);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function exponential(value: number, weight: number = 2) {\r\n    if (isNaNOrNull(value))\r\n        return undefined;\r\n    return 1 - Math.pow(1 - value, weight);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isNaNOrNull(a: number): boolean {\r\n    return isNaN(a) || a === null;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function sumNull(a: number, b: number): number {\r\n\r\n    if (isNaNOrNull(a) && isNaNOrNull(b))\r\n        return undefined;\r\n\r\n    if (isNaNOrNull(b))\r\n        return a;\r\n\r\n    if (isNaNOrNull(a))\r\n        return b;\r\n\r\n    return a + b;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function divideNull(a: number, b: number): number {\r\n    if (isNaNOrNull(a) || isNaNOrNull(b) || b == 0)\r\n        return undefined;\r\n    return a / b;\r\n}","﻿\r\n\r\nexport function getPostionAsync(options?: PositionOptions) {\r\n    return new Promise<GeolocationCoordinates>((res, rej) => {\r\n        navigator.geolocation.getCurrentPosition(\r\n            pos => res(pos.coords),\r\n            err => rej(err.message),\r\n            options);\r\n    });\r\n}","﻿import { IObservableProperty, IPropertyChangedHandler } from \"./Abstraction/IObservableProperty\";\r\nimport { forEachRev } from \"./Binder\";\r\n\r\nexport class ComputedProperty<TValue = any> implements IObservableProperty<TValue> {\r\n\r\n    private _handlers: IPropertyChangedHandler<TValue>[];\r\n\r\n    /****************************************/\r\n\r\n    constructor(getter: () => TValue, name: string) {\r\n\r\n        this.get = getter;\r\n\r\n        this.name = name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(): TValue {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set(value: TValue) {\r\n\r\n        //throw \"Not supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyChanged() {\r\n\r\n        const value = this.get();\r\n\r\n        forEachRev(this._handlers, handler =>\r\n            handler(value, undefined));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    subscribe(handler: IPropertyChangedHandler<TValue>) {\r\n        if (!this._handlers)\r\n            this._handlers = [];\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index == -1)\r\n            this._handlers.push(handler);\r\n        return handler;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    unsubscribe(handler: IPropertyChangedHandler<TValue>) {\r\n        if (!this._handlers)\r\n            return;\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index != -1)\r\n            this._handlers.splice(index, 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly name: string;\r\n\r\n    readonly isReadOnly = true;\r\n}","﻿import { IObservableProperty, IPropertyChangedHandler } from \"./Abstraction/IObservableProperty\";\r\nimport { forEachRev } from \"./Binder\";\r\n\r\nexport class ObservableProperty<TValue = any> implements IObservableProperty<TValue> {\r\n\r\n    private _handlers: IPropertyChangedHandler<TValue>[];\r\n    private _descriptor: PropertyDescriptor;\r\n\r\n    /****************************************/\r\n\r\n    constructor(desc: PropertyDescriptor, name: string) {\r\n        this._descriptor = desc;\r\n        this.name = name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(): TValue {\r\n        if (this._descriptor.get)\r\n            return this._descriptor.get();\r\n        return this._descriptor.value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set(value: TValue) {\r\n\r\n        const oldValue = this.get();\r\n\r\n        if (this._descriptor.set)\r\n            this._descriptor.set(value);\r\n        else\r\n            this._descriptor.value = value;\r\n\r\n        if (oldValue != value && this._handlers) {\r\n            forEachRev(this._handlers, handler =>\r\n                handler(value, oldValue));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyChanged() {\r\n\r\n        const value = this.get();\r\n\r\n        forEachRev(this._handlers, handler =>\r\n            handler(value, undefined));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    subscribe(handler: IPropertyChangedHandler<TValue>) {\r\n        if (!this._handlers)\r\n            this._handlers = [];\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index == -1)\r\n            this._handlers.push(handler);\r\n        return handler;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    unsubscribe(handler: IPropertyChangedHandler<TValue>) {\r\n        if (!this._handlers)\r\n            return;\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index != -1)\r\n            this._handlers.splice(index, 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly name: string;\r\n}","﻿import { getOrCreateProperty, getTypeName, hasProp } from \"../Core/Utils/ObjectUtils\";\r\nimport { IBindable } from \"./Abstraction/IBindable\";\r\nimport { IObservableProperty } from \"./Abstraction/IObservableProperty\";\r\nimport { IProperty } from \"./Abstraction/IProperty\";\r\nimport { ComputedProperty } from \"./ComputedProperty\";\r\nimport { ObservableProperty } from \"./ObservableProperty\";\r\n\r\nexport type Bindable<TValue> = IProperty<TValue> | TValue;\r\n\r\n/****************************************/\r\n\r\nexport interface IValueConverter<TSrc, TDest> {\r\n\r\n    convertTo(src: TSrc): TDest;\r\n\r\n    convertFrom(dest: TDest): TSrc;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function newProp<TValue>(name: string, value?: TValue, onChanged?: (value: TValue, oldValue: TValue) => void) : IObservableProperty < TValue > {\r\n\r\n    const result = new ObservableProperty<TValue>({\r\n        value: value\r\n    }, name);\r\n\r\n    if (onChanged)\r\n        result.subscribe(onChanged);\r\n    return result;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport namespace Properties {\r\n\r\n    export function converter<TObj extends object, TKey extends keyof TObj, TValue extends TObj[TKey], TProp>(obj: TObj, propName: TKey, convert: (value: TValue) => TProp, convertBack?: (value: TProp) => TValue): IProperty<TProp> {\r\n\r\n        let conValue;\r\n\r\n        return {\r\n\r\n            get: () => {\r\n                if (conValue == undefined)\r\n                    conValue = convert(obj[propName] as TValue);\r\n                return conValue;\r\n            },\r\n\r\n            set: value => {\r\n                conValue = value;\r\n                if (convertBack)\r\n                    obj[propName] = convertBack(value);\r\n            },\r\n\r\n            name: <string>propName\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function create<TObj extends IBindable, TKey extends (keyof TObj) & string, TValue extends TObj[TKey]>(obj: TObj, propName: TKey, property?: IObservableProperty<TValue>): IObservableProperty<TValue> {\r\n\r\n        let desc = Object.getOwnPropertyDescriptor(obj, propName);\r\n        if (!desc) {\r\n            console.warn(\"'\", propName, \"' not defined in \", getTypeName(obj));\r\n            desc = {};\r\n        }\r\n\r\n        if (!property)\r\n            property = new ObservableProperty(desc, <string>propName);\r\n\r\n        const props = getOrCreateProperty<any>(obj, \"@props\", {});\r\n        props[propName as any] = property;\r\n\r\n        Object.defineProperty(obj, propName, {\r\n\r\n            get: () => property.get(),\r\n\r\n            set: (newValue) => property.set(newValue)\r\n        });\r\n\r\n        return property;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function createAll<TObj>(obj: TObj): TObj {\r\n\r\n        const props = Object.getOwnPropertyNames(obj);\r\n\r\n        props.forEach(propName => {\r\n\r\n            if (propName[0] == \"_\" || propName[0] == \"$\")\r\n                return;\r\n\r\n            const propDesc = Object.getOwnPropertyDescriptor(obj, propName);\r\n\r\n            if (propDesc && !propDesc.writable)\r\n                return;\r\n\r\n            create(obj, <any>propName);\r\n        });\r\n\r\n        return obj;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function get<TObj extends IBindable, TKey extends keyof TObj, TValue extends TObj[TKey]>(obj: TObj, propName: TKey): IProperty<TValue> {\r\n\r\n        if (hasProp(obj, \"@props\")) {\r\n            const prop = obj[\"@props\"][propName];\r\n            if (prop)\r\n                return prop;\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function getOrCreate<TObj extends IBindable, TKey extends keyof TObj & string, TValue extends TObj[TKey]>(obj: TObj, propName: TKey, property?: IObservableProperty<TValue>): IObservableProperty<TValue> {\r\n\r\n        const prop = get(obj, propName);\r\n        if (prop)\r\n            return <IObservableProperty<TValue>>prop;\r\n        return create(obj, propName, property);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function isProperty(obj: any): obj is IProperty<any> {\r\n\r\n        return (obj && typeof obj == \"object\" && typeof obj[\"get\"] == \"function\" && obj[\"get\"].length == 0 && typeof obj[\"set\"] == \"function\" && obj[\"set\"].length == 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function isObservableProperty(obj: any): obj is IObservableProperty<any> {\r\n        //TODO improve this check\r\n        return obj instanceof ObservableProperty || obj instanceof ComputedProperty;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function bind<TDest, TSrc = TDest>(dest: IObservableProperty<TDest>, src: Bindable<TSrc>, converter: IValueConverter<TSrc, TDest>) {\r\n\r\n        let value: TSrc;\r\n\r\n        if (isProperty(src)) {\r\n\r\n            if (isObservableProperty(src)) {\r\n                src.subscribe(value => {\r\n                    if (converter)\r\n                        dest.set(converter.convertTo(value as TSrc));\r\n                    else\r\n                        dest.set(value);\r\n                });\r\n            }\r\n\r\n            dest.subscribe(value => {\r\n                if (converter)\r\n                    (src as IProperty<TSrc>).set(converter.convertFrom(value as TDest));\r\n                else\r\n                    (src as IProperty<TSrc>).set(value as unknown as TSrc);\r\n            });\r\n\r\n            value = src.get();\r\n        }\r\n        else\r\n            value = <TSrc>src;\r\n\r\n        if (converter)\r\n            dest.set(converter.convertTo(value));\r\n        else\r\n            dest.set(value as unknown as TDest);\r\n\r\n        return undefined;\r\n    }\r\n}","import { isObservableList } from \"../Core/Helpers/TypeCheck\";\r\nimport { IObservableListHandler } from \"./Abstraction/IObservableList\";\r\nimport { IObservableProperty, IPropertyChangedHandler } from \"./Abstraction/IObservableProperty\";\r\nimport { Properties } from \"./Properties\";\r\n\r\nexport type BindValue<TModel, TValue> = TValue | IGetter<TModel, TValue>;\r\n\r\ninterface IGetter<TObj, TValue> {\r\n    (model: TObj): TValue;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IPropertySubscription<TValue = any> {\r\n\r\n    source: any;\r\n\r\n    property: IObservableProperty<TValue>;\r\n\r\n    handler: IPropertyChangedHandler<TValue> | IObservableListHandler<any>;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IBinding<TModel, TValue = any> {\r\n\r\n    lastValue: TValue;\r\n\r\n    value(model: TModel): TValue;\r\n\r\n    action(newValue: TValue, oldValue?: TValue, isUpdate?: boolean, isClear?: boolean): void;\r\n\r\n    subscriptions: IPropertySubscription[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPropertyAccess {\r\n    obj: any;\r\n    propName: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Binder<TModel> {\r\n\r\n    private _bindings: IBinding<TModel>[] = [];\r\n    private _modelBinders: Binder<TModel>[] = [];\r\n    private _depBinders: Binder<any>[] = [];\r\n\r\n    /****************************************/\r\n\r\n    constructor(model?: TModel) {\r\n        this.model = model;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected register(binder: Binder<TModel>) {\r\n\r\n        this._modelBinders.push(binder);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected registerDependant(binder: Binder<any>) {\r\n\r\n        this._depBinders.push(binder);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected unregisterDependant(binder: Binder<any>) {\r\n        const index = this._depBinders.indexOf(binder);\r\n        if (index != -1)\r\n            this._depBinders.splice(index, 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getBindValue<TValue>(value: BindValue<TModel, TValue>): TValue {\r\n        if (typeof value == \"function\")\r\n            return (value as IGetter<TModel, TValue>)(this.model);\r\n        return <TValue>value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    bind<TValue>(value: BindValue<TModel, TValue>, action: (newValue: TValue, oldValue?: TValue, isUpdate?: boolean, isClear?: boolean) => void) {\r\n\r\n        if (typeof value == \"function\") {\r\n\r\n            const binding = <IBinding<TModel, TValue>>{\r\n                value: <IGetter<TModel, TValue>>value,\r\n                action: action,\r\n                subscriptions: [],\r\n                lastValue: undefined\r\n            };\r\n\r\n            this._bindings.push(binding);\r\n\r\n            binding.value(this.createProxy(this.model, (obj, propName) => {\r\n                this.subscribe(obj, propName, binding);\r\n                return true;\r\n            }));\r\n\r\n            const bindValue = binding.value(this.model);\r\n\r\n            binding.action(bindValue, undefined, false);\r\n\r\n            binding.lastValue = bindValue;\r\n        }\r\n        else\r\n            action(value as TValue, undefined, false);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected unsubscribe(binding: IBinding<TModel>, cleanValue: boolean) {\r\n\r\n        binding.subscriptions.forEach(sub => {\r\n\r\n            if (isObservableList(sub.source))\r\n                sub.source.unsubscribe(sub.handler as IObservableListHandler<any>);\r\n            else\r\n                sub.property.unsubscribe(sub.handler as IPropertyChangedHandler<any>);\r\n        });\r\n\r\n        if (cleanValue && binding.lastValue) {\r\n            binding.action(null, binding.lastValue, true, true);\r\n            binding.lastValue = null;\r\n        }\r\n\r\n        binding.subscriptions = [];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected subscribe(obj, propName: string, binding: IBinding<TModel>) {\r\n\r\n        for (let i = 0; i < binding.subscriptions.length; i++) {\r\n            const sub = binding.subscriptions[i];\r\n            if (sub.source == obj && sub.property.name == propName)\r\n                return;\r\n        }\r\n\r\n        if (isObservableList(obj)) {\r\n\r\n            const handler = <IObservableListHandler<any>>{\r\n                onChanged: () => {\r\n\r\n                    const bindValue = binding.value(this.model);\r\n\r\n                    if (bindValue == binding.lastValue)\r\n                        return;\r\n\r\n                    binding.action(bindValue, binding.lastValue, true);\r\n\r\n                    binding.lastValue = bindValue;\r\n                }\r\n            };\r\n\r\n            obj.subscribe(handler);\r\n\r\n            binding.subscriptions.push({\r\n                source: obj,\r\n                property: null,\r\n                handler: handler\r\n            });\r\n        }\r\n        else {\r\n\r\n            const propDesc = Object.getOwnPropertyDescriptor(obj, propName);\r\n\r\n            if (!propDesc || (!propDesc.writable && !propDesc.set)) {\r\n                console.warn(\"Property \", propName, \" for object \", obj, \" not exists or is not writeable.\");\r\n                return;\r\n            }\r\n\r\n            const prop = Properties.getOrCreate(obj, propName);\r\n\r\n            const handler = (value, oldValue) => {\r\n\r\n                const bindValue = binding.value(this.model);\r\n\r\n                if (bindValue == binding.lastValue)\r\n                    return;\r\n\r\n                this.unsubscribe(binding, false);\r\n\r\n                binding.value(this.createProxy(this.model, (obj, propName) => {\r\n                    this.subscribe(obj, propName, binding);\r\n                    return true;\r\n                }));\r\n\r\n                binding.action(bindValue, binding.lastValue, true);\r\n\r\n                binding.lastValue = bindValue;\r\n            };\r\n\r\n            prop.subscribe(handler);\r\n\r\n            binding.subscriptions.push({\r\n                source: obj,\r\n                property: prop,\r\n                handler: handler\r\n            });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getBindingProperty<TValue>(value: BindValue<TModel, TValue>): IObservableProperty<TValue> {\r\n        if (typeof value != \"function\")\r\n            return null;\r\n\r\n        let lastProp: IPropertyAccess;\r\n        (value as IGetter<TModel, TValue>)(this.createProxy(this.model, (obj, propName) => {\r\n            lastProp = {\r\n                obj: obj,\r\n                propName: propName\r\n            }\r\n            return true;\r\n        }));\r\n\r\n        if (lastProp && lastProp.obj)\r\n            return Properties.getOrCreate(lastProp.obj, lastProp.propName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createProxy<TObj>(obj: TObj, action: (obj: any, propName: string) => boolean): TObj {\r\n\r\n        interface IListProxy {\r\n            count?: number;\r\n\r\n            get?: (index: number) => any;\r\n\r\n            _innerProxies?: { [key: number]: any };\r\n        }\r\n\r\n        if (!obj || typeof (obj) != \"object\")\r\n            return obj;\r\n\r\n        const propList: string[] = [];\r\n\r\n        const proxy = {};\r\n\r\n        if (isObservableList(obj)) {\r\n\r\n            const listProxy = <IListProxy>proxy;\r\n\r\n            propList.push(\"count\");\r\n\r\n            listProxy._innerProxies = {};\r\n\r\n            listProxy.get = (index) => {\r\n\r\n                if (!(index in listProxy._innerProxies)) {\r\n\r\n                    if (action(obj, index.toString()))\r\n                        listProxy._innerProxies[index] = this.createProxy(obj.get(index), action);\r\n                    else\r\n                        listProxy._innerProxies[index] = obj.get(index);\r\n                }\r\n\r\n                return listProxy._innerProxies[index];\r\n            }\r\n        }\r\n        else {\r\n            for (const propName in obj)\r\n                propList.push(propName);\r\n        }\r\n\r\n        for (const propName of propList) {\r\n\r\n            let innerProxy;\r\n            let isInit = false;\r\n            let lastValueSet;\r\n\r\n            Object.defineProperty(proxy, propName, {\r\n                get: () => {\r\n                    if (!isInit) {\r\n\r\n                        if (action(obj, propName))\r\n                            innerProxy = this.createProxy(obj[propName], action);\r\n                        else\r\n                            innerProxy = obj[propName];\r\n\r\n                        isInit = true;\r\n                    }\r\n                    return innerProxy;\r\n                },\r\n                set: value => {\r\n\r\n                    if (lastValueSet == value)\r\n                        return;\r\n\r\n                    if (action(obj, propName))\r\n                        innerProxy = this.createProxy(value, action);\r\n                    else\r\n                        innerProxy = value;\r\n\r\n                    lastValueSet = value;\r\n\r\n                    isInit = true;\r\n                }\r\n            });\r\n        }\r\n        return <TObj>proxy;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected cleanBindings(cleanValue: boolean) {\r\n\r\n        this._bindings.forEach(binding =>\r\n            this.unsubscribe(binding, cleanValue));\r\n\r\n        this._modelBinders.forEach(binder =>\r\n            binder.cleanBindings(cleanValue));\r\n\r\n        this._depBinders.forEach(binder =>\r\n            binder.cleanBindings(cleanValue));\r\n\r\n        this._modelBinders = [];\r\n        this._bindings = [];\r\n        this._depBinders = [];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateModel(model: TModel) {\r\n\r\n        this.model = model;\r\n\r\n        forEachRev(this._bindings, binding => {\r\n            const value = binding.value(model);\r\n            if (binding.lastValue == value)\r\n                return;\r\n            binding.action(value, binding.lastValue, true)\r\n            binding.lastValue = value;\r\n        });\r\n\r\n        forEachRev(this._modelBinders, binder =>\r\n            binder.updateModel(model));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    model: TModel;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function forEachRev<T>(items: T[], action: (item: T) => void) {\r\n\r\n    if (!items || items.length == 0)\r\n        return;\r\n\r\n    for (let i = items.length - 1; i >= 0; i--)\r\n        action(items[i]);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport async function forEachRevAsync<T>(items: T[], action: (item: T) => Promise<void>) {\r\n\r\n    if (!items || items.length == 0)\r\n        return;\r\n\r\n    for (let i = items.length - 1; i >= 0; i--)\r\n        await action(items[i]);\r\n}","﻿import { DynamicString, IDynamicStringConfig, LocalString, StringUsage } from \"../Core/Types/DynamicString\";\r\nimport { IBindable } from \"./Abstraction/IBindable\";\r\nimport { IObservableProperty, IPropertyChangedHandler } from \"./Abstraction/IObservableProperty\";\r\nimport { Binder } from \"./Binder\";\r\nimport { ComputedProperty } from \"./ComputedProperty\";\r\nimport { Bindable, IValueConverter, Properties } from \"./Properties\";\r\n\r\nexport class BindableObject implements IBindable {\r\n\r\n    private _computedBinder: Binder<this>;\r\n\r\n    prop<TKey extends keyof this & string>(propName: TKey): IObservableProperty<this[TKey]> {\r\n        return Properties.getOrCreate(this, propName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static bindValue<T>(value: Bindable<T>): T {\r\n        if (Properties.isProperty(value))\r\n            return value.get();\r\n        return <any>value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    bindConfig<TConfig, TKey extends keyof this & keyof TConfig & string, TSrc extends TConfig[TKey], TDest extends this[TKey]>(propName: TKey, config: TConfig, converter?: IValueConverter<TSrc, TDest>, onValueChanged?: IPropertyChangedHandler<TDest>) {\r\n\r\n        this.bind(propName, config && propName in config ? <Bindable<TSrc>>config[propName] : undefined, converter, onValueChanged);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n\r\n    bindConfigString<TConfig, TKey extends keyof this & keyof TConfig & string>(propName: TKey, config: TConfig, configOrUsage?: IDynamicStringConfig | StringUsage, onValueChanged?: IPropertyChangedHandler<string>) {\r\n\r\n        this.bindString(propName, config && propName in config ? <any>config[propName] : undefined, configOrUsage, onValueChanged);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    computed<TKey extends keyof this & string, TValue extends this[TKey]>(propName: TKey, compute: (model: this) => TValue) {\r\n\r\n        return Properties.create(this, propName, this.createComputed(compute, <string>propName));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    createComputed<TValue>(compute: (model: this) => TValue, name?: string): IObservableProperty<TValue> {\r\n\r\n        if (!this._computedBinder)\r\n            this._computedBinder = new Binder(this);\r\n\r\n        const prop = new ComputedProperty(() => compute(this), name);\r\n\r\n        this._computedBinder.bind(compute, () => prop.notifyChanged());\r\n\r\n        return prop;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    bind<TKey extends keyof this & string, TSrc, TDest extends this[TKey]>(propName: TKey, value: Bindable<TSrc>, converter?: IValueConverter<TSrc, TDest>, onValueChanged?: IPropertyChangedHandler<TDest>) {\r\n\r\n        const prop = Properties.getOrCreate(this, propName);\r\n\r\n        if (onValueChanged)\r\n            prop.subscribe(onValueChanged);\r\n\r\n        if (value !== undefined)\r\n            Properties.bind(prop, value, converter);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    bindString<TKey extends keyof this & string>(propName: TKey, value: Bindable<LocalString>, configOrUsage?: IDynamicStringConfig | StringUsage, onValueChanged?: IPropertyChangedHandler<string>) {\r\n\r\n        return this.bind(propName, value, {\r\n            convertTo: a => <any>DynamicString.getValue(a, <any>configOrUsage),\r\n            convertFrom: a => <any>a\r\n        }, <any>onValueChanged);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    apply(block: (obj: this) => any): this {\r\n        block(this);\r\n        return this;\r\n    }\r\n}","﻿import { IFactory } from \"../../Core/Abstraction/IFactory\";\r\nimport { ISize } from \"../Types/Size\";\r\nimport { IHTMLAttach } from \"./IHTMLAttach\";\r\n\r\n\r\ndeclare global {\r\n\r\n    export interface IServices {\r\n\r\n        mapManager: IFactory<IMapManager>;\r\n    }\r\n}\r\n\r\n\r\nexport enum MapShapeType {\r\n    None,\r\n    Circle\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IMapStyle {\r\n\r\n    fillColor?: string;\r\n    strokeColor?: string;\r\n    strokeSize?: number;\r\n    opacity?: number;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface ICreateMapItemOptions {\r\n\r\n    id: string;\r\n    title?: string;\r\n    description?: string;\r\n    location?: IGeoPoint;\r\n    icon?: any;\r\n    color?: string;\r\n    shape?: IMapShape;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IStaticMapPin {\r\n    center: IGeoPoint;\r\n    icon?: any;\r\n    name?: string;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IStaticMapOptions {\r\n    size?: ISize;\r\n    center?: IGeoPoint;\r\n    pins?: IStaticMapPin[];\r\n    zoomLevel?: number;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IMapManager extends IHTMLAttach {\r\n\r\n    addItems(itemsOptions: ICreateMapItemOptions[]): IMapItem[];\r\n\r\n    removeItem(item: IMapItem);\r\n\r\n    getItemById(id: string): IMapItem;\r\n\r\n    clear();\r\n\r\n    centerTo(location: IGeoPoint, radiusMeters?: number);\r\n\r\n    zoomToItems();\r\n\r\n    updateSize();\r\n\r\n    getAddressAsync(location: IGeoPoint): Promise<string>;\r\n\r\n    getLocationAsync(address: string): Promise<IGeoPoint>;\r\n\r\n    staticMap(options: IStaticMapOptions): string;\r\n\r\n    showCurrentPositionAsync(value: boolean): Promise<void>;\r\n\r\n    selectedItem: IMapItem;\r\n\r\n    onAttached();\r\n\r\n    onSelectionChanged();\r\n\r\n    isReady: boolean;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IGeoPoint {\r\n    latitude: number;\r\n    longitude: number;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IMapItem {\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    location: IGeoPoint;\r\n    icon: string;\r\n    color: string;\r\n    shape: IMapShape;\r\n}\r\n\r\n/*******************************/\r\n\r\nexport interface IMapShape {\r\n    type: MapShapeType;\r\n    radius?: number;\r\n    style?: IMapStyle;\r\n}","/// <reference path=\"../../node_modules/bingmaps/types/microsoftmaps/microsoft.maps.all.d.ts\" />\r\n\r\n/*******************************\r\n*  BingMapItem\r\n*******************************/\r\n\r\nimport { Services } from \"../Core/Global\";\r\nimport { linq } from \"../Core/Linq\";\r\nimport { BindableObject } from \"../Templating/BindableObject\";\r\nimport { ICreateMapItemOptions, IGeoPoint, IMapItem, IMapManager, IMapShape, IStaticMapOptions, MapShapeType } from \"../View/Abstraction/IMapManager\";\r\n\r\nexport class BingMapItem implements IMapItem {\r\n\r\n    constructor(manager: BingMapManager, options: ICreateMapItemOptions) {\r\n\r\n        this.id = options.id;\r\n        this.title = options.title;\r\n        this.description = options.description;\r\n        this.location = options.location;\r\n        this.shape = options.shape;\r\n        this.icon = options.icon;\r\n        this.color = options.color;\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    openInfo() {\r\n        this.infoWindow.setOptions({\r\n            visible: true,\r\n            location: this.marker.getLocation()\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    closeInfo() {\r\n        this.infoWindow.setOptions({\r\n            visible: false\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    icon: string;\r\n    color: string;\r\n    shape: IMapShape;\r\n\r\n    location: IGeoPoint;\r\n    infoWindow: Microsoft.Maps.Infobox;\r\n    marker: Microsoft.Maps.Pushpin;\r\n    shapeObj: Microsoft.Maps.Polygon;\r\n}\r\n\r\n/*******************************\r\n *  BingMapManager\r\n *******************************/\r\n\r\nexport class BingMapManager extends BindableObject implements IMapManager {\r\n\r\n    private _items: BingMapItem[] = [];\r\n    private _map: Microsoft.Maps.Map;\r\n    private _searchManager: Microsoft.Maps.Search.SearchManager;\r\n    private _apiKey: string;\r\n    private _isShowPostion: boolean;\r\n    private _curPosItem: Microsoft.Maps.Pushpin;\r\n    private _curPosPrecision: Microsoft.Maps.Polygon;\r\n    private _posLayer: Microsoft.Maps.Layer;\r\n\r\n    /*******************************/\r\n\r\n    constructor(apiKey: string) {\r\n\r\n        super();\r\n\r\n        this._apiKey = apiKey;\r\n\r\n\r\n        this.prop(\"selectedItem\").subscribe((newVal, oldVal) => {\r\n            if (newVal)\r\n                newVal.marker.setOptions({ color: this.selectionColor });\r\n            if (oldVal)\r\n                oldVal.marker.setOptions({ color: oldVal.color });\r\n            this.onSelectionChanged()\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    updateSize() {\r\n        const currentCenter = this._map.getCenter();\r\n\r\n        this._map.setView({\r\n            center: currentCenter\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    staticMap(options: IStaticMapOptions): string {\r\n\r\n        let result = \"https://dev.virtualearth.net/REST/v1/Imagery/Map/Road\";\r\n\r\n        if (options.center) {\r\n            result += \"/\" + options.center.latitude + \",\" + options.center.longitude;\r\n            result += \"/\" + (options.zoomLevel ? options.zoomLevel : 15);\r\n        }\r\n\r\n        result += \"?\";\r\n\r\n        if (options.size)\r\n            result += \"mapSize=\" + options.size.width + \",\" + options.size.height + \"&\";\r\n\r\n        if (options.pins) {\r\n            options.pins.forEach(pin => {\r\n                result += \"pushpin=\" + pin.center.latitude + \",\" + pin.center.longitude + \";\";\r\n                result += (pin.icon ? pin.icon : 5) + \";\";\r\n                if (pin.name)\r\n                    result += encodeURIComponent(pin.name);\r\n\r\n                result += \"&\";\r\n            });\r\n        }\r\n\r\n        result += \"format=PNG&key=\" + encodeURIComponent(this._apiKey);\r\n\r\n        return result;\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    attach(element: HTMLElement) {\r\n\r\n        this.loadModuleAsync(\"Microsoft.Maps.SpatialMath\");\r\n\r\n        this._map = new Microsoft.Maps.Map(element, {\r\n            credentials: this._apiKey,\r\n            zoom: 16,\r\n            showMapTypeSelector: false,\r\n            showLocateMeButton: true,\r\n            liteMode: true\r\n        })\r\n\r\n        this._posLayer = new Microsoft.Maps.Layer();\r\n        this._map.layers.insert(this._posLayer);\r\n\r\n        this.isReady = true;\r\n        this.onAttached();\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    onAttached() {\r\n\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    onSelectionChanged() {\r\n\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    zoomToItems() {\r\n\r\n        if (this._items.length == 1) {\r\n            this.centerTo(this._items[0].location);\r\n        }\r\n        else if (this._items.length > 1) {\r\n\r\n            const locations: Microsoft.Maps.Location[] = [];\r\n\r\n            this._items.forEach(item =>\r\n                locations.push(new Microsoft.Maps.Location(item.location.latitude, item.location.longitude)));\r\n\r\n            this._map.setView({\r\n                bounds: Microsoft.Maps.LocationRect.fromLocations(locations)\r\n            })\r\n        }\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    centerToCurrent() {\r\n        if (!navigator.geolocation)\r\n            return;\r\n        navigator.geolocation.getCurrentPosition(pos => {\r\n            this.centerTo({\r\n                latitude: pos.coords.latitude,\r\n                longitude: pos.coords.longitude\r\n            });\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    getZoomLevel(radiusInKilometer: number, latitude: number): number {\r\n\r\n        const widthOfMapInPixels = this.map.getRootElement().clientWidth;\r\n        const heightOfMapInPixels = this.map.getRootElement().clientHeight;\r\n\r\n        const rangeInMeters = radiusInKilometer * 1000;\r\n\r\n        const limitBoundPixels = Math.min(heightOfMapInPixels, widthOfMapInPixels);\r\n        const zoom = Math.floor(Math.log(156543.03392 * Math.cos(latitude * Math.PI / 180) / (rangeInMeters / limitBoundPixels)) / Math.log(2));\r\n\r\n        return zoom;\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    centerTo(location: IGeoPoint, radiusMeters?: number) {\r\n\r\n        this._map.setView({\r\n            center: new Microsoft.Maps.Location(location.latitude, location.longitude),\r\n            zoom: radiusMeters ? this.getZoomLevel(radiusMeters / 1000, location.latitude) : undefined\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    private async getSearchManagerAsync(): Promise<Microsoft.Maps.Search.SearchManager> {\r\n\r\n        if (!this._searchManager) {\r\n            await this.loadModuleAsync(\"Microsoft.Maps.Search\");\r\n            this._searchManager = new Microsoft.Maps.Search.SearchManager(this._map);\r\n        }\r\n        return this._searchManager;\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    async getAddressAsync(location: IGeoPoint): Promise<string> {\r\n\r\n        const sm = await this.getSearchManagerAsync();\r\n\r\n        return new Promise<string>((res, rej) => {\r\n            sm.reverseGeocode({\r\n                location: new Microsoft.Maps.Location(location.latitude, location.longitude),\r\n                callback: r => {\r\n                    if (r && r.address)\r\n                        res(r.address.formattedAddress);\r\n                    else\r\n                        res(undefined);\r\n                }\r\n            })\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    async getLocationAsync(address: string): Promise<IGeoPoint> {\r\n\r\n        const sm = await this.getSearchManagerAsync();\r\n\r\n        return new Promise<IGeoPoint>((res, rej) => {\r\n            sm.geocode({\r\n                where: address,\r\n                bounds: this._map.getBounds(),\r\n                callback: r => {\r\n                    if (r && r.results && r.results.length > 0)\r\n                        res({ latitude: r.results[0].location.latitude, longitude: r.results[0].location.longitude });\r\n                    else\r\n                        res(undefined);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    async showCurrentPositionAsync(value: boolean) {\r\n\r\n        if (value == this._isShowPostion)\r\n            return;\r\n\r\n        this._isShowPostion = value;\r\n\r\n        if (value) {\r\n            if (await Services.permissionManager.geolocation.isGranted())\r\n                this.updatePositionAsyc();\r\n        }\r\n\r\n        this._posLayer.setVisible(value);\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    protected async updatePositionAsyc(pos?: GeolocationPosition) {\r\n\r\n        if (!pos)\r\n            pos = await new Promise(res => navigator.geolocation.getCurrentPosition(res));\r\n\r\n        const location = new Microsoft.Maps.Location(pos.coords.latitude, pos.coords.longitude);\r\n        const path = Microsoft.Maps.SpatialMath.getRegularPolygon(location, pos.coords.accuracy, 36, Microsoft.Maps.SpatialMath.DistanceUnits.Meters);\r\n\r\n        console.log(pos.coords.heading);\r\n\r\n        const rotation = pos.coords.heading - 180;\r\n        const transform = `rotate(${rotation} 77 77)`;\r\n        const scaleFactor = 154 / 24;\r\n        const width = 380 / scaleFactor;\r\n        const height = 446 / scaleFactor;\r\n\r\n        const svgIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"-154 -223 380 446\" width=\"${width}\" height=\"${height}\"><defs><clipPath id=\"id_377bbc1f_2559_44c8_a0ba_6bf58d6c86bf\" role=\"canvas\"><rect width=\"154.00000\" height=\"223.00000\" x=\"0.00000\" y=\"0.00000\"></rect></clipPath><linearGradient x1=\"387.48379\" y1=\"146.66474\" x2=\"193.95144\" y2=\"235.10915\" gradientUnits=\"userSpaceOnUse\" id=\"id_b4527e8c_865b_4f93_a70e_92dd29ceed6a\"><stop offset=\"0.0%\" style=\"stop-color: rgb(3, 169, 244); stop-opacity: 1;\"></stop><stop offset=\"100.0%\" style=\"stop-color: rgb(255, 255, 255); stop-opacity: 0.368627;\"></stop></linearGradient></defs><g id=\"id_b1da7e8c_0f77_4801_a9e9_d3df1cffa865\" transform=\"${transform}\" name=\"ArtProjectItems\"><g fill=\"#ffffff\" id=\"id_26d8e2e5_6f5c_4be3_a4e4_a1dc17c2cbfa\" name=\"ArtGeometry\" transform=\"matrix(1, 0, 0, 1, -171.15539470071286, -72.25095774122973)\"><circle r=\"75.61522\" cx=\"248.01568\" cy=\"149.22398\" name=\"geometry\" id=\"id_26d8e2e5_6f5c_4be3_a4e4_a1dc17c2cbfa_main\" role=\"main\"></circle><use href=\"#id_26d8e2e5_6f5c_4be3_a4e4_a1dc17c2cbfa_main\" fill=\"none\" stroke=\"#000000\" stroke-width=\"1.00000\"></use></g><g fill=\"#03a9f4\" id=\"id_6b0e97c8_13a8_474f_b76a_b8b8120d5d24\" name=\"ArtGeometry\" transform=\"matrix(1, 0, 0, 1, -157.81934710884875, -58.308758751842205)\"><circle r=\"60.47326\" cx=\"234.67963\" cy=\"135.28178\" name=\"geometry\" id=\"id_6b0e97c8_13a8_474f_b76a_b8b8120d5d24_main\" role=\"main\"></circle></g><g fill=\"none\" id=\"id_ba6838f0_76d9_4faf_9e41_9845f139ba0f\" name=\"ArtGeometry\" transform=\"matrix(0.40060806370973984, -0.9162495180302699, 0.9162495180302938, 0.4006080637097503, -214.48539209923712, 389.6257066762629)\"><path d=\"M243.16623,141.34362h160l-109.87824,116.27396z\" name=\"geometry\" id=\"id_ba6838f0_76d9_4faf_9e41_9845f139ba0f_main\" role=\"main\" fill=\"url(#id_b4527e8c_865b_4f93_a70e_92dd29ceed6a)\"></path></g></g></svg>`;\r\n\r\n        if (!this._curPosItem) {\r\n            this._curPosItem = new Microsoft.Maps.Pushpin(location, {\r\n                icon: svgIcon,\r\n                anchor: new Microsoft.Maps.Point((154 + 77) / scaleFactor, (223 + 77) / scaleFactor),\r\n                enableClickedStyle: false,\r\n                draggable: false,\r\n                color: \"#03a9f4\"\r\n            });\r\n            this._posLayer.add(this._curPosItem);\r\n        }\r\n        if (!this._curPosPrecision) {\r\n\r\n            this._curPosPrecision = new Microsoft.Maps.Polygon(path, {\r\n                fillColor: \"#03a9f450\"\r\n            });\r\n\r\n            this._posLayer.add(this._curPosPrecision);\r\n        }\r\n\r\n        this._curPosItem.setOptions({ icon: svgIcon });\r\n        this._curPosItem.setLocation(location);\r\n        this._curPosPrecision.setLocations(path);\r\n\r\n        if (this._isShowPostion)\r\n            setTimeout(() => this.updatePositionAsyc(), 1000);\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    addItems(itemsOptions: ICreateMapItemOptions[]): BingMapItem[] {\r\n\r\n        const items: BingMapItem[] = [];\r\n        const entities: Microsoft.Maps.IPrimitive[] = [];\r\n\r\n        itemsOptions.forEach(options => {\r\n\r\n            const item = new BingMapItem(this, options);\r\n\r\n            item.marker = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(options.location.latitude, options.location.longitude), {\r\n                title: options.title,\r\n                icon: options.icon,\r\n                color: options.color\r\n            });\r\n\r\n            if (options.shape) {\r\n\r\n                if (options.shape.type == MapShapeType.Circle) {\r\n\r\n                    const shape = Microsoft.Maps.SpatialMath.getRegularPolygon(new Microsoft.Maps.Location(options.location.latitude, options.location.longitude), options.shape.radius ? options.shape.radius : 1, 36, Microsoft.Maps.SpatialMath.DistanceUnits.Meters);\r\n\r\n                    let stroke, fill: Microsoft.Maps.Color;\r\n\r\n                    if (options.shape.style) {\r\n                        stroke = options.shape.style.strokeColor ? Microsoft.Maps.Color.fromHex(options.shape.style.strokeColor) : undefined;\r\n                        if (stroke && options.shape.style.opacity)\r\n                            stroke.a = options.shape.style.opacity * 255;\r\n\r\n                        fill = options.shape.style.fillColor ? Microsoft.Maps.Color.fromHex(options.shape.style.fillColor) : undefined;\r\n                        if (fill && options.shape.style.opacity)\r\n                            fill.a = options.shape.style.opacity * 255;\r\n                    }\r\n\r\n                    const poly = new Microsoft.Maps.Polygon(shape, {\r\n                        strokeColor: stroke,\r\n                        fillColor: fill,\r\n                        strokeThickness: options.shape.style && options.shape.style.strokeSize ? options.shape.style.strokeSize : undefined,\r\n\r\n                    });\r\n\r\n                    item.shapeObj = poly;\r\n                }\r\n            }\r\n\r\n            /*\r\n            item.infoWindow = new Microsoft.Maps.Infobox(item.marker.getLocation(), {\r\n\r\n                title: options.title,\r\n                description: options.description,\r\n                visible: false\r\n            });\r\n\r\n            item.infoWindow.setMap(this._map);\r\n            */\r\n\r\n            Microsoft.Maps.Events.addHandler(item.marker, \"click\", () => {\r\n                this.selectedItem = item;\r\n            });\r\n\r\n            entities.push(item.marker);\r\n\r\n            if (item.shapeObj)\r\n                entities.push(item.shapeObj);\r\n\r\n            this._items.push(item);\r\n\r\n            items.push(item);\r\n\r\n        });\r\n\r\n        this._map.entities.add(entities);\r\n\r\n        return items;\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    clear() {\r\n        this._items = [];\r\n        this.map.entities.clear();\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    getItemById(id: string): BingMapItem {\r\n        return linq(this._items).first(a => a.id == id);\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    removeItem(item: BingMapItem) {\r\n\r\n        this._items.splice(this._items.indexOf(item), 1);\r\n\r\n        this._map.entities.remove(item.marker);\r\n\r\n        if (item.infoWindow)\r\n            item.infoWindow.setMap(null);\r\n\r\n        if (item.shapeObj)\r\n            this._map.entities.remove(item.shapeObj);\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    private loadModuleAsync(name: string): Promise<void> {\r\n        return new Promise((res, rej) =>\r\n            Microsoft.Maps.loadModule(name, () => res()));\r\n    }\r\n\r\n    /*******************************/\r\n\r\n    get map(): Microsoft.Maps.Map {\r\n        return this._map;\r\n    }\r\n\r\n    isReady: boolean = false;\r\n\r\n    selectedItem: BingMapItem = null;\r\n\r\n    selectionColor: string = \"#000000\";\r\n}","﻿import { IActivable } from \"../Abstraction/IActivable\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IEditable } from \"../Abstraction/IEditable\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { IHTMLContainer } from \"../Abstraction/IHTMLContainer\";\r\nimport { ISelectable } from \"../Abstraction/ISelectable\";\r\nimport { ISingleItemSelector } from \"../Abstraction/ISingleItemSelector\";\r\nimport { IValidable } from \"../Abstraction/IValidator\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport function isAsyncEditor(value: any): value is IAsyncEditor<any, any> {\r\n\r\n    return value && typeof value == \"object\" && \"editAsync\" in value && typeof value[\"editAsync\"] == \"function\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isView(value: any): value is IView {\r\n\r\n    return value && typeof value == \"object\" && \"parentView\" in value && \"template\" in value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isActivable(value: any): value is IActivable {\r\n\r\n    return value && typeof value == \"object\" && typeof value[\"activateAsync\"] == \"function\" && value[\"activateAsync\"].length == 0;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isSelectable(value: any): value is ISelectable {\r\n\r\n    return value && typeof value == \"object\" && \"isSelected\" in value && \"select\" in value && typeof value[\"select\"] == \"function\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isSingleItemSelector(value: any): value is ISingleItemSelector<any> {\r\n\r\n    return value && typeof value == \"object\" && \"selectedItem\" in value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isAsyncLoad(value: any): value is IAsyncLoad {\r\n\r\n    return value && typeof value == \"object\" && typeof value[\"loadAsync\"] == \"function\" && value[\"loadAsync\"].length == 0;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isValidable(value: any): value is IValidable {\r\n\r\n    return value && typeof value == \"object\" && typeof value[\"validateAsync\"] == \"function\" && value[\"validateAsync\"].length < 2;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isHTMLContainer(value: any): value is IHTMLContainer {\r\n\r\n    return value && typeof value == \"object\" && \"nodes\" in value;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isEditable(value: any): value is IEditable<any> {\r\n\r\n    return value && typeof value == \"object\" && \"createEditor\" in value && typeof value.createEditor == \"function\";\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function isHTMLAttach(value: any): value is IHTMLAttach {\r\n\r\n    return typeof value == \"object\" && \"attach\" in value && typeof value[\"attach\"] == \"function\"\r\n}","﻿export interface IBehavoir<TElement extends HTMLElement = HTMLElement, TModel = any> {\r\n\r\n    attach(element: TElement, model?: TModel);\r\n\r\n    detach(element: TElement, model?: TModel);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport var behavoirCatalog: { [key: string]: () => IBehavoir } = {}","import { linq } from \"../Core/Linq\";\r\nimport { getTypeName } from \"../Core/Utils/ObjectUtils\";\r\nimport { isHTMLContainer } from \"../View/Helpers/TypeCheck\";\r\nimport { behavoirCatalog, IBehavoir } from \"./Abstraction/IBehavoir\";\r\nimport { IObservableList, IObservableListHandler } from \"./Abstraction/IObservableList\";\r\nimport { ITemplate } from \"./Abstraction/ITemplate\";\r\nimport { CatalogTemplate, ITemplateProvider } from \"./Abstraction/ITemplateProvider\";\r\nimport { Binder, BindValue } from \"./Binder\";\r\n \r\ntype TemplateValueMap<TModel, TObj extends { [key: string]: any }> = { [TKey in keyof TObj]?: BindValue<TModel, TObj[TKey]> }\r\n\r\ntype RefNodePosition = \"after\" | \"before\" | \"inside\";\r\n\r\ntype TemplateInlineMode = \"never\" | \"always\" | \"auto\" | \"explicit\" | \"replace-parent\" | \"embed-child\" | \"inherit\";\r\n\r\n/****************************************/\r\n\r\nexport const TemplateCatalog: { [key: string]: ITemplate<any> } = {};\r\n\r\nexport function defineTemplate(name: string, template: ITemplate<any>) {\r\n    TemplateCatalog[name] = template;\r\n}\r\n\r\nwindow[\"__defineTemplate\"] = defineTemplate;\r\n\r\n/****************************************/\r\n\r\nexport class TemplateBuilder<TModel, TElement extends HTMLElement = HTMLElement> extends Binder<TModel>{\r\n\r\n    protected _endElement: Node;\r\n    protected _startElement: Node;\r\n    protected _lastElement: Node;\r\n    protected _childCount = 0;\r\n    protected _updateCount = 0;\r\n    protected _updateNode: Node = null;\r\n\r\n    /****************************************/\r\n\r\n    constructor(model: TModel, element: TElement, parent?: TemplateBuilder<any>) {\r\n\r\n        super(model);\r\n         \r\n        this.parent = parent;\r\n\r\n        this.element = element;\r\n\r\n        if (element.namespaceURI && element.namespaceURI != \"http://www.w3.org/1999/xhtml\")\r\n            this.namespace = element.namespaceURI;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected beginTemplate<TInnerModel>(model?: TInnerModel, refNode?: Node, refNodePos: RefNodePosition = \"after\", marker?: string): TemplateBuilder<TInnerModel> {\r\n\r\n        const innerBuilder = new TemplateBuilder<TInnerModel>(model, this.element, this);\r\n\r\n        innerBuilder._lastElement = this._lastElement;\r\n\r\n        innerBuilder.begin(refNode, refNodePos, marker);\r\n\r\n        if (this.inlineMode == \"explicit\") {\r\n            innerBuilder.isInline = this.isInline;\r\n            innerBuilder.inlineMode = \"inherit\";\r\n        }\r\n\r\n        return innerBuilder;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected endTemplate<TInnerMode>(childBuilder: TemplateBuilder<TInnerMode>) {\r\n\r\n        childBuilder.end();\r\n\r\n        if (childBuilder.element == this.element)\r\n            this._lastElement = childBuilder._lastElement;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected beginUpdate() {\r\n\r\n        if (this._updateCount == 0 && this.element.parentNode) {\r\n\r\n            this._updateNode = document.createTextNode(\"\");\r\n            this.element.parentNode.replaceChild(this._updateNode, this.element)\r\n        }\r\n        this._updateCount++;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected endUpdate() {\r\n\r\n        this._updateCount--;\r\n\r\n        if (this._updateCount == 0 && this._updateNode) {\r\n\r\n            this._updateNode.parentNode.replaceChild(this.element, this._updateNode)\r\n            this._updateNode = null;\r\n        }\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    begin(refNode?: Node, refNodePos?: RefNodePosition, marker?: string): this {\r\n\r\n        this._startElement = marker ? document.createComment(\"begin-\" + marker) : document.createTextNode(\"\");\r\n\r\n        if (refNode) {\r\n\r\n            if (refNodePos == \"after\") {\r\n                if (!refNode.nextSibling)\r\n                    refNode.parentNode.appendChild(this._startElement);\r\n                else\r\n                    refNode.parentNode.insertBefore(this._startElement, refNode.nextSibling);\r\n            }\r\n\r\n            else if (refNodePos == \"before\")\r\n                refNode.parentNode.insertBefore(this._startElement, refNode);\r\n\r\n            else if (refNodePos == \"inside\")\r\n                refNode.appendChild(this._startElement);\r\n        }\r\n        else\r\n            this.appendChild(this._startElement);\r\n\r\n        this._lastElement = this._startElement;\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    end(): this {\r\n\r\n        if (this._endElement)\r\n            return;\r\n\r\n        if (this._startElement.nodeType == Node.COMMENT_NODE)\r\n            this._endElement = document.createComment(this._startElement.textContent.replace(\"begin-\", \"end-\"));\r\n        else\r\n            this._endElement = document.createTextNode(\"\");\r\n\r\n        this.appendChild(this._endElement);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear(remove: boolean = false): this {\r\n\r\n        this._childCount = 0;\r\n\r\n        if (!this._endElement) {\r\n            console.warn(\"Missing end element: \" + this.model);\r\n            this.end();\r\n        }\r\n\r\n        let curNode = this._endElement;\r\n\r\n        while (true) {\r\n\r\n            let mustDelete = true;\r\n\r\n            if ((curNode == this._startElement || curNode == this._endElement) && !remove)\r\n                mustDelete = false;\r\n\r\n            const prev = curNode.previousSibling;\r\n\r\n            if (mustDelete) {\r\n\r\n                if (mustDelete)\r\n                    curNode.parentNode.removeChild(curNode);\r\n            }\r\n\r\n            if (curNode == this._startElement)\r\n                break;\r\n\r\n            curNode = prev;\r\n        }\r\n\r\n        if (remove) {\r\n            this._endElement = null;\r\n            this._startElement = null;\r\n            this._lastElement = null;\r\n        }\r\n        else\r\n            this._lastElement = this._startElement;\r\n\r\n        this.cleanBindings(true);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    appendChild(node: Node): this {\r\n\r\n        if (!this._lastElement || !this._lastElement.parentNode) //TODO this || didn't exists\r\n            this.element.appendChild(node);\r\n        else {\r\n            if (this._lastElement.nextSibling)\r\n                this._lastElement.parentNode.insertBefore(node, this._lastElement.nextSibling);\r\n            else\r\n                this._lastElement.parentNode.appendChild(node);\r\n\r\n        }\r\n        //TODO this line was inside else\r\n        this._lastElement = node;\r\n        //\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    foreach<TItem>(selector: BindValue<TModel, IObservableList<TItem> | TItem[]>, templateOrName: CatalogTemplate<TItem>): this {\r\n        const value = this.getBindValue(selector);\r\n        if (Array.isArray(value) || !value)\r\n            this.foreachArray(selector as any, templateOrName);\r\n        else\r\n            this.foreachList(selector as any, templateOrName);\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    foreachList<TItem>(selector: BindValue<TModel, IObservableList<TItem>>, templateOrName: CatalogTemplate<TItem>): this {\r\n\r\n        let itemsBuilders: TemplateBuilder<TItem>[] = [];\r\n\r\n        const template = this.loadTemplate(templateOrName);\r\n\r\n        const marker = document.createTextNode(\"\");\r\n\r\n        this.appendChild(marker);\r\n\r\n        const handler: IObservableListHandler<TItem> = {\r\n\r\n            onClear: () => {\r\n                itemsBuilders.forEach(a => a.clear(true));\r\n                itemsBuilders = [];\r\n            },\r\n\r\n            onItemRemoved: (item, index, reason) => {\r\n\r\n                if (reason == \"replace\" || reason == \"clear\")\r\n                    return;\r\n\r\n                itemsBuilders[index].clear(true);\r\n                itemsBuilders.splice(index, 1);\r\n            },\r\n\r\n            onItemSwap: (index: number, newIndex: number) => {\r\n\r\n            },\r\n\r\n            onItemReplaced: (newItem, oldItem, index) => {\r\n\r\n                itemsBuilders[index].updateModel(newItem);\r\n            },\r\n\r\n            onItemAdded: (item, index, reason) => {\r\n\r\n                if (reason == \"replace\")\r\n                    return;\r\n\r\n                let itemBuilder: TemplateBuilder<TItem>;\r\n\r\n                if (index == itemsBuilders.length) {\r\n                    if (index == 0)\r\n                        itemBuilder = this.beginTemplate(item, marker, \"after\", this.createMarker(item));\r\n                    else\r\n                        itemBuilder = this.beginTemplate(item, itemsBuilders[index - 1]._endElement, \"after\", this.createMarker(item));\r\n\r\n                    itemsBuilders.push(itemBuilder);\r\n                }\r\n                else {\r\n                    itemBuilder = this.beginTemplate(item, itemsBuilders[index]._startElement, \"before\", this.createMarker(item));\r\n                    itemsBuilders.splice(index, 0, itemBuilder);\r\n                }\r\n\r\n                itemBuilder.index = index;\r\n\r\n                template(itemBuilder);\r\n\r\n                this.endTemplate(itemBuilder);\r\n            }\r\n        };\r\n\r\n        this.bind(selector, (value, oldValue, isUpdate, isClear) => {\r\n\r\n            if (isClear)\r\n                return;\r\n\r\n            this.beginUpdate();\r\n\r\n            if (isUpdate)\r\n                handler.onClear();\r\n\r\n            if (oldValue)\r\n                oldValue.unsubscribe(handler);\r\n\r\n            if (value) {\r\n\r\n                value.subscribe(handler);\r\n\r\n                for (let i = 0; i < value.count; i++)\r\n                    handler.onItemAdded(value.get(i), i, \"add\");\r\n            }\r\n\r\n            this.endUpdate();\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected foreachArray<TItem>(selector: BindValue<TModel, TItem[]>, templateOrName: CatalogTemplate<TItem>): this {\r\n\r\n        let itemsBuilders: TemplateBuilder<TItem>[] = [];\r\n        const template = this.loadTemplate(templateOrName);\r\n        const marker = document.createTextNode(\"\");\r\n\r\n        this.appendChild(marker);\r\n\r\n        this.bind(selector, (value, oldValue, isUpdate, isClear) => {\r\n\r\n            if (isClear)\r\n                return;\r\n\r\n            if (isUpdate) {\r\n\r\n                itemsBuilders.forEach(a => a.clear());\r\n                itemsBuilders = [];\r\n            }\r\n\r\n            if (value) {\r\n\r\n                this._lastElement = marker;\r\n\r\n                this.beginUpdate();\r\n\r\n                value.forEach(item => {\r\n\r\n                    const itemBuilder = this.beginTemplate(item);\r\n\r\n                    itemBuilder.index = itemsBuilders.length;\r\n\r\n                    template(itemBuilder);\r\n\r\n                    this.endTemplate(itemBuilder);\r\n\r\n                    itemsBuilders.push(itemBuilder);\r\n\r\n                });\r\n\r\n                this.endUpdate();\r\n            }\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    if(condition: BindValue<TModel, boolean>, trueTemplate: ITemplate<TModel>, falseTemplate?: ITemplate<TModel>): this {\r\n\r\n        const childBuilder = this.beginTemplate(this.model);\r\n\r\n        this.register(childBuilder);\r\n\r\n        this.bind(condition, (value, oldValue, isUpdate, isClear) => {\r\n\r\n            if (isClear)\r\n                return;\r\n\r\n            if (isUpdate)\r\n                childBuilder.clear();\r\n\r\n            if (value)\r\n                childBuilder.template(trueTemplate);\r\n            else if (falseTemplate)\r\n                childBuilder.template(falseTemplate);\r\n\r\n        });\r\n\r\n        this.endTemplate(childBuilder);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected replaceContent(nodes: Node[]) {\r\n\r\n        if (this.isInline)\r\n            throw \"'replaceContent' not supported in inline elements\";\r\n\r\n        this.clear();\r\n\r\n        for (const node of nodes)\r\n            this.appendChild(node);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected extractContent(): Node[] {\r\n\r\n        const result: Node[] = [];\r\n        for (const child of linq(this.element.childNodes)) {\r\n            if (child != this._startElement && child != this._endElement)\r\n                result.push(child);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    content<TInnerModel extends ITemplateProvider>(content: BindValue<TModel, TInnerModel>, inline: boolean = false): this {\r\n\r\n        const childBuilder = this.beginTemplate<TInnerModel>(undefined, undefined, undefined, this.createMarker(content));\r\n\r\n        childBuilder.isInline = inline;\r\n        childBuilder.inlineMode = \"explicit\";\r\n\r\n        this.bind(content, (value, oldValue, isUpdate, isClear) => {\r\n\r\n            if (isClear)\r\n                return;\r\n\r\n            this.beginUpdate();\r\n\r\n            if (!childBuilder.isInline && isHTMLContainer(value) && value.nodes && value.isCacheEnabled === true)\r\n                childBuilder.replaceContent(value.nodes);\r\n\r\n            else {\r\n\r\n                if (oldValue && value && oldValue.template == value.template)\r\n                    childBuilder.updateModel(value);\r\n                else {\r\n\r\n                    if (isUpdate)\r\n                        childBuilder.clear();\r\n\r\n                    if (value) {\r\n\r\n                        const template = this.templateFor(value);\r\n\r\n                        if (!template)\r\n                            throw \"Template '\" + value.template + \"' not found.\";\r\n\r\n                        childBuilder.updateModel(value);\r\n                        template(childBuilder);\r\n                    }\r\n                }\r\n\r\n                if (isHTMLContainer(value) && value.isCacheEnabled === true)\r\n                    value.nodes = this.extractContent();\r\n            }\r\n\r\n            this.endUpdate();\r\n        });\r\n\r\n        this.endTemplate(childBuilder);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    templateFor<TModel>(value: TModel): ITemplate<TModel> {\r\n\r\n        if (typeof value == \"string\" || typeof value == \"number\")\r\n            return this.loadTemplate<TModel>(\"Text\");\r\n\r\n        if (typeof value == \"object\" && \"template\" in value)\r\n            return this.loadTemplate<TModel>((value as any).template);\r\n\r\n        throw \"cannot determine template for model\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadTemplate<TModel>(templateOrName: CatalogTemplate<TModel>): ITemplate<TModel> {\r\n\r\n        if (typeof templateOrName == \"string\") {\r\n            const result = TemplateCatalog[templateOrName];\r\n            if (!result)\r\n                console.error(\"Template \", templateOrName, \" not found.\");\r\n            return result;\r\n        }\r\n\r\n        return <ITemplate<TModel>>templateOrName;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    template(templateOrName: CatalogTemplate<TModel>): this;\r\n\r\n    template<TInnerModel>(templateOrName: CatalogTemplate<TInnerModel>, model: BindValue<TModel, TInnerModel>): this;\r\n\r\n    template(templateOrName: CatalogTemplate<any>, model?: BindValue<TModel, any>): this {\r\n\r\n        const template = this.loadTemplate(templateOrName);\r\n\r\n        if (model) {\r\n\r\n            const childBuilder = this.beginTemplate(undefined, undefined, undefined, this.createMarker(model, \"template\"));\r\n\r\n            this.bind(model, (value, oldValue, isUpdate, isClear) => {\r\n\r\n                if (isClear)\r\n                    return;\r\n\r\n                childBuilder.updateModel(value);\r\n\r\n                if (!isUpdate)\r\n                    template(childBuilder);\r\n            });\r\n\r\n            this.endTemplate(childBuilder);\r\n        }\r\n        else\r\n            template(this);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    exec(action: (buidler: this) => void): this {\r\n        action(this);\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    beginChild<TKey extends keyof HTMLElementTagNameMap>(name: TKey, namespace?: string): ChildTemplateBuilder<TModel, HTMLElementTagNameMap[TKey] | TElement, this> {\r\n\r\n        if (this.isInline && this._childCount > 0)\r\n            throw \"In inline mode you must have a single root element for your template\";\r\n\r\n        const childElement = this.isInline && name.toUpperCase() == this.element.tagName ? this.element : this.createElement(name, namespace);\r\n\r\n        const childBuilder = new ChildTemplateBuilder<TModel, HTMLElementTagNameMap[TKey] | TElement, this>(this.model, childElement, this);\r\n\r\n        if (childElement == this.element)\r\n            childBuilder._lastElement = this._lastElement;\r\n\r\n        this.register(childBuilder);\r\n\r\n        this._childCount++;\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    child<TKey extends keyof HTMLElementTagNameMap>(name: TKey, attributes?: TemplateValueMap<TModel, TElement>, namespace?: string): this\r\n\r\n    child<TKey extends keyof HTMLElementTagNameMap>(name: TKey, builder: (builder: TemplateBuilder<TModel, HTMLElementTagNameMap[TKey]>, namespace?: string) => void): this\r\n\r\n    child<TKey extends keyof HTMLElementTagNameMap>(name: TKey, builderOrAttributes?: any, namespace?: string): this {\r\n\r\n        const childBuilder = new TemplateBuilder<TModel, HTMLElementTagNameMap[TKey]>(this.model, this.createElement(name, namespace), this);\r\n\r\n        this.register(childBuilder);\r\n\r\n        if (typeof builderOrAttributes == \"function\")\r\n            builderOrAttributes(childBuilder);\r\n        else\r\n            childBuilder.attribs(builderOrAttributes);\r\n\r\n        this.appendChild(childBuilder.element);\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set(attribute: string, value: BindValue<TModel, string | number | boolean | Promise<string | number | boolean>>): this {\r\n\r\n        this.bind(value, a => {\r\n            if (a !== null && a !== undefined) {\r\n                if (a instanceof Promise) {\r\n                    a.then(newValue => this.element.setAttribute(attribute, newValue as string));\r\n                }\r\n                else\r\n                    this.element.setAttribute(attribute, a as string);\r\n            }\r\n            else\r\n                this.element.removeAttribute(attribute);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    on<TKey extends keyof HTMLElementEventMap>(event: TKey, handler: (model: TModel, e?: HTMLElementEventMap[TKey]) => void): this {\r\n        this.element.addEventListener(event, ev => handler(this.model, ev));\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    class(name: BindValue<TModel, string>): this;\r\n\r\n    class(name: string, condition: BindValue<TModel, Boolean>): this;\r\n\r\n    class(name: any, condition?: BindValue<TModel, Boolean>): this {\r\n        if (condition) {\r\n            const nameParts: string[] = name ? name.split(\" \") : [];\r\n            this.bind(condition, value => {\r\n                if (value)\r\n                    nameParts.forEach(a => this.element.classList.add(a));\r\n                else\r\n                    nameParts.forEach(a => this.element.classList.remove(a));\r\n            })\r\n        }\r\n        else\r\n            this.bind(name, (value, oldValue) => {\r\n                if (oldValue)\r\n                    oldValue.split(\" \").forEach(item =>\r\n                        this.element.classList.remove(item));\r\n                if (value)\r\n                    value.split(\" \").forEach(item =>\r\n                        this.element.classList.add(item));\r\n            });\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    visible(value: BindValue<TModel, boolean>): this {\r\n\r\n        this.bind(value, (newValue, oldValue, isUpdate, isClear) => {\r\n\r\n            if (isClear)\r\n                return;\r\n\r\n            if (newValue) {\r\n                this.element.classList.add(\"visible\");\r\n                this.element.classList.remove(\"hidden\");\r\n            }\r\n            else {\r\n                this.element.classList.add(\"hidden\");\r\n                this.element.classList.remove(\"visible\");\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    text(value: BindValue<TModel, string | number>): this {\r\n        const textNode = document.createTextNode(\"\");\r\n\r\n        this.appendChild(textNode);\r\n\r\n        this.bind(value, a => textNode.textContent = <any>a);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    html(value: BindValue<TModel, string>): this {\r\n        this.bind(value, a => this.element.innerHTML = a);\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    focus(value: BindValue<TModel, boolean>): this {\r\n\r\n        const valueProp = this.getBindingProperty(value);\r\n\r\n        if (valueProp) {\r\n            this.element.addEventListener(\"focus\", ev =>\r\n                valueProp.set(true));\r\n            this.element.addEventListener(\"focusout\", ev =>\r\n                valueProp.set(false));\r\n        }\r\n        this.bind(value, a => {\r\n            if (a && document.activeElement != this.element)\r\n                this.element.focus();\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(value: BindValue<TModel, string | boolean>): this {\r\n\r\n        const element = <HTMLInputElement><any>this.element;\r\n\r\n        const valueProp = this.getBindingProperty(value);\r\n\r\n        if (valueProp) {\r\n            if (element.tagName == \"INPUT\" || element.tagName == \"TEXTAREA\") {\r\n\r\n                if (element.type == \"checkbox\" || element.type == \"radio\")\r\n                    element.addEventListener(\"change\", ev => {\r\n                        valueProp.set(element.checked);\r\n                    });\r\n                else {\r\n                    element.addEventListener(\"keyup\", ev => {\r\n                        valueProp.set(element.value);\r\n                    });\r\n                    element.addEventListener(\"change\", ev => {\r\n                        valueProp.set(element.value);\r\n                    });\r\n                }\r\n            }\r\n            else if (element.tagName == \"SELECT\") {\r\n                element.addEventListener(\"change\", ev => {\r\n                    valueProp.set(element.value);\r\n                });\r\n            }\r\n\r\n        }\r\n        if (element.tagName == \"INPUT\" || element.tagName == \"TEXTAREA\" || element.tagName == \"SELECT\") {\r\n\r\n            if (element.type == \"checkbox\" || element.type == \"radio\")\r\n                this.bind(value, (a: boolean) => element.checked = a);\r\n            else\r\n                this.bind(value, (a: string) => a ? element.value = a : element.value = null);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    style<TKey extends keyof CSSStyleDeclaration>(name: TKey, value: BindValue<TModel, CSSStyleDeclaration[TKey]>): this {\r\n        this.bind(value, a => this.element.style[name] = a);\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    behavoir(value: IBehavoir<TElement, TModel>): this;\r\n\r\n    behavoir(name: string): this;\r\n\r\n    behavoir(nameOrValue: any): this {\r\n\r\n        if (typeof nameOrValue == \"string\")\r\n            behavoirCatalog[<string>nameOrValue]().attach(this.element, this.model);\r\n        else\r\n            (nameOrValue as IBehavoir).attach(this.element, this.model);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    styles(value: TemplateValueMap<TModel, CSSStyleDeclaration>): this {\r\n        for (const name in value)\r\n            this.bind(value[name], a => this.element.style[name] = a);\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attribs(value: { [key: string]: BindValue<TModel, string | number | boolean> }): this {\r\n\r\n        for (const name in value)\r\n            this.set(name, value[name]);\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    debugger(): this {\r\n\r\n        debugger;\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createElement<TKey extends keyof HTMLElementTagNameMap>(name: TKey, namespace?: string): HTMLElementTagNameMap[TKey] {\r\n        if (!namespace)\r\n            namespace = this.namespace;\r\n        if (namespace)\r\n            return document.createElementNS(namespace, name) as HTMLElementTagNameMap[TKey];\r\n        return document.createElement(name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createMarker(obj: any, baseName: string = \"\"): string {\r\n\r\n        return undefined;\r\n\r\n        if (typeof obj == \"function\")\r\n            return this.createMarker(obj(this.model), baseName);\r\n\r\n        if (typeof obj == \"string\")\r\n            return baseName + obj;\r\n\r\n        if (obj == null)\r\n            return baseName + \"null\";\r\n\r\n        return this.createMarker(getTypeName(obj), baseName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    namespace: string = null;\r\n\r\n    element: TElement = null;\r\n\r\n    parent: TemplateBuilder<any> = null;\r\n\r\n    isInline: boolean = false;\r\n\r\n    inlineMode: TemplateInlineMode = \"never\";\r\n\r\n    index: number = 0;\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nclass ChildTemplateBuilder<TModel, TElement extends HTMLElement, TParent extends TemplateBuilder<TModel>> extends TemplateBuilder<TModel, TElement> {\r\n\r\n    constructor(model: TModel, element: TElement, parent?: TParent) {\r\n        super(model, element, parent);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    endChild(): TParent {\r\n\r\n        if (this.parent.element != this.element)\r\n            this.parent.appendChild(this.element);\r\n        else {\r\n\r\n            if (this._lastElement)\r\n                this.parent[\"_lastElement\"] = this._lastElement;\r\n        }\r\n\r\n        return <TParent>this.parent;\r\n    }\r\n}\r\n\r\n","﻿import { getBaseType, getType } from \"../Core/Utils/ObjectUtils\";\r\nimport { CatalogTemplate } from \"./Abstraction/ITemplateProvider\";\r\nimport { Properties } from \"./Properties\";\r\nimport { TemplateBuilder } from \"./TemplateBuilder\";\r\n\r\nexport function model<T extends Object>(obj: T): T {\r\n    Properties.createAll(obj);\r\n    return obj;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function template<TModel>(root: HTMLElement, template: CatalogTemplate<TModel>, model: TModel) {\r\n\r\n    root.innerHTML = \"\";\r\n\r\n    const builder = new TemplateBuilder(model, root);\r\n\r\n    builder.begin();\r\n\r\n    builder.loadTemplate(template)(builder);\r\n\r\n    builder.end();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function setEnumerable<T>(obj: T, propName: keyof T) {\r\n    let curType = getType(obj); \r\n    while (true) {\r\n        const desc = Object.getOwnPropertyDescriptor(curType.prototype, propName);\r\n        if (desc) {\r\n            if (!desc.enumerable) {\r\n                desc.enumerable = true;\r\n                Object.defineProperty(obj, propName, desc);\r\n            }\r\n            return;\r\n        } \r\n        curType = getBaseType(curType);\r\n    }\r\n}","import { IList } from \"../Core/Abstraction/IList\";\r\nimport { EqualityComparer } from \"../Core/Types/Types\";\r\nimport { IObservableList, IObservableListHandler } from \"./Abstraction/IObservableList\";\r\n\r\nexport class ObservableList<T> implements IObservableList<T> {\r\n\r\n    protected _items: T[] = [];\r\n    protected _handlers: IObservableListHandler<T>[];\r\n\r\n    /****************************************/\r\n\r\n    constructor(items?: T[], equalityComparer?: EqualityComparer<T>) {\r\n\r\n        this._items = items || [];\r\n        this.equalityComparer = equalityComparer;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    add<T2 extends T>(item: T2): T2 {\r\n        this._items.push(item);\r\n        this.invoke(a => a.onItemAdded ? a.onItemAdded(item, this._items.length - 1, \"add\") : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n        return item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addRange(items: Iterable<T>) {\r\n        for (const item of items) {\r\n            this._items.push(item);\r\n            this.invoke(a => a.onItemAdded ? a.onItemAdded(item, this._items.length - 1, \"add\") : undefined);\r\n        }\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    insert<T2 extends T>(index: number, item: T2): T2 {\r\n        this._items.splice(index, 0, item);\r\n        this.invoke(a => a.onItemAdded ? a.onItemAdded(item, index, \"insert\") : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n        return item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove(item: T) {\r\n        const index = this.indexOf(item);\r\n        if (index != -1)\r\n            this.removeAt(index);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeWhen(condition: (T) => boolean) {\r\n        for (let i = this._items.length - 1; i >= 0; i--) {\r\n            if (condition(this._items[i]))\r\n                this.removeAt(i);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeRange(startIndex: number, count: number) {\r\n\r\n        const items = this._items.splice(startIndex, count);\r\n\r\n        let isChanged = false;\r\n\r\n        for (let i = items.length - 1; i >= 0; i--) {\r\n            this.invoke(a => a.onItemRemoved ? a.onItemRemoved(items[i], startIndex + i, \"remove\") : undefined);\r\n            isChanged = true;\r\n        }\r\n\r\n        if (isChanged)\r\n            this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n\r\n        return items;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeAt(index: number): T {\r\n        const item = this._items.splice(index, 1)[0];\r\n        this.invoke(a => a.onItemRemoved ? a.onItemRemoved(item, index, \"remove\") : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n        return item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n\r\n        if (this._items.length == 0)\r\n            return;\r\n\r\n        for (let i = this._items.length - 1; i >= 0; i--)\r\n            this.invoke(a => a.onItemRemoved ? a.onItemRemoved(this._items[i], i, \"clear\") : undefined);\r\n\r\n        this._items.splice(0, this._items.length);\r\n        this.invoke(a => a.onClear ? a.onClear() : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    contains(item: T): boolean {\r\n        return this.indexOf(item) != -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    indexOf(item: T): number {\r\n\r\n        if (this.equalityComparer) {\r\n\r\n            for (let i = 0; i < this._items.length; i++) {\r\n                if (this.equalityComparer(item, this._items[i]))\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        return this._items.indexOf(item);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    *[Symbol.iterator](): Iterator<T> {\r\n        for (const item of this._items)\r\n            yield item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toArray(): T[] {\r\n        return this._items;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(index: number): T {\r\n        return this._items[index];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set(index: number, value: T) {\r\n        const oldItem = this._items[index];\r\n        if (oldItem == value)\r\n            return;\r\n        this.invoke(a => a.onItemRemoved ? a.onItemRemoved(oldItem, index, \"replace\") : undefined);\r\n        this._items[index] = value;\r\n        this.invoke(a => a.onItemAdded ? a.onItemAdded(value, index, \"replace\") : undefined);\r\n        this.invoke(a => a.onItemReplaced ? a.onItemReplaced(value, oldItem, index) : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    swap(index: number, newIndex: number): void {\r\n        const temp = this._items[newIndex];\r\n        this._items[newIndex] = this._items[index];\r\n        this._items[index] = temp;\r\n        this.invoke(a => a.onItemSwap ? a.onItemSwap(index, newIndex) : undefined);\r\n        this.invoke(a => a.onChanged ? a.onChanged() : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    subscribe(handler: IObservableListHandler<T>) {\r\n        if (!this._handlers)\r\n            this._handlers = [];\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index == -1)\r\n            this._handlers.push(handler);\r\n        return handler;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    unsubscribe(handler: IObservableListHandler<T>) {\r\n        if (!this._handlers)\r\n            return;\r\n        const index = this._handlers.indexOf(handler);\r\n        if (index != -1)\r\n            this._handlers.splice(index, 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    forEach(action: (item: T, index?: number) => void) {\r\n        let index = 0;\r\n        for (const item of this) {\r\n            action(item, index);\r\n            index++;\r\n        }\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected invoke(action: (hander: IObservableListHandler<T>) => void) {\r\n\r\n        if (!this._handlers)\r\n            return;\r\n        this._handlers.forEach(handler =>\r\n            action(handler));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get first() {\r\n        return this._items[0];\r\n    }\r\n\r\n    get last() {\r\n        return this._items[this._items.length -1];\r\n    }\r\n\r\n    get count() {\r\n        return this._items.length;\r\n    }\r\n\r\n    toJSON() {\r\n        return this._items;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    equalityComparer: EqualityComparer<T>;\r\n}\r\n/****************************************/\r\n\r\nexport function listOf<T>(items?: T[]): IList<T> {\r\n    return new ObservableList(items);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport  function observableListOf<T>(items?: T[], equalityComparer?: EqualityComparer<T>): IObservableList<T> {\r\n    return new ObservableList(items, equalityComparer);\r\n}\r\n","import { linq } from \"../Core/Linq\";\r\n\r\nexport interface IMatchResult<T> {\r\n    rank: number;\r\n    value: T;\r\n}\r\n\r\nexport interface ISearchPart { \r\n    weight: number; \r\n    text: string;\r\n}\r\n \r\n/****************************************/\r\n\r\nexport abstract class BaseSearch<TValue> {\r\n\r\n    searchAsync(query: string, chunkSize: number = 25): Promise<TValue[]> {\r\n\r\n        if (!query)\r\n            query = \"\";\r\n        const queryParts = linq(query.toLowerCase().split(\" \")).select(a => a.trim()).where(a => a != \"\").toArray();\r\n\r\n        const result: IMatchResult<TValue>[] = [];\r\n\r\n        if (queryParts.length > 0)\r\n            this.doSearch(queryParts, result);\r\n\r\n        return linq(result).orderByDesc(a => a.rank).select(a => a.value).toArrayAsync(chunkSize);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected macthWeight(keyword: string, text: string) {\r\n\r\n        if (!text)\r\n            return 0;\r\n\r\n        if (typeof text != \"string\")\r\n            text = (text as object).toString();\r\n\r\n        text = text.toLowerCase();\r\n\r\n        const index = text.indexOf(keyword);\r\n\r\n        if (index == -1)\r\n            return 0;\r\n\r\n        return (text.length == keyword.length ? 1 : (text.length - keyword.length - index) / (text.length - keyword.length)) +\r\n            (text.length - keyword.length) / text.length\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected abstract getSearchParts(value: TValue): Iterable<ISearchPart>;\r\n\r\n    protected abstract doSearch(queryParts: string[], result: IMatchResult<TValue>[]);\r\n\r\n    /****************************************/\r\n\r\n    protected matchValue(value: TValue, queryParts: string[]): number {\r\n\r\n        if (queryParts.length == 0)\r\n            return 1;\r\n\r\n        let totWeight: number = 0;\r\n\r\n        for (const qPart of queryParts) {\r\n\r\n            let partWeight = 0;\r\n\r\n            for (const valuePart of this.getSearchParts(value))\r\n                partWeight += this.macthWeight(qPart, valuePart.text) * valuePart.weight ?? 1;\r\n\r\n            if (partWeight == 0)\r\n                return 0;\r\n\r\n            totWeight += partWeight;\r\n        }\r\n\r\n        return totWeight;\r\n    }\r\n}","﻿import { App, Services } from \"../Core/Global\";\r\nimport { Format } from \"../Core/Helpers/Format\";\r\nimport { Uri } from \"../Core/Helpers/Uri\";\r\nimport { Signal } from \"../Core/Types/Signal\";\r\nimport { TimeSpan } from \"../Core/Types/TimeSpan\";\r\nimport { Type } from \"../Core/Types/Types\";\r\nimport { IProperties } from \"../Templating/Abstraction/IProperties\";\r\nimport { IPage } from \"./Abstraction/IPage\";\r\nimport { IMultiPageHost, IPageLoadOptions } from \"./Abstraction/IPageHost\";\r\nimport { IView } from \"./Abstraction/IView\";\r\nimport { IViewApplication } from \"./Abstraction/IViewApplication\";\r\n\r\ninterface IHistoryState {\r\n    index: number;\r\n    sessionId: string;\r\n}\r\n\r\nexport class HistoryPageHost implements IMultiPageHost {\r\n\r\n    protected _startHistoryIndex: number;\r\n    protected _isSyncing = 0;\r\n    protected _sessionId: string;\r\n    protected _backSignal = new Signal();\r\n    protected _isFirstPage = true;\r\n\r\n    constructor(innerHost: IMultiPageHost) {\r\n\r\n        this.innerHost = innerHost;\r\n\r\n        this._startHistoryIndex = window.history.length;\r\n        this._sessionId = new Date().getTime().toString();\r\n\r\n        window.addEventListener(\"popstate\", ev => this.onPopState(ev.state));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async onPopState(state: IHistoryState) {\r\n\r\n        console.debug(\"begin popState: \", state, \" isSyncing: \", this._isSyncing);\r\n        if (this._isSyncing)\r\n            return;\r\n\r\n        if (state)\r\n            await this.goToAsync(state.index);\r\n\r\n        this._backSignal.set();\r\n\r\n        console.debug(\"end popState: \", state);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onStateChanged(page: IPage) {\r\n\r\n        if (this._isSyncing)\r\n            return;\r\n\r\n        if (page == this.current)\r\n            this.updateState();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateState(isNew: boolean = false) {\r\n\r\n        if (!this.current) {\r\n            window.history.replaceState(window.history.state, \"\", \"/\");\r\n            document.title = \"\";\r\n            return;\r\n        }\r\n\r\n        const title = (App as IViewApplication).formatTitle(this.current.title);\r\n\r\n        const url = this.current.url ? Uri.absolute(Format.replaceArgs(this.current.url, App.startupArgs)) : null;\r\n\r\n        this.registerPageView();\r\n\r\n        if (isNew) {\r\n\r\n            const curState = <IHistoryState>{\r\n                sessionId: this._sessionId,\r\n                index: this.currentIndex\r\n            };\r\n\r\n            window.history.pushState(curState, title, url);\r\n        }\r\n        else\r\n            window.history.replaceState(window.history.state, title, url);\r\n\r\n        document.title = title;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected registerPageView() {\r\n\r\n        const url = this.current.url ? Uri.absolute(Format.replaceArgs(this.current.url, App.startupArgs)) : null;\r\n\r\n        if ((url != document.location.href || this._isFirstPage) && this.current.url) {\r\n            const relUrl = Format.replaceArgs(this.current.url, App.startupArgs).replace(\"~/\", \"\");\r\n            if (Services.analytics)\r\n                Services.analytics.pageView(relUrl);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async clearAsync() {\r\n\r\n        await this.innerHost.clearAsync();\r\n\r\n        await this.syncHistoryAsync();\r\n\r\n        this._isSyncing++;\r\n\r\n        window.history.pushState(null, null, null);\r\n\r\n        window.history.go(-1);\r\n\r\n        this._isSyncing--;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(index: number) : IPage<IView> {\r\n        return this.innerHost.get(index);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async goBackAsync() {\r\n\r\n        if (this.currentIndex > 0) {\r\n\r\n            console.debug(\"begin goBack\");\r\n\r\n            this._backSignal.reset();\r\n\r\n            window.history.back();\r\n\r\n            const waitRes = await this._backSignal.waitFor(TimeSpan.fromMilliseconds(500));\r\n\r\n            console.debug(\"end goBack: \", waitRes);\r\n        }\r\n        else {\r\n            await this.clearAsync();\r\n            await (App as IViewApplication).mainAsync();\r\n        }\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    goForwardAsync(): Promise<void> {\r\n        window.history.forward();\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async goToAsync(index: number) {\r\n\r\n        await this.innerHost.goToAsync(index);\r\n\r\n        this.updateState();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async syncHistoryAsync() {\r\n\r\n        if (this._isSyncing)\r\n            return;\r\n\r\n        this._isSyncing++;\r\n\r\n        try {\r\n\r\n            let curState = <IHistoryState>window.history.state;\r\n\r\n            while (curState && curState.sessionId == this._sessionId && curState.index > 0) {\r\n\r\n                this._backSignal.reset();\r\n\r\n                window.history.back();\r\n\r\n                await this._backSignal.waitFor(TimeSpan.fromMilliseconds(500));\r\n\r\n                curState = <IHistoryState>window.history.state;\r\n            }\r\n\r\n            let curIndex = 0;\r\n\r\n            while (curIndex < this.pageCount) {\r\n\r\n                const curPage = this.get(curIndex);\r\n\r\n                const title = (App as IViewApplication).formatTitle(curPage.title);\r\n                const url = curPage.url ? Uri.absolute(Format.replaceArgs(curPage.url, App.startupArgs)) : null;\r\n\r\n                curState = {\r\n                    sessionId: this._sessionId,\r\n                    index: curIndex\r\n                };\r\n\r\n                if (curIndex == 0)\r\n                    window.history.replaceState(curState, title, url);\r\n                else\r\n                    window.history.pushState(curState, title, url);\r\n\r\n                if (curIndex == this.currentIndex)\r\n                    document.title = title;\r\n\r\n                curIndex++;\r\n            }\r\n\r\n            const delta = this.currentIndex - (this.pageCount - 1);\r\n\r\n            if (delta < 0)\r\n                window.history.go(delta);\r\n        }\r\n        finally {\r\n            this._isSyncing--;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadAsync<TPage extends IPage>(page: TPage, options?: IPageLoadOptions): Promise<TPage> {\r\n\r\n        const curState = <IHistoryState>window.history.state;\r\n\r\n        const inSync = curState && curState.sessionId == this._sessionId && curState.index == this.currentIndex;\r\n\r\n        await this.innerHost.loadAsync(page, options);\r\n\r\n        (page as IProperties & TPage).prop(\"title\").subscribe(a => this.onStateChanged(page));\r\n        (page as IProperties & TPage).prop(\"url\").subscribe(a => this.onStateChanged(page));\r\n\r\n        page.host = this;\r\n\r\n        if (inSync)\r\n            this.updateState(true);\r\n        else {\r\n            await this.syncHistoryAsync();\r\n\r\n            this.registerPageView();\r\n        }\r\n\r\n        this._isFirstPage = false;\r\n\r\n        return page;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    find<TPage extends IPage>(type: Type<TPage>): TPage;\r\n\r\n    find<TPage extends IPage>(name: string): TPage;\r\n\r\n    find<TPage extends IPage>(nameOrType: string | Type<TPage>): TPage {\r\n        return this.innerHost.find(nameOrType as Type<TPage>);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async bringFrontAsync(page: IPage) {\r\n\r\n        await this.innerHost.bringFrontAsync(page);\r\n\r\n        await this.syncHistoryAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get currentIndex(): number {\r\n        return this.innerHost.currentIndex;\r\n    }\r\n\r\n    set setCurrentIndex(value: number) {\r\n        this.innerHost.currentIndex = value;\r\n        this.syncHistoryAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): IPage {\r\n        return this.innerHost.current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get pageCount(): number {\r\n        return this.innerHost.pageCount;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get canGoBack(): boolean {\r\n        return this.innerHost.canGoBack || (App as IViewApplication).hasMain;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    innerHost: IMultiPageHost;\r\n\r\n}","﻿import { getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport interface IViewConfig {\r\n\r\n    template?: Bindable<CatalogTemplate<IView>>;\r\n\r\n    parentView?: IView;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class View extends BindableObject implements IView {\r\n\r\n    constructor(config?: IViewConfig) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"template\", config);\r\n\r\n        if (!this.template)\r\n            this.template = getTypeName(this);\r\n\r\n        if (config) {\r\n            if (config.parentView)\r\n                this.parentView = config.parentView;\r\n        }\r\n\r\n        this.debugTypeName();\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected debugTypeName() {\r\n\r\n        const curName = this.constructor.name;\r\n        const regName = this.constructor[\"@typeName\"];\r\n        if (!regName)\r\n            console.warn(\"Type '\" + curName + \"' is not registered.\")\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    template: CatalogTemplate<this> = null;\r\n\r\n    parentView: IView = null;\r\n\r\n    element: HTMLElement;\r\n}\r\n\r\n\r\nregisterType(View, \"View\");","import \"Templates/OperationView.html\";\r\n\r\nimport { IOperation, IOperationProgress, OperationType } from \"../Core/Abstraction/IOperation\";\r\nimport { IOperationConfig, IOperationManager } from \"../Core/Abstraction/IOperationManager\";\r\nimport { isObject, isString } from \"../Core/Helpers/TypeCheck\";\r\nimport { LocalString } from \"../Core/Types/DynamicString\";\r\nimport { listOf } from \"../Templating/ObservableList\";\r\nimport { IViewConfig, View } from \"./Components/View\";\r\nimport { AppEvent, event } from \"../Core/Types/Event\";\r\nimport { IList } from \"../Core/Abstraction/IList\";\r\nimport { IViewApplication } from \"./Abstraction/IViewApplication\";\r\nimport { App, Services } from \"../Core/Global\";\r\nimport { registerType } from \"../Core/Utils/ObjectUtils\";\r\nimport { Format } from \"../Core/Helpers/Format\";\r\nimport { round } from \"../Core/Utils/MathUtils\";\r\n\r\nexport interface IOperationViewConfig extends IOperationConfig, IViewConfig {\r\n\r\n    type?: OperationType;\r\n\r\n    parentOperation?: IOperation;\r\n} \r\n\r\n/****************************************/\r\n\r\nclass OperationView extends View implements IOperation {\r\n\r\n    private _progress: IOperationProgress;\r\n    private _type: OperationType;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config: IOperationViewConfig) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"message\", config);\r\n\r\n        if (!config.type)\r\n            this._type = OperationType.Global;\r\n        else\r\n            this._type = config.type;\r\n\r\n        this.parentOperation = config.parentOperation;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    end(): void {\r\n        Services.operation.end(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get type(): OperationType {\r\n        return this._type;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get progress(): IOperationProgress {\r\n        return this._progress;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set progress(value: IOperationProgress) {\r\n\r\n        this._progress = value;\r\n\r\n        if (this._progress) {\r\n\r\n            console.log(this.getProgressDescription(this._progress));\r\n\r\n            if (this._progress.message)\r\n                this.message = Format.text(this._progress.message);\r\n        }\r\n        else\r\n            this.message = undefined;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addSubOperation(operation: IOperation) {\r\n        this.subOperations.add(operation);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeSubOperation(operation: IOperation) {\r\n        this.subOperations.remove(operation);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getProgressDescription(value: IOperationProgress): string {\r\n\r\n        let msg = \"Progress: \";\r\n\r\n        if (value.message)\r\n            msg += \"'\" + value.message + \"'\";\r\n\r\n        if (value.current != null && value.totCount != null)\r\n            msg += \" - \" + value.current + \"/\" + value.totCount + \" (\" + round(100 / value.totCount * value.current, 1) + \"%)\";\r\n\r\n        return msg;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly subOperations = listOf<IOperation>();\r\n\r\n    message: string = null;\r\n\r\n    parentOperation: IOperation = null;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ViewOperationManager implements IOperationManager {\r\n\r\n    progress(progress: IOperationProgress | string) {\r\n\r\n        if (isString(progress))\r\n            progress = { message: progress } as IOperationProgress;\r\n\r\n        if (this.current) {\r\n\r\n            this.current.progress = progress;\r\n\r\n            this.onProgress.raise(this, {\r\n                operation: this.current,\r\n                progress: progress\r\n            });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    begin(configOrMessge: IOperationViewConfig | LocalString): IOperation {\r\n\r\n        if (!isObject(configOrMessge))\r\n            configOrMessge = { message: configOrMessge } as IOperationProgress;\r\n\r\n        const operation = new OperationView(configOrMessge as IOperationViewConfig);\r\n\r\n        console.group(\"Begin operation: \", operation.message);\r\n\r\n        operation.progress = configOrMessge as IOperationViewConfig;\r\n\r\n        if (operation.parentOperation === undefined)\r\n            operation.parentOperation = this.current;\r\n\r\n        this.operations.add(operation);\r\n\r\n        if (operation.parentOperation)\r\n            operation.parentOperation.addSubOperation(operation);\r\n\r\n        if (operation.type != OperationType.Local) {\r\n\r\n            const view = (configOrMessge as IOperationViewConfig).showProgress ? new View({\r\n                template: t => t.template(\"OperationView\", operation)\r\n            }) : undefined;\r\n\r\n            (App as IViewApplication).block(view);\r\n        }\r\n\r\n        return operation;\r\n    } \r\n\r\n    /****************************************/\r\n\r\n    end(operation: IOperation) {\r\n\r\n        console.groupEnd();\r\n\r\n        console.log(\"End operation: \", operation.message);\r\n\r\n        this.operations.remove(operation);\r\n\r\n        if (operation.parentOperation)\r\n            operation.parentOperation.removeSubOperation(operation);\r\n\r\n        if (operation.type != OperationType.Local)\r\n            (App as IViewApplication).unblock();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): IOperation {\r\n        return this.operations.count > 0 ? this.operations.get(this.operations.count - 1) : null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly operations: IList<IOperation> = listOf();\r\n\r\n    readonly onBegin: AppEvent<IOperation> = event();\r\n\r\n    readonly onEnd: AppEvent<IOperation> = event();\r\n\r\n    readonly onProgress: AppEvent<{ operation: IOperation, progress: IOperationProgress }> = event();\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nregisterType(OperationView, \"OperationView\");","﻿import { IList } from \"../../Core/Abstraction/IList\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { isUpperCase } from \"../../Core/Utils/StringUtils\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { isAsyncLoad } from \"./TypeCheck\";\r\n\r\nexport async function loadAllAsync<T>(items: T[] | IList<T> | Iterator<T>) {\r\n\r\n    const loaders = linq(items as any).ofType<IAsyncLoad>(a => isAsyncLoad(a)).select(a => a.loadAsync()).toArray();\r\n\r\n    return await Promise.all(loaders);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function formatForCss(name: string): string {\r\n    let s = 0;\r\n    let result = \"\";\r\n    for (let i = 0; i < name.length; i++) {\r\n        const c = name.charAt(i);\r\n        switch (s) {\r\n            //upper mode or begin \r\n            case 0:\r\n                result += c.toLowerCase();\r\n                if (!isUpperCase(c) || c == \"-\")\r\n                    s = 1;\r\n                break;\r\n            //first-mode\r\n            case 1:\r\n                if (isUpperCase(c) && c != \"-\") {\r\n                    result += \"-\";\r\n                    s = 0;\r\n                }\r\n                result += c.toLowerCase();\r\n                break;\r\n        }\r\n    }\r\n    return result;\r\n}","import { Type } from \"../../Core/Types/Types\";\r\nimport { getBaseType, getType, getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLContainer } from \"../Abstraction/IHTMLContainer\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewComponent } from \"../Abstraction/IViewComponent\";\r\nimport { formatForCss } from \"../Helpers/ViewUtils\";\r\nimport { IViewConfig, View } from \"./View\";\r\n\r\nexport interface IViewComponentConfig extends IViewConfig {\r\n\r\n    name?: string;\r\n\r\n    enabled?: Bindable<boolean>;\r\n\r\n    visible?: Bindable<boolean>;\r\n\r\n    styles?: ViewStyle[];\r\n}\r\n\r\nexport type ViewComponentStatus = \"\" | \"hidden\" | string;\r\n\r\n/****************************************/\r\n\r\nexport class ViewComponent extends View implements IViewComponent, IHTMLContainer {\r\n\r\n    constructor(config?: IViewComponentConfig) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"enabled\", config);\r\n\r\n        this.bindConfig(\"visible\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.styles)\r\n                this.styles = config.styles;\r\n\r\n            if (config.name)\r\n                this.name = config.name;\r\n        }\r\n\r\n        this.prop(\"styles\").subscribe(() => this.buildStyles());\r\n\r\n        this.buildStyles();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addStyle(value: ViewStyle) {\r\n        if (this.styles.indexOf(value) != -1)\r\n            return;\r\n        this.styles.push(value);\r\n        this.buildStyles();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeStyle(value: ViewStyle) {\r\n        const index = this.styles.indexOf(value);\r\n        if (index == -1)\r\n            return;\r\n        this.styles.splice(index, 1);\r\n        this.buildStyles();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    buildStyles() {\r\n\r\n        let result = \"\";\r\n\r\n        let curType: Type<any> = getType(this);\r\n\r\n        while (curType != ViewComponent) {\r\n            const typeName = getTypeName(curType);\r\n            result += formatForCss(typeName) + \" \";\r\n            curType = getBaseType(curType);\r\n        }\r\n\r\n        if (this.name)\r\n            result += formatForCss(this.name) + \" \";\r\n\r\n        if (this.styles)\r\n            result += this.styles.join(\" \");\r\n\r\n        this.className = result.trim();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get debugName() {\r\n        return getTypeName(this) + \": \" + this.name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    enabled: boolean = true;\r\n\r\n    visible: boolean = true;\r\n\r\n    styles: ViewStyle[] = [];\r\n\r\n    name: string = null;\r\n\r\n    nodes: Node[] = null;\r\n\r\n    isCacheEnabled: boolean = false;\r\n\r\n    className: string;\r\n\r\n    status: ViewComponentStatus = \"\";\r\n\r\n}\r\n\r\n\r\nregisterType(ViewComponent, \"ViewComponent\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IContentView } from \"../Abstraction/IContentView\";\r\nimport { isView } from \"../Helpers/TypeCheck\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface IContentViewConfig<TContent> extends IViewComponentConfig {\r\n\r\n    content?: Bindable<TContent>;\r\n\r\n    contentTemplate?: CatalogTemplate<TContent>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ContentView<TContent = any> extends ViewComponent implements IContentView<TContent> {\r\n\r\n    constructor(config?: IContentViewConfig<TContent>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"content\", config, null, () => this.onContentChanged());\r\n\r\n        this.bindConfig(\"contentTemplate\", config);\r\n\r\n        if (this.contentTemplate) \r\n            this.template = t => t.template(t.model.contentTemplate, t.model.content);\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected onContentChanged() {\r\n\r\n        if (isView(this.content))\r\n            this.content.parentView = this;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    content: TContent = null;\r\n\r\n    contentTemplate: CatalogTemplate<TContent> = null;\r\n}\r\n\r\nregisterType(ContentView, \"ContentView\");","import { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport \"Templates/ContextMenu.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IContextMenuConfig {\r\n\r\n    actions?: IAction[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ContextMenu extends BindableObject {\r\n\r\n    private _menuContainer: HTMLElement;\r\n    private _clickHandler;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: IContextMenuConfig) {\r\n        super();\r\n\r\n        if (config) {\r\n            if (config.actions)\r\n                config.actions.forEach(a => this.addAction(a));\r\n        }\r\n\r\n        this._menuContainer = document.createElement(\"DIV\");\r\n        this._menuContainer.className = \"popup-container\";\r\n\r\n        this._clickHandler = this.onClick.bind(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n\r\n        this.actions.add(ActionView.fromAction(action));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync(element?: HTMLElement, event?: MouseEvent|TouchEvent|PointerEvent) {\r\n\r\n        const curOfs = { x: 0, y: 0 };\r\n\r\n        if (!element && event) {\r\n\r\n            if (event instanceof MouseEvent) {\r\n                element = event.srcElement as HTMLElement;\r\n                curOfs.x = event.offsetX;\r\n                curOfs.y = event.offsetY;\r\n            }\r\n            else {\r\n                curOfs.x = event.touches[0].clientX;\r\n                curOfs.y = event.touches[0].clientY;\r\n            }\r\n        }\r\n\r\n        const builder = new TemplateBuilder(this, this._menuContainer);\r\n\r\n        builder.template(\"ContextMenu\", a => a);\r\n\r\n        document.body.appendChild(this._menuContainer);\r\n\r\n        await delayAsync(0);\r\n\r\n        window.addEventListener(\"pointerdown\", this._clickHandler);\r\n\r\n        if (element) {\r\n\r\n            let curEl = element;\r\n            let offsetEl = element;\r\n\r\n            while (curEl) {\r\n                if (curEl == offsetEl) {\r\n                    curOfs.y += curEl.offsetTop;\r\n                    curOfs.x += curEl.offsetLeft;\r\n                    offsetEl = <HTMLElement>curEl.offsetParent;\r\n                }\r\n                curOfs.y -= curEl.scrollTop;\r\n                curOfs.x -= curEl.scrollLeft;\r\n                curEl = curEl.parentElement;\r\n            }\r\n        }\r\n\r\n        let xTrans = \"\";\r\n        let yTrans = \"\";\r\n\r\n        if (curOfs.x + this._menuContainer.clientWidth > document.body.clientWidth) {\r\n            curOfs.x -= this._menuContainer.clientWidth;\r\n            xTrans = \"right\";\r\n        }\r\n        else\r\n            xTrans = \"left\";\r\n\r\n        if (curOfs.y + this._menuContainer.clientHeight > document.body.clientHeight) {\r\n            curOfs.y -= this._menuContainer.clientHeight;\r\n            yTrans = \"bottom\";\r\n        }\r\n        else\r\n            yTrans = \"top\";\r\n\r\n        this._menuContainer.style.top = curOfs.y + \"px\";\r\n        this._menuContainer.style.left = curOfs.x + \"px\";\r\n        this._menuContainer.style.transformOrigin = xTrans + \" \" + yTrans;\r\n\r\n        await delayAsync(0);\r\n\r\n        this._menuContainer.classList.add(\"visible\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hide() {\r\n\r\n        this._menuContainer.classList.remove(\"visible\");\r\n\r\n        window.removeEventListener(\"pointerdown\", this._clickHandler);\r\n\r\n        setTimeout(() => document.body.removeChild(this._menuContainer), 500);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onClick(e: MouseEvent) {\r\n        setTimeout(() => this.hide(), 200);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    className: string = \"context-menu\";\r\n}\r\n\r\nregisterType(ContextMenu, \"ContextMenu\");","﻿import { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport \"Templates/IconTextView.html\";\r\nimport \"Templates/Icon.html\";\r\n\r\nexport interface IIconTextViewConfig extends IViewComponentConfig {\r\n\r\n    icon?: Bindable<string>;\r\n\r\n    text?: Bindable<LocalString>;\r\n\r\n    badge?: Bindable<LocalString>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class IconTextView extends ViewComponent {\r\n\r\n    constructor(config?: IIconTextViewConfig) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"icon\", config);\r\n\r\n        this.bindConfigString(\"text\", config);\r\n\r\n        this.bindConfigString(\"badge\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    icon: string = null;\r\n\r\n    text: string = null;\r\n\r\n    badge: string = null;\r\n}\r\n\r\nregisterType(IconTextView, \"IconTextView\");","import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { IAsyncTask } from \"../../Core/Abstraction/ITask\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable, Properties } from \"../../Templating/Properties\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IItemAction } from \"../Abstraction/IItemAction\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { ContextMenu } from \"./ContextMenu\";\r\nimport { IconTextView } from \"./IconTextView\";\r\nimport \"Templates/ActionView.html\";\r\nimport { App, Services } from \"../../Core/Global\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { linq } from \"../../Core/Linq\";\r\n\r\nexport interface IActionViewConfig<TContent = any> extends IContentViewConfig<TContent> {\r\n\r\n    name?: string;\r\n\r\n    operation?: OperationType;\r\n\r\n    tooltip?: Bindable<LocalString>;\r\n\r\n    subActions?: IActionViewConfig<any>[];\r\n\r\n    canAggregate?: AggregationMode;\r\n\r\n    executeAsync?: (container: ActionView) => Promise<any>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport enum AggregationMode {\r\n    None,\r\n    Parallel,\r\n    Serial\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ActionView<TContent = any> extends ContentView<TContent>  {\r\n\r\n    constructor(config?: IActionViewConfig<TContent>) {\r\n\r\n        super({ template: \"ActionLink\", ...config });\r\n\r\n        this.bindConfigString(\"tooltip\", config, StringUsage.Tooltip);\r\n\r\n        this.bindConfig(\"operation\", config);\r\n\r\n        this.bindConfig(\"canAggregate\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.executeAsync)\r\n                this.executeWorkAsync = ()=> config.executeAsync(this);\r\n\r\n            if (config.subActions)\r\n                config.subActions.forEach(sub =>\r\n                    this.subActions.add(new ActionView(sub)));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async executeAsync(): Promise<any> {\r\n\r\n        if (window.event)\r\n            window.event.stopPropagation();\r\n\r\n        if (Services.analytics)\r\n            Services.analytics.action(this.name);\r\n\r\n        const op = Services.operation.begin({ message: \"Executing \" + this.name, type: this.operation });\r\n\r\n        this.status = \"executing\";\r\n        try {\r\n\r\n            await this.executeWorkAsync();\r\n\r\n            if (this.subActions.count > 0) {\r\n\r\n                const menu = new ContextMenu();\r\n                this.subActions.forEach(a => menu.actions.add(a));\r\n                menu.showAsync(window.event.srcElement as HTMLElement);\r\n            }\r\n        }\r\n        catch (ex) {\r\n            App.handleError(this, ex);\r\n            throw ex;\r\n        }\r\n        finally {\r\n            this.status = \"\";\r\n            op.end();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected executeWorkAsync(): Promise<any> {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromAction(action: IAction, config?: IActionViewConfig<any>): ActionView {\r\n\r\n        const actionViewConfig = (a: IAction) => ({\r\n            name: a.name,\r\n            operation: a.operation,\r\n            styles: a.styles,\r\n            template: \"ActionLink\",\r\n            subActions: a.subActions ? linq(a.subActions).select(b => actionViewConfig(b)).toArray() : undefined,\r\n            content: new IconTextView({\r\n                template: \"IconTextViewInline\",\r\n                text: Format.action(a.displayName ?? a.name),\r\n                icon: a.icon,\r\n                badge: a.badge\r\n            }),\r\n            executeAsync: a.executeAsync,\r\n            ...config\r\n        } as IActionViewConfig);\r\n\r\n        const result = new ActionView<IconTextView>(actionViewConfig(action));\r\n\r\n        if (action.canExecute)\r\n            Properties.converter(result, \"visible\", () => action.canExecute());\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromItemAction<TItem>(action: IItemAction<TItem>, getItem: () => TItem, config?: IActionViewConfig): ActionView {\r\n        const result = new ActionView({\r\n            name: action.name,\r\n            operation: action.operation,\r\n            styles: action.styles,\r\n            content: new IconTextView({\r\n                template: \"IconTextViewInline\",\r\n                text: Format.action(action.displayName ?? action.name),\r\n                icon: action.icon,\r\n                badge: action.badge\r\n            }),\r\n            executeAsync: () => action.executeAsync(getItem()),\r\n            ...config\r\n        });\r\n\r\n        if (action.canExecute)\r\n            result.bind(\"visible\", result.createComputed(() => action.canExecute(getItem())));\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromActionIcon(action: IAction, config?: IActionViewConfig): ActionView {\r\n        const result = new ActionView({\r\n            name: action.name,\r\n            styles: action.styles,\r\n            operation: action.operation,\r\n            template: \"ActionIcon\",\r\n            content: action.icon,\r\n            tooltip: action.displayName ?? action.name,\r\n            executeAsync: action.executeAsync,\r\n            ...config\r\n        });\r\n\r\n        if (action.canExecute)\r\n            result.bind(\"visible\", result.createComputed(() => action.canExecute()));\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    tooltip: string = null;\r\n\r\n    operation: OperationType = OperationType.Global;\r\n\r\n    canAggregate: AggregationMode = AggregationMode.None;\r\n\r\n    readonly subActions: IObservableList<ActionView> = observableListOf();\r\n}\r\n\r\nregisterType(ActionView, \"ActionView\");","﻿import { DynamicString } from \"../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../Templating/Abstraction/IObservableList\";\r\nimport { BindableObject } from \"../Templating/BindableObject\";\r\nimport { observableListOf } from \"../Templating/ObservableList\";\r\nimport { IItemAction } from \"./Abstraction/IItemAction\";\r\nimport { IMultiItemSelector } from \"./Abstraction/IMultiItemSelector\";\r\nimport { ISelectable } from \"./Abstraction/ISelectable\";\r\nimport { ActionView } from \"./Components/ActionView\";\r\n\r\nexport class SelectionManager<TItem extends ISelectable> extends BindableObject implements IMultiItemSelector<TItem> {\r\n\r\n    constructor() {\r\n\r\n        super();\r\n\r\n        this.selectedItems.subscribe({\r\n            onChanged: () => {\r\n                this.updateView();\r\n                if (this.selectedItems.count == 0)\r\n                    this.close();\r\n            }\r\n        })\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    close() {\r\n\r\n        this.isActive = false;\r\n\r\n        for (var i = this.selectedItems.count - 1; i >= 0; i--)\r\n            this.selectedItems.get(i).isSelected = false;\r\n\r\n        this.selectedItems.clear();\r\n        this.actions.clear();\r\n        this.updateView();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    open() {\r\n\r\n        this.isActive = true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IItemAction<TItem[]>) {\r\n\r\n        const result = ActionView.fromItemAction(action, () => this.selectedItems.toArray());\r\n        this.actions.add(result);\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateView() {\r\n        this.selectionText = DynamicString.getValue(\"selection-count\", { params: [this.selectedItems.count.toString()], cardinality: this.selectedItems.count });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly selectedItems: IObservableList<TItem> = observableListOf();\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    selectionText: string = null;\r\n\r\n    isActive: boolean = false;\r\n}","﻿import { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport class AttachBehavoir implements IBehavoir<HTMLElement, IView & IHTMLAttach> {\r\n\r\n    attach(element: HTMLElement, viewModel?: IView & IHTMLAttach) {\r\n\r\n        if (\"attach\" in viewModel) {\r\n            setTimeout(() => viewModel.attach(element));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement, viewModel?: IView & IHTMLAttach) {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static readonly instance = new AttachBehavoir();\r\n}","﻿import { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport interface ILongPresssHandler {\r\n\r\n    onLongPress(ev: TouchEvent | MouseEvent);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class LongPressBehavoir implements IBehavoir<HTMLElement, IView & ILongPresssHandler> {\r\n\r\n    protected _handler: ILongPresssHandler;\r\n    protected _timer: number;\r\n    protected _cancelHandler: (ev: Event) => void;\r\n    protected _element: HTMLElement;\r\n    protected _isLongPress: boolean = false;\r\n\r\n    attach(element: HTMLElement, viewModel: ILongPresssHandler) {\r\n\r\n        this._handler = viewModel;\r\n        this._element = element;\r\n\r\n        this._cancelHandler = (ev: Event) => this.cancelTimer(ev);\r\n\r\n        element.addEventListener(\"touchstart\", ev => this.startTimer(ev), { passive: true });\r\n        element.addEventListener(\"mousedown\", ev => this.startTimer(ev), { passive: true });\r\n        element.addEventListener(\"selectstart\", () => false);\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement) {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private startTimer(ev: TouchEvent | MouseEvent) {\r\n\r\n        this._isLongPress = false;\r\n\r\n        this._element.addEventListener(\"touchmove\", this._cancelHandler, { passive: true });\r\n        this._element.addEventListener(\"touchend\", this._cancelHandler, { passive: true });\r\n        this._element.addEventListener(\"mousemove\", this._cancelHandler, { passive: true });\r\n        this._element.addEventListener(\"mouseup\", this._cancelHandler, { passive: true });\r\n\r\n\r\n        this._timer = window.setTimeout(() => {\r\n\r\n            this._isLongPress = true;\r\n\r\n            if (\"vibrate\" in navigator)\r\n                navigator.vibrate(50);\r\n\r\n            this._handler.onLongPress(ev);\r\n\r\n            this._timer = null;\r\n        }, 490)\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private cancelTimer(ev: Event) {\r\n\r\n        //alert('cancel');\r\n\r\n        if (this._isLongPress)\r\n            ev.stopPropagation();\r\n\r\n        if (this._timer) {\r\n            clearTimeout(this._timer);\r\n            this._timer = null;\r\n        }\r\n\r\n        this._element.removeEventListener(\"touchmove\", this._cancelHandler);\r\n        this._element.removeEventListener(\"touchend\", this._cancelHandler);\r\n        this._element.removeEventListener(\"mousemove\", this._cancelHandler);\r\n        this._element.removeEventListener(\"mouseup\", this._cancelHandler);\r\n    }\r\n}","﻿import { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\n\r\nexport class RippleClickBehavoir implements IBehavoir<HTMLElement> {\r\n\r\n    attach(element: HTMLElement) {\r\n        element.addEventListener(\"pointerdown\", this.onClick, { passive: true });\r\n        element.classList.add(\"ripple\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement) {\r\n        element.removeEventListener(\"pointerdown\", this.onClick);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async onClick(e: Event) {\r\n\r\n        const curTarget = <HTMLElement>e.currentTarget;\r\n        curTarget.classList.remove(\"activated\");\r\n\r\n        await delayAsync(0);\r\n\r\n        curTarget.classList.add(\"activated\");\r\n\r\n        await delayAsync(500);\r\n\r\n        if (curTarget.classList.contains(\"activated\"))\r\n            curTarget.classList.remove(\"activated\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static readonly instance = new RippleClickBehavoir();\r\n}","﻿import { parentOfClass } from \"../../Core/Utils/DomUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { IScrollListener } from \"../Abstraction/IScrollListener\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport class ScrollCheckBehavoir implements IBehavoir<HTMLElement, IView & IScrollListener> {\r\n\r\n    async attach(element: HTMLElement, viewModel?: IView & IScrollListener) {\r\n\r\n        await delayAsync(0);\r\n\r\n        const scrollParent = element.classList.contains(\"scroll\") || element.classList.contains(\"scroll-v\") ? element : parentOfClass(element, \"scroll\");\r\n\r\n        let isRequested = false;\r\n\r\n        function computeScroll() {\r\n\r\n            if (!viewModel.isScrollCheckActive || isRequested)\r\n                return;\r\n\r\n            isRequested = true;\r\n\r\n            requestAnimationFrame(() => {\r\n\r\n                let found = false;\r\n\r\n                if (scrollParent != document.scrollingElement) {\r\n\r\n                    let curItem: Node = element;\r\n                    found = false;\r\n                    while (curItem != null) {\r\n                        if (curItem == scrollParent) {\r\n                            found = true;\r\n                            break;\r\n                        }\r\n                        curItem = curItem.parentNode;\r\n                    }\r\n                }\r\n                else\r\n                    found = true;\r\n\r\n                if (!found)\r\n                    scrollParent.removeEventListener(\"scroll\", computeScroll);\r\n                else {\r\n\r\n                    viewModel.onScroll({\r\n                        offsetTop: scrollParent.scrollTop,\r\n                        offsetBottom: scrollParent.scrollHeight - (scrollParent.scrollTop + scrollParent.clientHeight),\r\n                        pageBottom: (scrollParent.scrollHeight - (scrollParent.scrollTop + scrollParent.clientHeight)) / scrollParent.clientHeight,\r\n                        pageTop: scrollParent.scrollTop / scrollParent.clientHeight,\r\n                        totPages: scrollParent.scrollHeight / scrollParent.clientHeight\r\n                    });\r\n                }\r\n\r\n                isRequested = false;\r\n            });\r\n        }\r\n\r\n        if (scrollParent != null) {\r\n            if (scrollParent == document.scrollingElement)\r\n                window.addEventListener(\"scroll\", computeScroll, { passive: true });\r\n            else\r\n                scrollParent.addEventListener(\"scroll\", computeScroll, { passive: true });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement, viewModel?: IView & IScrollListener) {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static readonly instance = new ScrollCheckBehavoir();\r\n}","﻿import { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\n\r\nexport class VibrateClickBehavoir implements IBehavoir<HTMLElement> {\r\n\r\n    attach(element: HTMLElement) {\r\n        element.addEventListener(\"click\", this.onClick);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement) {\r\n        element.removeEventListener(\"click\", this.onClick);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private onClick(e: Event) {\r\n        if (\"vibrate\" in navigator)\r\n            navigator.vibrate(50);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static readonly instance = new VibrateClickBehavoir();\r\n}","﻿import \"Templates/Spinner.html\";\r\n\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { ContentView } from \"./ContentView\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { View } from \"./View\";\r\n\r\nexport class Blocker extends ContentView<IView> implements IHTMLAttach {\r\n\r\n    constructor() {\r\n\r\n        super({\r\n            template: \"ContentViewNested\",\r\n            content: new View({template: \"Spinner\"}),\r\n        });\r\n\r\n        this.status = \"hide\";\r\n\r\n        const builder = new TemplateBuilder(this, document.body);\r\n\r\n        builder.content(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attach(element: HTMLElement) {\r\n\r\n        this.element = element;\r\n\r\n        element.addEventListener(\"mousedown\", e => e.preventDefault(), { passive: true });\r\n        element.addEventListener(\"touchstart\", e => e.preventDefault(), { passive: true });\r\n\r\n        if (this.status == \"hide\")\r\n            this.element.style.display = \"none\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync(content?: IView) {\r\n\r\n        if (this.element)\r\n            this.element.style.removeProperty(\"display\");\r\n\r\n        this.status = \"showing\"\r\n\r\n        if (content)\r\n            this.content = content;\r\n\r\n        await delayAsync(0);\r\n\r\n        if (this.status == \"showing\")\r\n            this.status = \"show\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async hideAsync() {\r\n\r\n        this.content = new View({ template: \"Spinner\" }),\r\n\r\n        this.status = \"hiding\";\r\n\r\n        await delayAsync(500);\r\n\r\n        if (this.status == \"hiding\") {\r\n            this.status = \"hide\";\r\n            if (this.element)\r\n                this.element.style.display = \"none\";\r\n        }\r\n    }\r\n}\r\n\r\nregisterType(Blocker, \"Blocker\");","﻿import { isString } from \"../../Core/Helpers/TypeCheck\";\r\nimport { Type } from \"../../Core/Types/Types\";\r\nimport { getType, getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IPage } from \"../Abstraction/IPage\";\r\nimport { IMultiPageHost, IPageLoadOptions } from \"../Abstraction/IPageHost\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { IContentViewConfig } from \"./ContentView\";\r\nimport { View } from \"./View\";\r\n\r\ninterface ISelfHostedPageHost extends IContentViewConfig<IView> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SelfHostedPageHost extends View implements IMultiPageHost {\r\n\r\n    private _parentHost: IMultiPageHost;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: ISelfHostedPageHost) {\r\n\r\n        super({ template: \"SinglePageHost\", ...config });\r\n\r\n        this._parentHost = window.parent[\"WebApp\"][\"app\"][\"pageHost\"];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(index: number) {\r\n        return this._parentHost.get(index);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clearAsync() {\r\n        this.current = null;\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    goBackAsync() {\r\n        return this._parentHost.goBackAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    goForwardAsync() {\r\n        return this._parentHost.goForwardAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    bringFrontAsync(page: IPage) {\r\n\r\n        if (page == this.current)\r\n            return Promise.resolve();\r\n        return this._parentHost.bringFrontAsync(page);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadAsync<TPage extends IPage>(page: TPage, options?: IPageLoadOptions): Promise<TPage> {\r\n\r\n        if (!this.current) {\r\n            page.host = this;\r\n            this.current = page;\r\n            page.loadAsync();\r\n            page.status = \"active\";\r\n            return Promise.resolve(page);\r\n        }\r\n        return this._parentHost.loadAsync(page, options);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    find<TPage extends IPage>(nameOrType: string | Type<TPage>): TPage {\r\n\r\n        if (this.current) {\r\n            if (isString(nameOrType) && nameOrType == getTypeName(this.current))\r\n                return <TPage>this.current;\r\n\r\n            if (getType(this.current) == nameOrType)\r\n                return <TPage>this.current;\r\n        }\r\n        return this._parentHost.find(nameOrType as Type<TPage>);\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    async goToAsync(index: number) {\r\n\r\n        this._parentHost.currentIndex = index;\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get canGoBack(): boolean {\r\n        return this._parentHost.canGoBack;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get currentIndex(): number {\r\n        return this._parentHost.currentIndex;\r\n    }\r\n\r\n    set currentIndex(value: number) {\r\n        this._parentHost.currentIndex = value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get pageCount(): number {\r\n        return this._parentHost.pageCount;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    current: IPage;\r\n}\r\n\r\n\r\n\r\nregisterType(SelfHostedPageHost, \"SelfHostedPageHost\");","import { IErrorHandler } from \"../../Core/Abstraction/IErrorHandler\";\r\nimport { App, Services } from \"../../Core/Global\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IPage, PageStatus } from \"../Abstraction/IPage\";\r\nimport { IMultiPageHost, IPageHost } from \"../Abstraction/IPageHost\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport interface IPageConfig<TView extends IView> {\r\n\r\n    name?: string;\r\n\r\n    url?: Bindable<string>;\r\n\r\n    view?: Bindable<TView>;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    subTitle?: Bindable<LocalString>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Page<TView extends IView = IView> extends BindableObject implements IPage<TView>, IErrorHandler<Page> {\r\n\r\n    constructor(config?: IPageConfig<TView>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"url\", config);\r\n\r\n        this.bindConfigString(\"title\", config);\r\n\r\n        this.bindConfigString(\"subTitle\", config);\r\n\r\n        this.bindConfig(\"view\", config);\r\n\r\n        if (config) {\r\n            if (config.name)\r\n                this.name = config.name;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): object {\r\n        return {};\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setState(state: object) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    handleError(source: this, error: any) {\r\n        App.handleError(source, error);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadAsync(): Promise<void> {\r\n        if (this.status == \"notloaded\" || this.status == \"error\") {\r\n\r\n            const op = Services.operation.begin({ message: \"Loading page: \" + (this.title ? this.title : (this.url ? this.url : getTypeName(this))) });\r\n            this.status = \"loading\";\r\n            try {\r\n\r\n                await this.loadWorkAsync();\r\n            }\r\n            catch (e) {\r\n                this.status = \"error\";\r\n                App.handleError(this, e);\r\n            }\r\n            finally {\r\n                op.end();\r\n                this.status = \"loaded\";\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected loadWorkAsync(): Promise<void> {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    refreshAsync(): Promise<void> {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async closeAsync(result?: any) {\r\n\r\n        if (\"goBackAsync\" in this.host)\r\n            await (this.host as IMultiPageHost).goBackAsync();\r\n\r\n        this.status = \"closed\";\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    url: string = null;\r\n\r\n    host: IPageHost = null;\r\n\r\n    view: TView = null;\r\n\r\n    title: string = null;\r\n\r\n    subTitle: string = null;\r\n\r\n    name: string = null;\r\n\r\n    status: PageStatus = \"notloaded\";\r\n\r\n    args: object = null;\r\n}\r\n\r\nregisterType(Page, \"Page\");","﻿import { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { View } from \"./View\";\r\nimport \"Templates/ItemsView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IItemsViewConfig<TItem> extends IContentViewConfig<IObservableList<TItem>> {\r\n\r\n    emptyView?: View;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ItemsView<TItem = any> extends ContentView<IObservableList<TItem>> {\r\n\r\n    protected _updateCount: number = 0;\r\n\r\n    constructor(config?: IItemsViewConfig<TItem>) {\r\n\r\n        super({ content: observableListOf<TItem>(), ...config });\r\n\r\n        this.content.subscribe({\r\n            onItemAdded: (item: TItem) => {\r\n\r\n                if (this._updateCount == 0)\r\n                    this.onItemAdded(item);\r\n            },\r\n\r\n            onItemRemoved: (item: TItem) => {\r\n                if (this._updateCount == 0)\r\n                    this.onItemRemoved(item);\r\n            }\r\n        });\r\n\r\n        this.bindConfig(\"emptyView\", config);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected initItems() {\r\n        if (this.content)\r\n            this.content.toArray().forEach(a => this.onItemAdded(a));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    beginUpdate() {\r\n        this._updateCount++;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    endUpdate() {\r\n        this._updateCount--;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemAdded(item: TItem) {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemRemoved(item: TItem) {\r\n\r\n    }\r\n\r\n    emptyView: View = null;\r\n}\r\n\r\nregisterType(ItemsView, \"ItemsView\");","﻿import { INamedContent } from \"../../Core/Abstraction/INamedContent\";\r\nimport { isString } from \"../../Core/Helpers/TypeCheck\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IPanel } from \"../Abstraction/IPanel\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { loadAllAsync } from \"../Helpers/ViewUtils\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\n\r\nexport interface IPanelConfig extends IItemsViewConfig<IView> {\r\n\r\n    viewContent?: IView | IView[];\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class Panel extends ItemsView<IView> implements IPanel, IAsyncLoad {\r\n\r\n    constructor(config?: IPanelConfig) {\r\n        super({ template: \"ItemsView\", ...config });\r\n\r\n        if (config?.viewContent) {\r\n            if (Array.isArray(config.viewContent))\r\n                config.viewContent.forEach(a => this.addView(a));\r\n            else\r\n                this.addView(config.viewContent);\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    loadAsync(): Promise<any> {\r\n\r\n        return loadAllAsync(this.content);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clear() {\r\n        this.content.clear();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    addView<TView extends IView>(view: TView): TView {\r\n        this.content.add(view);\r\n        return view;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    removeView(view: IView) {\r\n        this.content.remove(view);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    replaceView(oldViewName: string, newView: IView)\r\n\r\n    replaceView(oldView: IView, newView: IView)\r\n\r\n    replaceView(oldView: string | IView, newView: IView) {\r\n\r\n        let index: number;\r\n\r\n        if (isString(oldView))\r\n            index = linq(this.content).indexOf(a => \"name\" in a && (a as unknown as INamedContent).name == oldView);\r\n        else\r\n            index = this.content.indexOf(oldView);\r\n\r\n        if (index != -1)\r\n            this.content.set(index, newView);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemAdded(item: IView) {\r\n        if (item)\r\n            item.parentView = this;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemRemoved(item: IView) {\r\n        if (item && item.parentView == this)\r\n            item.parentView = null;\r\n    }\r\n}\r\n\r\nregisterType(Panel, \"Panel\");","﻿import { getTypeName, isInstanceOf, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IActivable } from \"../Abstraction/IActivable\";\r\nimport { IComponent } from \"../Abstraction/IComponent\";\r\nimport { DeactivateContentReason } from \"../Abstraction/IViewContentProvider\";\r\nimport { IPageConfig, Page } from \"../Components/Page\";\r\nimport { Panel } from \"../Components/Panel\";\r\nimport { formatForCss } from \"../Helpers/ViewUtils\";\r\n\r\nexport interface IActivityConfig extends IPageConfig<Panel> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Activity<TResult = void> extends Page<Panel> implements IActivable {\r\n\r\n    protected _viewItems: IComponent[] = [];\r\n    protected _resultResolve: (value: TResult) => void;\r\n\r\n    constructor(config?: IActivityConfig) {\r\n\r\n        super(config);\r\n\r\n        this.view = new Panel({ name: formatForCss(getTypeName(this)), styles: [\"vertical\", \"activity\", \"page\", \"relative\"] });\r\n        //this.view.isCacheEnabled = true;\r\n\r\n        if (this.name)\r\n            this.view.styles.push(this.name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get result(): Promise<TResult> {\r\n        return new Promise<TResult>(res => this._resultResolve = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    activateAsync() {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    deactivateAsync(reason: DeactivateContentReason) {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async closeAsync(result?: TResult) {\r\n\r\n        const closeResult = await super.closeAsync(result);\r\n\r\n        if (this._resultResolve)\r\n            this._resultResolve(result);\r\n\r\n        return closeResult;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected loadWorkAsync() {\r\n\r\n        return this.createAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createAsync(): Promise<void> {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static isActivity(obj: any): obj is Activity {\r\n\r\n        return isInstanceOf(obj, Activity);\r\n    }\r\n}\r\n\r\nregisterType(Activity, \"Activity\");","import { linq } from \"../../Core/Linq\";\r\nimport { Type } from \"../../Core/Types/Types\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IPage } from \"../Abstraction/IPage\";\r\nimport { IMultiPageHost, IPageLoadOptions, PageTransactionType } from \"../Abstraction/IPageHost\";\r\nimport { ITransactionListener } from \"../Abstraction/ITransactionListener\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { Activity } from \"../Activities/Activity\";\r\nimport { IViewConfig, View } from \"./View\";\r\nimport { App, Services } from \"../../Core/Global\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport \"Templates/PageHost.html\"; \r\n\r\ninterface IPageView {\r\n\r\n    content?: IView;\r\n\r\n    className: string;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IPageStackItem {\r\n\r\n    page: IPage;\r\n\r\n    options?: IPageLoadOptions;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface ISlidePageHostConfig extends IViewConfig {\r\n\r\n    defaultTransaction?: PageTransactionType;\r\n} \r\n\r\n/****************************************/\r\n\r\nexport class SlidePageHost extends View implements IMultiPageHost, ITransactionListener {\r\n\r\n    private _activeViewIndex: number = 0;\r\n    private _pageStack: IPageStackItem[];\r\n    private _currentIndex: number;\r\n    private _hideTimerId: number;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: ISlidePageHostConfig) {\r\n        super(config);\r\n\r\n        this.pageViews = [{ content: null, className: null },\r\n        { content: null, className: null }];\r\n\r\n        this.clearAsync();\r\n\r\n        if (config) {\r\n            if (config.defaultTransaction)\r\n                this.defaultTransaction = config.defaultTransaction;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clearAsync(): void {\r\n        this._pageStack = [];\r\n        this._currentIndex = -1;\r\n        this._activeViewIndex = 0;\r\n\r\n        this.pageViews[0].content = null;\r\n        this.pageViews[0].className = \"immediate next\";\r\n\r\n        this.pageViews[1].content = null;\r\n        this.pageViews[1].className = \"immediate prev\";\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    async goBackAsync() {\r\n        if (this._currentIndex > 0)\r\n            await this.goToAsync(this._currentIndex - 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async goForwardAsync() {\r\n        if (this._currentIndex > 0)\r\n            await this.goToAsync(this._currentIndex + 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async bringFrontAsync(page: IPage) {\r\n\r\n        const pageIndex = linq(this._pageStack).indexOf(a => a.page == page);\r\n\r\n        if (pageIndex != -1)\r\n            await (page.host as IMultiPageHost).goToAsync(pageIndex);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadAsync<TPage extends IPage>(page: TPage, options?: IPageLoadOptions): Promise<TPage> {\r\n\r\n        if (this.current == page) {\r\n            await page.refreshAsync();\r\n            return page;\r\n        }\r\n\r\n        this.cancelHidePrev();\r\n\r\n        const op = Services.operation.begin(\"Hosting new page\");\r\n        try {\r\n\r\n            if (this.current && Activity.isActivity(this.current))\r\n                await this.current.deactivateAsync(\"replace\");\r\n\r\n            if (options?.loadMode == \"clear\")\r\n                this._currentIndex = -1;\r\n\r\n            if (options?.loadMode == \"replace\" && this.currentIndex >= 0)\r\n                this._currentIndex--;\r\n\r\n            while (this._pageStack.length > this._currentIndex + 1)\r\n                this._pageStack.splice(this._pageStack.length - 1, 1);\r\n\r\n            this._pageStack.push({ page: page, options: options });\r\n\r\n            if (options && options.transaction)\r\n                this.activeTransaction = options.transaction;\r\n            else\r\n                this.activeTransaction = this.defaultTransaction;\r\n\r\n            this._currentIndex++;\r\n\r\n            page.host = this;\r\n\r\n            page.view.parentView = this;\r\n\r\n            this.pageViews[this.backIndex].className = \"immediate next\";\r\n\r\n            await delayAsync(0);\r\n\r\n            await page.loadAsync();\r\n\r\n            if (this._currentIndex > 0) {\r\n\r\n                this.pageViews[this.backIndex].content = page.view;\r\n\r\n                await delayAsync(0);\r\n\r\n                this.pageViews[this.frontIndex].className = \"animate prev\";\r\n                this.pageViews[this.backIndex].className = \"animate active\";\r\n                this._activeViewIndex = this.backIndex;\r\n\r\n                this.hidePrev();\r\n            }\r\n            else {\r\n\r\n                this.pageViews[this.frontIndex].content = page.view;\r\n\r\n                this.pageViews[this.frontIndex].className = \"active\";\r\n            }\r\n\r\n            page.status = \"active\";\r\n\r\n            if (Activity.isActivity(this.current))\r\n                await this.current.activateAsync();\r\n        }\r\n        catch (e) {\r\n            App.handleError(this, e);\r\n        }\r\n        finally {\r\n            op.end();\r\n        }\r\n\r\n        return page;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(index: number) {\r\n\r\n        return this._pageStack[index].page;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async goToAsync(index: number) {\r\n\r\n        if (index < 0 || index >= this._pageStack.length || index == this._currentIndex)\r\n            return;\r\n\r\n        this.cancelHidePrev();\r\n\r\n        const op = Services.operation.begin(\"Going to \" + index);\r\n        try {\r\n\r\n            if (Activity.isActivity(this.current))\r\n                await this.current.deactivateAsync(\"replace\");\r\n\r\n            this.current.status = \"hidden\";\r\n\r\n            const options = this._pageStack[this._currentIndex].options;\r\n            if (options && options.transaction)\r\n                this.activeTransaction = options.transaction;\r\n            else\r\n                this.activeTransaction = this.defaultTransaction;\r\n\r\n            this._currentIndex = index;\r\n\r\n            if (this.current.view.parentView == this)\r\n                this.current.view.parentView = null;\r\n\r\n            this.pageViews[this.backIndex].content = this._pageStack[this._currentIndex].page.view;\r\n\r\n            this.pageViews[this.backIndex].className = \"immmediate prev\";\r\n\r\n            await delayAsync(0);\r\n\r\n            this.pageViews[this.frontIndex].className = \"animate next\";\r\n            this.pageViews[this.backIndex].className = \"animate active\";\r\n\r\n            this._activeViewIndex = this.backIndex;\r\n\r\n            this.current.status = \"active\";\r\n\r\n            if (Activity.isActivity(this.current))\r\n                await this.current.activateAsync();\r\n\r\n            this.hidePrev();\r\n        }\r\n        catch (e) {\r\n            App.handleError(this, e);\r\n        }\r\n        finally {\r\n            op.end();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private cancelHidePrev() {\r\n\r\n        if (this._hideTimerId) {\r\n            clearTimeout(this._hideTimerId);\r\n            this._hideTimerId = null;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private hidePrev() {\r\n\r\n        this._hideTimerId = window.setTimeout(() => {\r\n\r\n            if (!this._hideTimerId)\r\n                return;\r\n            this.pageViews[this.backIndex].className = \"prev hide\";\r\n        }, 4000);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onActivePageChanged(): void {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onTransactionEnd(): void {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    find<TPage extends IPage>(type: Type<TPage>): TPage;\r\n\r\n    find<TPage extends IPage>(name: string): TPage;\r\n\r\n    find<TPage extends IPage>(nameOrType: string | Type<TPage>): TPage {\r\n\r\n        let curPage: IPageStackItem;\r\n\r\n        if (typeof nameOrType == \"string\")\r\n            curPage = linq(this._pageStack).first(a => a.page.name == <string>nameOrType);\r\n        else\r\n            curPage = linq(this._pageStack).first(a => Object.getPrototypeOf(a.page).constructor == nameOrType);\r\n\r\n        if (curPage)\r\n            return <TPage>curPage.page;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    get current(): IPage {\r\n        return this._currentIndex == -1 ? undefined : this._pageStack[this._currentIndex].page;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get canGoBack(): boolean {\r\n        return this._currentIndex > 0;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get frontIndex(): number {\r\n        return this._activeViewIndex;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get backIndex(): number {\r\n        return (this._activeViewIndex + 1) % 2;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get currentIndex(): number {\r\n        return this._currentIndex;\r\n    }\r\n\r\n    set currentIndex(value: number) {\r\n        if (this._currentIndex == value)\r\n            return;\r\n        this.goToAsync(value);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get pageCount(): number {\r\n        return this._pageStack.length;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    defaultTransaction: PageTransactionType = \"pop-up-down\";\r\n\r\n    activeTransaction: PageTransactionType = \"none\";\r\n\r\n    pageViews: IPageView[];\r\n}\r\n\r\n\r\nregisterType(SlidePageHost, \"SlidePageHost\");","﻿import { IDictionary } from \"../../Core/Abstraction/IDictionary\";\r\n\r\n\r\ndeclare global {\r\n\r\n    export interface IServices {\r\n\r\n        itemsObserver: ItemsObserver;\r\n    }\r\n}\r\n\r\n\r\ninterface IItemChangeArgs<TItem, TValue> {\r\n    itemType: string;\r\n    value?: TValue;\r\n    item?: TItem;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IItemChangeListener<TItem, TValue> {\r\n\r\n    onItemAdded?(args: IItemChangeArgs<TItem, TValue>): void;\r\n\r\n    onItemRemoved?(args: IItemChangeArgs<TItem, TValue>): void;\r\n\r\n    onItemChanged?(args: IItemChangeArgs<TItem, TValue>): void;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ItemsObserver {\r\n\r\n    private _listener: IDictionary<IItemChangeListener<any, any>[]> = {}\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    unregister<TItem, TValue>(itemType: string, listener: IItemChangeListener<TItem, TValue>) {\r\n\r\n        if (itemType in this._listener) {\r\n            const listeners = this._listener[itemType];\r\n            const index = listeners.indexOf(listener);\r\n            if (index! - 1)\r\n                listeners.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    register<TItem, TValue>(itemType: string, listener: IItemChangeListener<TItem, TValue>) {\r\n\r\n        if (!(itemType in this._listener))\r\n            this._listener[itemType] = [listener];\r\n        else {\r\n\r\n            if (this._listener[itemType].indexOf(listener) == -1)\r\n                this._listener[itemType].push(listener);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        this._listener = {}\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyAdded<TItem, TValue>(args: IItemChangeArgs<TItem, TValue>) {\r\n\r\n        if (args.itemType in this._listener)\r\n            this._listener[args.itemType].forEach(a => a.onItemAdded ? a.onItemAdded(args) : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyRemoved<TItem, TValue>(args: IItemChangeArgs<TItem, TValue>) {\r\n\r\n        if (args.itemType in this._listener)\r\n            this._listener[args.itemType].forEach(a => a.onItemRemoved ? a.onItemRemoved(args) : undefined);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyChanged<TItem, TValue>(args: IItemChangeArgs<TItem, TValue>) {\r\n\r\n        if (args.itemType in this._listener)\r\n            this._listener[args.itemType].forEach(a => a.onItemChanged ? a.onItemChanged(args) : undefined);\r\n    }\r\n}","import \"Templates/ActionBar.html\";\r\nimport \"Templates/ActionView.html\";\r\nimport \"Templates/Attach.html\";\r\nimport \"Templates/Spinner.html\";\r\nimport \"Templates/OperationView.html\"; \r\nimport \"Templates/BooleanEditor.html\"; \r\nimport \"Templates/BottomSheet.html\";\r\nimport \"Templates/ConsoleView.html\";\r\nimport \"Templates/Container.html\";\r\nimport \"Templates/ContentView.html\";\r\nimport \"Templates/ContextMenu.html\";\r\nimport \"Templates/CounterView.html\";\r\nimport \"Templates/DateEditor.html\";\r\nimport \"Templates/DateEditorCombo.html\";\r\nimport \"Templates/Drawer.html\";\r\nimport \"Templates/FileUploadView.html\";\r\nimport \"Templates/HtmlView.html\";\r\nimport \"Templates/Icon.html\";\r\nimport \"Templates/IconTextView.html\";\r\nimport \"Templates/ImageView.html\";\r\nimport \"Templates/ItemsEditor.html\";\r\nimport \"Templates/ItemsView.html\";\r\nimport \"Templates/ItemView.html\";\r\nimport \"Templates/ListView.html\";\r\nimport \"Templates/LocationView.html\";\r\nimport \"Templates/MediaEditor.html\";\r\nimport \"Templates/MediaView.html\";\r\nimport \"Templates/MessageBox.html\";\r\nimport \"Templates/MultiItemPicker.html\";\r\nimport \"Templates/NavBar.html\";\r\nimport \"Templates/PageHost.html\";\r\nimport \"Templates/PermissionRequestItemView.html\";\r\nimport \"Templates/PopUpContent.html\";\r\nimport \"Templates/ProgressView.html\";\r\nimport \"Templates/PropertyView.html\";\r\nimport \"Templates/RemovableItemView.html\";\r\nimport \"Templates/SearchView.html\"; \r\nimport \"Templates/SectionEditor.html\";\r\nimport \"Templates/SectionsView.html\";\r\nimport \"Templates/SelectableItemView.html\";\r\nimport \"Templates/SimpleItemView.html\";\r\nimport \"Templates/SingleItemPicker.html\";\r\nimport \"Templates/SingleItemSelector.html\";\r\nimport \"Templates/SnackBar.html\";\r\nimport \"Templates/TextEditor.html\";\r\nimport \"Templates/TextView.html\";\r\nimport \"Templates/Toast.html\";\r\nimport \"Templates/VideoView.html\";\r\nimport \"Templates/WebView.html\";\r\nimport \"Templates/WizardView.html\";\r\n","﻿export enum GestureType {\r\n    SwipeLeft\r\n}\r\n\r\nexport interface IGestureData {\r\n\r\n    type: GestureType;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IGestureListener {\r\n\r\n    onGesture(data: IGestureData): void;\r\n}","import { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { GestureType, IGestureListener } from \"../Abstraction/IGestureListener\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\n\r\ninterface IPoint {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport class GesturekBehavoir implements IBehavoir<HTMLElement, IView & IGestureListener> {\r\n\r\n    protected _onPointerUpBind = this.onPointerUp.bind(this);\r\n    protected _onPointerDownBind = this.onPointerDown.bind(this);\r\n    protected _onPointerMoveBind = this.onPointerMove.bind(this);\r\n    protected _downPoint: IPoint;\r\n    protected _element: HTMLElement;\r\n    protected _listener: IView & IGestureListener;\r\n\r\n    attach(element: HTMLElement, viewModel?: IView & IGestureListener) {\r\n\r\n        this._element = element;\r\n        this._listener = viewModel;\r\n\r\n        this._element.addEventListener(\"pointerdown\", this._onPointerDownBind, { passive: true });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onPointerUp(ev: PointerEvent) {\r\n\r\n        this.endGesture(ev);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onPointerDown(ev: PointerEvent) {\r\n\r\n        this._downPoint = this.getPoint(ev);\r\n\r\n        this._element.addEventListener(\"pointerup\", this._onPointerUpBind, { passive: true });\r\n\r\n        this._element.addEventListener(\"pointermove\", this._onPointerMoveBind, { passive: true });\r\n\r\n        //this._element.setPointerCapture(ev.pointerId);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onPointerMove(ev: PointerEvent) {\r\n\r\n        const point = this.getPoint(ev);\r\n\r\n        const angle = ((Math.atan2(point.y - this._downPoint.y, point.x - this._downPoint.x) * 180 / Math.PI) + 360) % 360;\r\n\r\n        const distance = Math.sqrt(Math.pow(point.y - this._downPoint.y, 2) + Math.pow(point.x - this._downPoint.x, 2));\r\n\r\n        //console.log(point, ev.button, angle, distance);\r\n\r\n        if (distance > 70) {\r\n            if (angle > 150 && angle < 220)\r\n                this._listener.onGesture({ type: GestureType.SwipeLeft });\r\n            this.endGesture(ev);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getPoint(ev: PointerEvent) {\r\n        return {\r\n            x: ev.screenX,\r\n            y: ev.screenY\r\n        } as IPoint;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected endGesture(ev: PointerEvent) {\r\n\r\n        //this._element.releasePointerCapture(ev.pointerId);\r\n\r\n        this._element.removeEventListener(\"pointerup\", this._onPointerUpBind);\r\n        this._element.removeEventListener(\"pointermove\", this._onPointerMoveBind);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement, viewModel?: IView & IGestureListener) {\r\n        element.removeEventListener(\"pointerdown\", this._onPointerDownBind);\r\n        element.removeEventListener(\"pointermove\", this._onPointerMoveBind);\r\n        element.removeEventListener(\"pointerup\", this._onPointerUpBind);\r\n    }\r\n}","﻿import { isSmallDevice, isTouchDevice } from \"../../Core/Utils/DomUtils\";\r\nimport { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ContextMenu } from \"../Components/ContextMenu\";\r\n\r\nexport interface IContextActionProvider {\r\n\r\n    getContextActions(): IAction[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ContextMenuBehavoir implements IBehavoir<HTMLElement, IView & IContextActionProvider> {\r\n\r\n    attach(element: HTMLElement, viewModel: IContextActionProvider) {\r\n\r\n        const showMenu = (ev: MouseEvent | TouchEvent | PointerEvent) => {\r\n\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            ev.stopImmediatePropagation();\r\n\r\n            const items = viewModel.getContextActions();\r\n            if (items) {\r\n                const menu = new ContextMenu({ actions: items });\r\n                menu.showAsync(null, ev);\r\n            }\r\n\r\n        };\r\n\r\n        if (isTouchDevice())\r\n            element.addEventListener(\"selectstart\",ev => {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                ev.stopImmediatePropagation();\r\n                return false;\r\n            });\r\n\r\n        element.addEventListener(\"contextmenu\", ev => showMenu(ev));\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach(element: HTMLElement) {\r\n    }\r\n\r\n    static readonly instance = new ContextMenuBehavoir();\r\n}","import { IErrorHandler } from \"../Core/Abstraction/IErrorHandler\";;\r\nimport { DbStorage } from \"../Core/Services/DbStorage\";\r\nimport { LocalStorageCache } from \"../Core/Services/LocalStorageCache\";\r\nimport { XHRHttpClient } from \"../Core/Services/XHRHttpClient\";\r\nimport { StringTable } from \"../Core/StringTable\";\r\nimport { behavoirCatalog } from \"../Templating/Abstraction/IBehavoir\";\r\nimport { BindableObject } from \"../Templating/BindableObject\";\r\nimport { template } from \"../Templating/Functions\";\r\nimport { IPage } from \"./Abstraction/IPage\";\r\nimport { IMultiPageHost } from \"./Abstraction/IPageHost\";\r\nimport { IView } from \"./Abstraction/IView\";\r\nimport { IViewApplication } from \"./Abstraction/IViewApplication\";\r\nimport { AttachBehavoir } from \"./Behavoirs/AttachBehavoir\";\r\nimport { LongPressBehavoir } from \"./Behavoirs/LongPresssBehavoir\";\r\nimport { RippleClickBehavoir } from \"./Behavoirs/RippleClickBehavoir\";\r\nimport { ScrollCheckBehavoir } from \"./Behavoirs/ScrollCheckBehavoir\";\r\nimport { VibrateClickBehavoir } from \"./Behavoirs/VibrateClickBehavoir\";\r\nimport { Blocker } from \"./Components/Blocker\";\r\nimport { SelfHostedPageHost } from \"./Components/SelfHostedPageHost\";\r\nimport { SlidePageHost } from \"./Components/SlidePageHost\";\r\nimport { HistoryPageHost } from \"./HIstoryPageHost\";\r\nimport { ItemsObserver } from \"./Items/ItemsObserver\";\r\nimport { ViewOperationManager } from \"./Operation\";\r\nimport { DynamicPageManager } from \"./Services/DynamicPageManager\";\r\nimport \"./AllTemplates\"\r\nimport { Services } from \"../Core/Global\";\r\nimport { GesturekBehavoir } from \"./Behavoirs/GestureBehavoir\";\r\nimport { IAppArgs } from \"../Core/Abstraction/IApplication\";\r\nimport { GoogleAnalytics } from \"../Core/Services/GoogleAnalytics\";\r\nimport { ContextMenuBehavoir } from \"./Behavoirs/ContextMenuBehavoir\";\r\n\r\n\r\nexport class ViewApplication<TArgs extends IAppArgs = IAppArgs> extends BindableObject implements IViewApplication<TArgs>, IErrorHandler {\r\n\r\n    protected _blockCount = 0;\r\n    protected _blocker: Blocker;\r\n    protected _startupArgs: TArgs;\r\n\r\n    constructor() {\r\n        super();\r\n        this.prop(\"language\").subscribe(() => this.updateLanguage());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async runAsync(args?: TArgs) {\r\n\r\n        this.language = (window.navigator.language).split(\"-\")[0].toUpperCase();\r\n\r\n        window.addEventListener(\"error\", ev => this.handleError(ev.srcElement, ev.error, ev.message));\r\n\r\n        this._startupArgs = { baseUrl: \"\", ...args};\r\n\r\n        if (this.baseUrl.length == 0 || this.baseUrl[this.baseUrl.length - 1] != \"/\")\r\n            this.baseUrl += \"/\";\r\n\r\n        this.initServices();\r\n\r\n        await this.configureServicesAsync();\r\n\r\n        if (this.isSelfHosted) {\r\n            this.pageHost = new SelfHostedPageHost();\r\n            this.view = <any>this.pageHost;\r\n            //window[\"WebApp\"][\"Actions\"] = window.parent[\"WebApp\"][\"Actions\"];\r\n        }\r\n        else {\r\n            this.pageHost = new HistoryPageHost(this.createPageHost());\r\n            this.view = (this.pageHost as HistoryPageHost).innerHost as unknown as IView;\r\n        }\r\n\r\n        Services.pageHost = this.pageHost;\r\n\r\n        document.title = this.appName;\r\n\r\n        template(document.body, this.view.template, this.view);\r\n\r\n        this.onStarted();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateLanguage() {\r\n\r\n        document.documentElement.lang = this.language;\r\n\r\n        StringTable.currentConfig = {\r\n            language: this.language\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onStarted() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    handleError(source: any, error: any, message?: string) {\r\n\r\n        console.error(\"Source: \", source, \"Error: \", error, \"Message: \", message);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    formatTitle(title: string): string {\r\n        if (this.appName && title)\r\n            return this.appName + \" - \" + title;\r\n        if (title)\r\n            return title;\r\n        return this.appName;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createPageHost(): IMultiPageHost {\r\n        return new SlidePageHost();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected initServices() {\r\n\r\n        Services.application = this;\r\n        Services.pageManager = new DynamicPageManager();\r\n        Services.itemsObserver = new ItemsObserver();\r\n\r\n        Services.httpClient = new XHRHttpClient();\r\n        Services.cache = new LocalStorageCache();\r\n        Services.dbStorage = new DbStorage();\r\n        Services.operation = new ViewOperationManager();\r\n\r\n        if (this.startupArgs.gaId)\r\n            Services.analytics = new GoogleAnalytics(this.startupArgs.gaId);\r\n\r\n        behavoirCatalog[\"attach\"] = () => AttachBehavoir.instance;\r\n        behavoirCatalog[\"ripple\"] = () => RippleClickBehavoir.instance;\r\n        behavoirCatalog[\"vibrate\"] = () => VibrateClickBehavoir.instance;\r\n        behavoirCatalog[\"scroll-check\"] = () => ScrollCheckBehavoir.instance;\r\n        behavoirCatalog[\"long-press\"] = () => new LongPressBehavoir();\r\n        behavoirCatalog[\"gesture\"] = () => new GesturekBehavoir();\r\n        behavoirCatalog[\"context-menu\"] = () => ContextMenuBehavoir.instance;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected configureServicesAsync(): Promise<any> {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    block(content?: IView): void {\r\n\r\n        this._blockCount++;\r\n\r\n        if (!this._blocker) {\r\n\r\n            this._blocker = new Blocker();\r\n\r\n            setTimeout(() => this.restoreBlock(content));\r\n        }\r\n        else\r\n            this.restoreBlock(content);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    restoreBlock(content?: IView) {\r\n\r\n        if (this._blockCount > 0 && this._blocker.status != \"show\" && this._blocker.status != \"showing\")\r\n            this._blocker.showAsync(content);\r\n        else if (content)\r\n            this._blocker.content = content;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    unblock(force: boolean = false) {\r\n\r\n        if (!this._blocker)\r\n            return;\r\n\r\n        if (force) {\r\n\r\n            if (this._blocker.status == \"show\" || this._blocker.status == \"showing\")\r\n                this._blocker.hideAsync();\r\n        }\r\n        else {\r\n            if (--this._blockCount <= 0)\r\n                this._blocker.hideAsync();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    mainAsync() {\r\n\r\n        return Promise.resolve<IPage>(null);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get baseUrl(): string {\r\n        return this._startupArgs.baseUrl;\r\n    }\r\n\r\n    get isDev() {\r\n        return this._startupArgs[\"env\"] == \"Development\";\r\n    }\r\n\r\n    set baseUrl(value: string) {\r\n        this._startupArgs.baseUrl = value;\r\n    }\r\n\r\n    get startupArgs() {\r\n        return this._startupArgs;\r\n    }\r\n\r\n    get isSelfHosted(): boolean {\r\n        try {\r\n            return window.parent != window && window.parent[\"WebApp\"] && window.parent[\"WebApp\"][\"App\"];\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    get hasMain(): boolean {\r\n        return false;\r\n    }\r\n\r\n    pageHost: IMultiPageHost = null;\r\n\r\n    appName: string = null;\r\n\r\n    view: IView = null;\r\n\r\n    language: string = null;\r\n}","﻿import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { IAsyncTask } from \"../../Core/Abstraction/ITask\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IComponent } from \"./IComponent\";\r\nimport { IView, ViewStyle } from \"./IView\";\r\n\r\nexport enum ActionPriority {\r\n\r\n    Primary,\r\n    Secondary,\r\n    Evidence\r\n}\r\n\r\nexport interface IAction extends IComponent {\r\n\r\n    executeAsync: (container?: IView) => Promise<any>;\r\n\r\n    canExecute?: () => boolean;\r\n\r\n    displayName?: LocalString;\r\n\r\n    operation?: OperationType;\r\n\r\n    icon?: Bindable<string>;\r\n\r\n    badge?: Bindable<string>;\r\n\r\n    priority?: ActionPriority;\r\n\r\n    subActions?: IAction[];\r\n\r\n    styles?: ViewStyle[];\r\n}\r\n","﻿import { Type } from \"../../Core/Types/Types\";\r\nimport { IPage } from \"./IPage\";\r\n\r\ndeclare global {\r\n\r\n    export interface IServices {\r\n\r\n        pageHost: IPageHost;\r\n    }\r\n}\r\n\r\n\r\nexport type PageTransactionType = \"none\" | \"dissolve\" | \"h-slide\" | \"pop-up-down\" | \"up-down\";\r\n\r\nexport type PageLoadMode = \"add\" | \"replace\" | \"clear\";\r\n\r\nexport enum PageHostMode {\r\n    Default,\r\n    WebView\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPageLoadOptions {\r\n\r\n    transaction?: PageTransactionType;\r\n\r\n    hostMode?: PageHostMode;\r\n\r\n    loadMode?: PageLoadMode;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPageHost {\r\n\r\n    clearAsync(): void;\r\n\r\n    loadAsync<TPage extends IPage>(page: TPage, options?: IPageLoadOptions): Promise<TPage>;\r\n\r\n    readonly current: IPage;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IMultiPageHost extends IPageHost {\r\n\r\n    find<TPage extends IPage>(type: Type<TPage>): TPage;\r\n\r\n    find<TPage extends IPage>(name: string): TPage;\r\n\r\n    bringFrontAsync(page: IPage): Promise<void>;\r\n\r\n    goBackAsync(): Promise<void>;\r\n\r\n    goForwardAsync(): Promise<void>;\r\n\r\n    goToAsync(index: number): Promise<void>;\r\n\r\n    currentIndex: number;\r\n\r\n    get(index: number): IPage;\r\n\r\n    readonly pageCount: number;\r\n\r\n    readonly canGoBack: boolean;\r\n}","import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IPopUpMenu } from \"../Abstraction/IPopUpMenu\";\r\nimport { ISelectable } from \"../Abstraction/ISelectable\";\r\nimport { SelectionManager } from \"../SelectionManager\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\nimport \"Templates/ActionBar.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\ntype ActionBarMainActionType = \"none\" | \"menu\" | \"back\";\r\n\r\n/****************************************/\r\n\r\nexport interface IActionBarConfig extends IViewComponentConfig {\r\n\r\n    actions?: IAction[];\r\n\r\n    content?: IView;\r\n\r\n    mainAction?: Bindable<ActionBarMainActionType>;\r\n\r\n    navigationMenu?: Bindable<IPopUpMenu>;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    icon?: Bindable<string>;\r\n\r\n    onBack?: () => void;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ActionBar extends ViewComponent {\r\n\r\n    constructor(config?: IActionBarConfig) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"mainAction\", config);\r\n\r\n        this.bindConfig(\"navigationMenu\", config);\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfig(\"icon\", config);\r\n\r\n        this.actions.subscribe({\r\n            onItemAdded: this.onActionAdded.bind(this),\r\n            onItemRemoved: this.onActionRemoved.bind(this)\r\n        });\r\n\r\n\r\n        if (config) {\r\n\r\n            if (config.content)\r\n                this.content = config.content;\r\n\r\n            if (config.actions)\r\n                config.actions.forEach(a => this.addAction(a));\r\n\r\n            if (config.onBack)\r\n                this.back = config.onBack;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onActionRemoved(action: ActionView) {\r\n        if (action && action.parentView == this)\r\n            action.parentView = null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onActionAdded(action: ActionView) {\r\n\r\n        if (action)\r\n            action.parentView = this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showNavigationMenu() {\r\n\r\n        if (this.navigationMenu)\r\n            this.navigationMenu.showAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n        this.actions.add(ActionView.fromActionIcon(action));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    back() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    startSelection<TItem extends ISelectable>(): SelectionManager<TItem> {\r\n\r\n        if (!this.selectionManager)\r\n            this.selectionManager = new SelectionManager<any>();\r\n        this.selectionManager.isActive = true;\r\n        return this.selectionManager;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    mainAction: ActionBarMainActionType = \"none\";\r\n\r\n    navigationMenu: IPopUpMenu = null;\r\n\r\n    title: string = null;\r\n\r\n    icon: string = null;\r\n\r\n    content: IView = null;\r\n\r\n    selectionManager: SelectionManager<any> = null;\r\n}\r\n\r\nregisterType(ActionBar, \"ActionBar\");","import { linq } from \"../../Core/Linq\";\r\nimport { IBehavoir } from \"../../Templating/Abstraction/IBehavoir\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IContentView } from \"../Abstraction/IContentView\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { IconTextView, IIconTextViewConfig } from \"./IconTextView\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\nimport \"Templates/NavBar.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface INavBarItemConfig<TContent> extends IIconTextViewConfig {\r\n\r\n    name?: string;\r\n\r\n    content?: TContent;\r\n\r\n    badge?: Bindable<string>;\r\n\r\n    behavoirs?: Bindable<(IBehavoir | string)[]>;\r\n}\r\n\r\n/****************************************/\r\n\r\ntype NavigationBarItemStatus = \"active\" | \"\";\r\n\r\n/****************************************/\r\n\r\nexport class NavBarItem<TContent> extends IconTextView implements IContentView<TContent> {\r\n\r\n    constructor(config: INavBarItemConfig<TContent>) {\r\n        super(config);\r\n\r\n        this.prop(\"status\");\r\n\r\n        this.bindConfig(\"badge\", config);\r\n\r\n        this.bindConfig(\"behavoirs\", config);\r\n\r\n        this.bindConfig(\"content\", config);\r\n\r\n        if (config)\r\n            this.name = config.name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select() {\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    name: string = null;\r\n\r\n    status: NavigationBarItemStatus = \"\";\r\n\r\n    badge: string = null;\r\n\r\n    behavoirs: (IBehavoir | string)[] = [];\r\n\r\n    content: TContent = null;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface INavBarConfig<TContent> extends IItemsViewConfig<NavBarItem<TContent>> {\r\n\r\n    items?: INavBarItemConfig<TContent>[];\r\n\r\n    itemTemplate?: Bindable<CatalogTemplate<IView>>;\r\n\r\n    itemBehavoirs?: Bindable<(IBehavoir | string)[]>;\r\n\r\n    selectedItem?: Bindable<string>;\r\n\r\n    onItemSelected?: (item?: NavBarItem<TContent>) => void;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class NavBar<TContent = any> extends ItemsView<NavBarItem<TContent>>  {\r\n\r\n    constructor(config?: INavBarConfig<TContent>) {\r\n        super(config);\r\n\r\n        this.bindConfig(\"itemTemplate\", config);\r\n\r\n        this.bindConfig(\"itemBehavoirs\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.items)\r\n                config.items.forEach(a => this.addItem(a));\r\n\r\n            if (config.onItemSelected) {\r\n\r\n                this.onSelectedItemChanged = (a, b) => {\r\n                    NavBar.prototype.onSelectedItemChanged.bind(this)(a, b);\r\n                    config.onItemSelected(a);\r\n                };\r\n            }\r\n        }\r\n\r\n        this.bindConfig(\"selectedItem\", config, {\r\n            convertTo: a => this.getItem(a as string),\r\n            convertFrom: a => a ? a.name : undefined\r\n        }, this.onSelectedItemChanged);\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItem(name: string): NavBarItem<TContent> {\r\n        return linq(this.content).first(a => a.name == name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    selectItem(name: string) {\r\n        this.selectedItem = this.getItem(name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addItem(config: INavBarItemConfig<TContent>) {\r\n\r\n        const item = this.createItem(config);\r\n        this.content.add(item);\r\n        return item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItem(config?: INavBarItemConfig<TContent>): NavBarItem<TContent> {\r\n\r\n        const item = new NavBarItem({ template: this.prop(\"itemTemplate\"), behavoirs: this.prop(\"itemBehavoirs\"), ...config });\r\n        item.parentView = this;\r\n        item.select = () =>\r\n            this.selectedItem = item;\r\n        return item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onSelectedItemChanged(newItem: NavBarItem<TContent>, oldItem: NavBarItem<TContent>) {\r\n        if (oldItem)\r\n            oldItem.status = \"\";\r\n        if (newItem)\r\n            newItem.status = \"active\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    selectedItem: NavBarItem<TContent> = null;\r\n\r\n    itemTemplate: CatalogTemplate<IView> = \"IconTextView\";\r\n\r\n    itemBehavoirs: (IBehavoir | string)[] = [];\r\n}\r\n\r\nregisterType(NavBarItem, \"NavBarItem\");\r\n\r\nregisterType(NavBar, \"NavBar\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionView, IActionViewConfig } from \"./ActionView\";\r\n\r\nexport interface ISearchViewConfig extends IActionViewConfig {\r\n\r\n    searchText?: Bindable<string>;\r\n\r\n    isExpanded?: Bindable<boolean>;\r\n\r\n    poolInterval?: number;\r\n\r\n    searchAsync?: (text: string) => Promise<void>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SearchView extends ActionView {\r\n\r\n    protected _lastSearchText: string = null;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: ISearchViewConfig) {\r\n        super({\r\n            name: \"search\",\r\n            template: \"SearchView\",\r\n            content: \"fas fa-search\",\r\n            tooltip: \"Ricerca\",\r\n            ...config\r\n        });\r\n\r\n        this.bindConfig(\"isExpanded\", config);\r\n\r\n        this.bindConfig(\"searchText\", config);\r\n\r\n        this.prop(\"hasFocus\").subscribe(value => this.onFocusChanged(value));\r\n\r\n        if (config) {\r\n\r\n            if (config.poolInterval)\r\n                this.poolInterval = config.poolInterval;\r\n\r\n            if (config.searchAsync)\r\n                this.doSearchAsync = config.searchAsync;\r\n        }\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected onFocusChanged(value: boolean) {\r\n\r\n        if (value) {\r\n            this._lastSearchText = this.searchText;\r\n            this.poolSearchTextAsync();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async poolSearchTextAsync(): Promise<void> {\r\n\r\n        while (this.hasFocus) {\r\n            if (this.searchText != this._lastSearchText) {\r\n                this._lastSearchText = this.searchText;\r\n                await this.searchAsync(this._lastSearchText);\r\n            }\r\n            await delayAsync(this.poolInterval);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected executeWorkAsync(): Promise<void> {\r\n\r\n        if (!this.isExpanded) {\r\n            this.isExpanded = true;\r\n            this.hasFocus = true;\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async searchAsync(text: string) {\r\n\r\n        this.status = \"searching\";\r\n\r\n        await delayAsync(0);\r\n\r\n        try {\r\n            await this.doSearchAsync(text);\r\n        }\r\n        finally {\r\n            this.status = \"loaded\";\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected doSearchAsync(text: string) {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        this.searchText = \"\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    close() {\r\n        this.isExpanded = false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    searchText: string = null;\r\n\r\n    isExpanded: boolean = false;\r\n\r\n    hasFocus: boolean = false;\r\n\r\n    poolInterval: number = 200;\r\n}\r\n\r\nregisterType(SearchView, \"SearchView\");","\r\nimport { Services } from \"../../Core/Global\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { mergeArrays } from \"../../Core/Utils/ArrayUtils\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority, IAction } from \"../Abstraction/IAction\";\r\nimport { IMultiPageHost } from \"../Abstraction/IPageHost\";\r\nimport { IPopUpMenu } from \"../Abstraction/IPopUpMenu\";\r\nimport { ISelectable } from \"../Abstraction/ISelectable\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { DeactivateContentReason, IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ActionBar } from \"../Components/ActionBar\";\r\nimport { ActionView, IActionViewConfig } from \"../Components/ActionView\";\r\nimport { NavBar } from \"../Components/NavBar\";\r\nimport { Panel } from \"../Components/Panel\";\r\nimport { SearchView } from \"../Components/SearchView\";\r\nimport { SelectionManager } from \"../SelectionManager\";\r\nimport { Activity, IActivityConfig } from \"./Activity\";\r\n\r\nexport enum ContentSelector {\r\n    Manual = 1,\r\n    Tabs = 2,\r\n    BottomNav = 3\r\n}\r\n\r\n\r\nexport enum PrimaryActionMode {\r\n    Floating = 1,\r\n    Button = 2,\r\n    FloatingFull = 3,\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IContentActivitConfig<TCtx extends ContentActivity> extends IActivityConfig {\r\n\r\n    providers: IViewContentProvider<TCtx>[];\r\n\r\n    selector?: ContentSelector;\r\n\r\n    menu?: IPopUpMenu;\r\n\r\n    actions?: ActionView[];\r\n\r\n    activeContent?: Bindable<string>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ContentActivity<TResult = any> extends Activity<TResult> implements IViewContentHost {\r\n\r\n    private _actionBar: ActionBar;\r\n    private _contentView: Panel;\r\n    private _floatingView: Panel;\r\n    private _isContentLoaded: boolean = false;\r\n    private _navBar: NavBar<IViewContentProvider<this>>;\r\n    private _selector: ContentSelector = ContentSelector.Tabs;\r\n    private _isDeactivating = false;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: IContentActivitConfig<ContentActivity>) {\r\n        super({\r\n            ...config\r\n        });\r\n\r\n        this.bindConfig(\"activeContent\", config);\r\n\r\n        if (config.providers)\r\n            this.providers = config.providers;\r\n\r\n        if (config.menu)\r\n            this.menu = config.menu;\r\n\r\n        if (config.selector)\r\n            this._selector = config.selector;\r\n\r\n        if (config.actions)\r\n            this.actions = config.actions;\r\n\r\n        this.prop(\"host\").subscribe(() => {\r\n\r\n            if (this._actionBar?.mainAction == \"none\" && (this.host as IMultiPageHost)?.canGoBack)\r\n                this._actionBar.mainAction = \"back\";\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async closeAsync(result?: TResult) {\r\n\r\n        await this.deactivateAsync(\"close\");\r\n\r\n        return await super.closeAsync(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    activateAsync() {\r\n\r\n        if (!this._isContentLoaded)\r\n            return this.refreshAsync();\r\n\r\n        if (this.activeContentProvider?.activateAsync)\r\n            return this.activeContentProvider?.activateAsync(\"refresh\");\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async deactivateAsync(reason: DeactivateContentReason) {\r\n\r\n        if (this._isDeactivating)\r\n            return;\r\n\r\n        try {\r\n            this._isDeactivating = true;\r\n            if (this.activeContentProvider?.deactivateAsync)\r\n                await this.activeContentProvider.deactivateAsync(reason);\r\n        }\r\n        finally {\r\n            this._isDeactivating = false;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    refreshAsync(): Promise<void> {\r\n\r\n        if (this.activeContentProvider)\r\n            return this.loadContentAsync(this.activeContentProvider, true);\r\n        return this.loadActiveContentAsync(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyContentChanged(provider: IViewContentProvider<this>) {\r\n\r\n        this.loadContentAsync(provider, true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    startSelection?<TItem extends ISelectable>(): SelectionManager<TItem> {\r\n\r\n        return this._actionBar.startSelection<TItem>();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected loadActiveContentAsync(force: boolean) {\r\n\r\n        const provider = linq(this.providers).first(a => a.info.name == this.activeContent);\r\n\r\n        return this.loadContentAsync(provider, force);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async loadWorkAsync(): Promise<void> {\r\n\r\n        await this.createAsync();\r\n\r\n        if (this.activeContentProvider)\r\n            this.activeContent = this.activeContentProvider.info.name;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadContentAsync(provider: IViewContentProvider<this>, force: boolean): Promise<void> {\r\n\r\n        const isContentChanged = this.activeContentProvider != provider;\r\n\r\n        if (!isContentChanged && !force)\r\n            return;\r\n\r\n        if (isContentChanged && this.activeContentProvider?.deactivateAsync)\r\n            this.activeContentProvider?.deactivateAsync(\"replace\");\r\n\r\n        this.activeContentProvider = provider;\r\n\r\n        if (!force && (this.status == \"notloaded\" || this.status == \"loading\" || this.status == \"closed\")) {\r\n            console.debug(\"Skip loading content: \" + provider.info.name)\r\n            return;\r\n        }\r\n\r\n        const op = Services.operation.begin({ message: \"Loading content: \" + provider.info.name });\r\n        try {\r\n            const content = await provider.getContentAsync(this);\r\n\r\n            this.title = this.formatTitle(Format.title(content.title));\r\n\r\n            if (content.url)\r\n                this.url = content.url;\r\n\r\n            this._contentView.clear();\r\n            this._contentView.styles = mergeArrays(content.styles ?? this.contentStyle, [\"activity-content\"]);\r\n            this._contentView.name = provider.info.name;\r\n            this._contentView.buildStyles();\r\n\r\n            if (content.views)\r\n                content.views.forEach(a => this._contentView.addView(a));\r\n\r\n            this._actionBar.actions.clear();\r\n\r\n            if (this._floatingView)\r\n                this._floatingView.clear();\r\n\r\n            let actionPanel: Panel;\r\n\r\n            if (content.actions) {\r\n\r\n                content.actions.forEach(action => {\r\n\r\n                    if (action.priority == null || action.priority == ActionPriority.Secondary)\r\n                        this._actionBar.actions.add(this.createActionView(action));\r\n\r\n                    else if (action.priority == ActionPriority.Primary) {\r\n                        if (content.actionMode === undefined || content.actionMode != PrimaryActionMode.Button) {\r\n                            this._floatingView.visible = true;\r\n                            this._floatingView.addView(this.createActionView(action, { styles: [\"floating\", ...action.styles ?? []] }));\r\n                            if (content.actionMode == PrimaryActionMode.FloatingFull)\r\n                                this._floatingView.addStyle(\"full\");\r\n                            else\r\n                                this._floatingView.removeStyle(\"full\");\r\n                        }\r\n                        else {\r\n\r\n                            this._floatingView.visible = false;\r\n\r\n                            const actionView = ActionView.fromAction(action, { template: \"ActionButton\" });\r\n                            if (!actionPanel) {\r\n                                actionPanel = new Panel({\r\n                                    name: \"actions\",\r\n                                    styles: [\"vertical\", \"margin-items-v\"],\r\n                                });\r\n\r\n                                this._contentView.addView(actionPanel);\r\n                            }\r\n\r\n                            actionPanel.addView(actionView);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (content.searchAsync) {\r\n\r\n                const searchView = new SearchView({\r\n                    name: \"search-expanded\",\r\n                    isExpanded: true,\r\n                    searchAsync: content.searchAsync\r\n                });\r\n\r\n                this._actionBar.actions.add(searchView);\r\n            }\r\n\r\n            this._floatingView.visible = this._floatingView.content.count > 0;\r\n\r\n            this.actions.forEach(a => this._actionBar.actions.add(a));\r\n\r\n            await this._contentView.loadAsync();\r\n\r\n            if (provider?.activateAsync)\r\n                await provider.activateAsync(\"loading\");\r\n\r\n            this.onContentChanged(provider);\r\n\r\n            this._isContentLoaded = true;\r\n        }\r\n        catch (e) {\r\n\r\n            this.handleError(this, e);\r\n        }\r\n        finally {\r\n            op.end();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getAction(name: string): ActionView { \r\n\r\n        return linq(this._floatingView.content).first(a => a instanceof ActionView && a.name == name) as ActionView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected formatTitle(value: string) {\r\n        return value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createAsync() {\r\n\r\n        if (this.menu) {\r\n            this._actionBar = this.view.addView(new ActionBar({\r\n                title: this.prop(\"title\"),\r\n                mainAction: \"menu\",\r\n                navigationMenu: this.menu\r\n            }));\r\n        }\r\n        else {\r\n            this._actionBar = this.view.addView(new ActionBar({\r\n                onBack: () => this.closeAsync(),\r\n                title: this.prop(\"title\"),\r\n                mainAction: (this.host as IMultiPageHost).canGoBack ? \"back\" : \"none\"\r\n            }));\r\n        }\r\n\r\n        if (this.providers.length > 1) {\r\n\r\n            if (this._selector == ContentSelector.Manual) {\r\n                this.prop(\"activeContent\").subscribe(() => this.loadActiveContentAsync(false));\r\n            }\r\n            else {\r\n                let navStyle: string;\r\n                let itemTemplate: string;\r\n                let itemBehavoirs: string[];\r\n\r\n                switch (this._selector) {\r\n                    case ContentSelector.Tabs:\r\n                        navStyle = \"tab-view\";\r\n                        itemTemplate = \"TextView\";\r\n                        itemBehavoirs = [\"ripple\"];\r\n                        break;\r\n                    case ContentSelector.BottomNav:\r\n                        navStyle = \"bottom-nav\";\r\n                        itemTemplate = \"IconTextView\";\r\n                        itemBehavoirs = [\"ripple\"];\r\n                        break;\r\n                }\r\n\r\n                this._navBar = new NavBar({\r\n                    styles: [<any>navStyle],\r\n                    itemTemplate: itemTemplate,\r\n                    onItemSelected: a => this.loadContentAsync(a.content, false),\r\n                    selectedItem: this.prop(\"activeContent\"),\r\n                    itemBehavoirs: itemBehavoirs,\r\n                    items: linq(this.providers).select(a => ({\r\n                        name: a.info.name,\r\n                        icon: a.info.icon,\r\n                        text: a.info.displayName,\r\n                        content: a\r\n                    })).toArray()\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this._navBar && this._selector == ContentSelector.Tabs)\r\n            this.view.addView(this._navBar);\r\n\r\n        this._contentView = this.view.addView(new Panel({ styles: this.contentStyle }));\r\n  \r\n        if (this._navBar && this._selector == ContentSelector.BottomNav)\r\n            this.view.addView(this._navBar);\r\n\r\n        this._floatingView = this.view.addView(new Panel({ name: \"floating-container\", template: \"ItemsViewWrapped\", visible: false, styles: this.floatingStyle }));\r\n\r\n        if (this.providers.length == 1)\r\n            this.activeContentProvider = this.providers[0];\r\n\r\n        this.status = \"created\";\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createActionView(action: IAction, config?: IActionViewConfig): ActionView {\r\n        return ActionView.fromAction(action, config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onContentChanged(newContent: IViewContentProvider<this>) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get actionBar() { return this._actionBar; }\r\n\r\n    activeContent: string = null;\r\n\r\n    activeContentProvider: IViewContentProvider<this> = null;\r\n\r\n    providers: IViewContentProvider<this>[] = [];\r\n\r\n    menu: IPopUpMenu = null;\r\n\r\n    actions: ActionView[] = [];\r\n\r\n    floatingStyle: ViewStyle[] = [\"vertical\", \"item-absolute\", \"bottom\", \"fill-h\", \"center-items-h\"];\r\n\r\n    contentStyle: ViewStyle[] = [\"vertical\", \"scroll\"];\r\n}\r\n\r\nregisterType(ContentActivity, \"ContentActivity\");","﻿import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\nimport { forEachAsync } from \"../../Core/Utils/ArrayUtils\";\r\nimport { IItemsContainer, IItemsLoader } from \"../Abstraction/IItemsLoader\";\r\n\r\nexport class FullItemsLoader<TItem = any> implements IItemsLoader<TItem, any>  {\r\n\r\n    async loadItemsAsync(container: IItemsContainer<TItem, any>, chunkSize: number): Promise<void> {\r\n\r\n        container.status = \"loading\";\r\n        const operation = Services.operation.begin({ message: \"Loading items\", type: OperationType.Local });\r\n        try {\r\n\r\n            const items = await container.itemsSource.getItemsAsync(container.filter);\r\n\r\n            container.clear();\r\n\r\n            if (items)\r\n                await forEachAsync(items, chunkSize, a => container.addItem(a));\r\n\r\n        }\r\n        finally {\r\n            operation.end();\r\n            container.status = \"loaded\";\r\n        }\r\n    }\r\n\r\n    static readonly instance = new FullItemsLoader();\r\n}","﻿import { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/TextView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ITextViewConfig extends IContentViewConfig<string> {\r\n\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class TextView extends ContentView<string> {\r\n\r\n    constructor(config?: ITextViewConfig) {\r\n\r\n        super({ template: \"TextContent\", ...config });\r\n    }\r\n}\r\n\r\nregisterType(TextView, \"TextView\");\r\n","import { linq } from \"../../Core/Linq\";\r\nimport { getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList, IObservableListHandler } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IItemsContainer, IItemsLoader } from \"../Abstraction/IItemsLoader\";\r\nimport { IScrollData, IScrollListener } from \"../Abstraction/IScrollListener\";\r\nimport { ISingleItemSelector } from \"../Abstraction/ISingleItemSelector\";\r\nimport { IView, IViewFactory } from \"../Abstraction/IView\";\r\nimport { isAsyncLoad, isSelectable } from \"../Helpers/TypeCheck\";\r\nimport { FullItemsLoader } from \"../Items/FulltemsLoader\";\r\nimport { IItemChangeListener } from \"../Items/ItemsObserver\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\nimport { TextView } from \"./TextView\";\r\nimport { ViewComponentStatus } from \"./ViewComponent\";\r\nimport \"Templates/ListView.html\";\r\nimport { Services } from \"../../Core/Global\";\r\n\r\n\r\ntype ListViewStatus = ViewComponentStatus | \"loading\";\r\n\r\nexport type SelectionMode = \"none\" | \"multiple\" | \"single\";\r\n\r\n/****************************************/\r\n\r\nexport interface IListViewConfig<TItem, TView extends IView, TFilter extends {}> extends IItemsViewConfig<TView> {\r\n\r\n    itemsSource?: ItemsSource<TItem, any, any>;\r\n\r\n    createItemView?: IViewFactory<TItem, TView>;\r\n\r\n    itemsLoader?: IItemsLoader<TItem, any>;\r\n\r\n    onSelectdItemChanged?: (item: TItem) => void;\r\n\r\n    isListenerActive?: boolean;\r\n\r\n    items?: Bindable<IObservableList<TItem>>;\r\n\r\n    filter?: TFilter;\r\n\r\n    selectionMode?: SelectionMode;\r\n\r\n    showSeparator?: boolean;\r\n\r\n    isAutoLoad?: boolean;\r\n\r\n    footer?: IView[];\r\n\r\n    header?: IView[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ListView<TItem = any, TView extends IView = any, TFilter extends {} = any> extends ItemsView<TView> implements IScrollListener, IItemsContainer<TItem, any>, IAsyncLoad, ISingleItemSelector<TItem> {\r\n\r\n    protected _isLoaded: boolean = false;\r\n    protected _itemViewMap = new Map<TView, TItem>();\r\n    protected _listener: IItemChangeListener<TItem, any>;\r\n\r\n    constructor(config?: IListViewConfig<TItem, TView, TFilter>) {\r\n\r\n        super({ template: \"ListView\", styles: [\"default\"], ...config });\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"items\", config);\r\n\r\n        this.bindConfig(\"filter\", config);\r\n\r\n        this.bindConfig(\"selectionMode\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.itemsLoader)\r\n                this.itemsLoader = config.itemsLoader;\r\n\r\n            if (config.showSeparator !== undefined)\r\n                this.showSeparator = config.showSeparator;\r\n\r\n            if (config.createItemView)\r\n                this.createItemViewWork = config.createItemView;\r\n\r\n            if (config.header)\r\n                this.header.addRange(config.header);\r\n\r\n            if (config.footer)\r\n                this.footer.addRange(config.footer);\r\n        }\r\n\r\n        if (!config?.items)\r\n            this.items = observableListOf();\r\n\r\n        if (!this.itemsLoader && this.itemsSource)\r\n            this.itemsLoader = FullItemsLoader.instance;\r\n\r\n        if (config && config.isAutoLoad)\r\n            this.loadAsync();\r\n\r\n        const itemsHandler = <IObservableListHandler<TItem>>{\r\n\r\n            onClear: () => {\r\n                this.selectedItem = null;\r\n                this._itemViewMap.clear();\r\n                this.content.clear();\r\n            },\r\n\r\n            onItemAdded: (item, index, reason) => {\r\n                if (reason != \"replace\")\r\n                    this.content.insert(index, this.createItemView(item));\r\n            },\r\n\r\n            onItemRemoved: (item, index, reason) => {\r\n                if (reason == \"remove\")\r\n                    this.content.removeAt(index)\r\n            },\r\n\r\n            onItemReplaced: (newItem, oldItem, index) => this.content.set(index, this.createItemView(newItem)),\r\n\r\n            onItemSwap: (index, newIndex) => this.content.swap(index, newIndex),\r\n        };\r\n\r\n        this.prop(\"items\").subscribe((value, oldValueX) => {\r\n\r\n            if (oldValueX != null)\r\n                oldValueX.unsubscribe(itemsHandler);\r\n\r\n            this.content.clear();\r\n\r\n            if (value) {\r\n                value.subscribe(itemsHandler);\r\n                for (const item of value)\r\n                    this.content.add(this.createItemView(item))\r\n                this.status = \"loaded\";\r\n            }\r\n        });\r\n\r\n        this.prop(\"items\").notifyChanged();\r\n\r\n        this.prop(\"selectedItem\").subscribe((value, oldValue) => {\r\n\r\n            if (this.selectionMode == \"single\")\r\n                this.updateItemSelection(oldValue, false);\r\n\r\n            if (this.selectionMode != \"none\") {\r\n                this.updateItemSelection(value, true);\r\n\r\n                if (config?.onSelectdItemChanged)\r\n                    config.onSelectdItemChanged(value);\r\n            }\r\n        });\r\n\r\n        if (config?.isListenerActive)\r\n            this.activateListener();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    activateListener() {\r\n\r\n        if (!this.itemsSource?.typeName)\r\n            return;\r\n\r\n        if (!this._listener)\r\n\r\n            this._listener = {\r\n\r\n                onItemAdded: args => this.refreshAsync(),\r\n\r\n                onItemRemoved: args => {\r\n                    if (args.value)\r\n                        this.items.removeWhen(a => this.itemsSource.equals(this.itemsSource.getItemValue(a), args.value));\r\n                },\r\n\r\n                onItemChanged: async args => {\r\n\r\n                    const index = linq(this.items).indexOf(a => this.itemsSource.equals(this.itemsSource.getItemValue(a), args.value));\r\n                    if (index != -1) {\r\n                        const newItem = await this.itemsSource.getItemByValueAsync(args.value);\r\n                        if (newItem)\r\n                            this.items.set(index, newItem);\r\n                    }\r\n                }\r\n            };\r\n\r\n        Services.itemsObserver.register(this.itemsSource.typeName, this._listener);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    deactivateListener() {\r\n\r\n        if (this._listener)\r\n            Services.itemsObserver.unregister(this.itemsSource.typeName, this._listener);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateItemSelection(item: TItem, isSelected: boolean) {\r\n\r\n        const view = this.findItemView(item);\r\n\r\n        if (isSelectable(view))\r\n            view.isSelected = isSelected;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    findItemView(item: TItem): TView {\r\n\r\n        if (!item)\r\n            return null;\r\n        return linq(this._itemViewMap.entries()).where(a => a[1] == item).select(a => a[0]).first();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeItem(item: TItem) {\r\n\r\n        this.items.remove(item);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addItem(item: TItem, index?: number) : TView {\r\n\r\n        if (index !== undefined) {\r\n            this.items.insert(index, item);\r\n            return this.content.get(index);\r\n        }\r\n        else {\r\n            this.items.add(item);\r\n            return this.content.last;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        this.items.clear();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadAsync() {\r\n\r\n        if (this._isLoaded)\r\n            return;\r\n\r\n        await this.refreshAsync(); //TODO await added on 28/09/2021\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async refreshAsync() {\r\n\r\n        let oldSelection = this.selectedItem;\r\n\r\n        if (this.itemsLoader) {\r\n\r\n            this.beginUpdate();\r\n\r\n            await this.itemsLoader.loadItemsAsync(this, 25);\r\n\r\n            if (!oldSelection && this.selectedItem)\r\n                oldSelection = this.selectedItem;\r\n\r\n            this.endUpdate();\r\n        }\r\n\r\n        this._isLoaded = true;\r\n\r\n        if (oldSelection && this.itemsSource)\r\n            this.selectedItem = linq(this.items).first(a => this.itemsSource.itemComparer(a, oldSelection));\r\n        else\r\n            this.selectedItem = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemRemoved(itemView: TView) {\r\n\r\n        if (itemView) {\r\n\r\n            if (itemView.parentView == this)\r\n                itemView.parentView = null;\r\n\r\n            const item = this._itemViewMap.get(itemView);\r\n\r\n            if (item == this.selectedItem)\r\n                this.selectedItem = null;\r\n\r\n            this._itemViewMap.delete(itemView);\r\n\r\n            //TODO remove selection\r\n            /*\r\n            if (ViewUtils.isSelectable(itemView))\r\n                itemView.prop(\"isSelected\").unsubscribe(this.selectionHandler);*/\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem): TView {\r\n\r\n        const itemView = this.createItemViewWork(item);\r\n\r\n        if ((this.status == \"loading\" || this.status == \"loaded\") && isAsyncLoad(itemView)) {\r\n            itemView.loadAsync(); //Not awaited\r\n        }\r\n\r\n        if (itemView) {\r\n            itemView.parentView = this;\r\n            this._itemViewMap.set(itemView, item);\r\n            if (isSelectable(itemView))\r\n                itemView.prop(\"isSelected\").subscribe(value => {\r\n                    if (value)\r\n                        this.selectedItem = item;\r\n                });\r\n        }\r\n\r\n        return itemView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemViewWork(item: TItem): TView {\r\n\r\n        const factory = Services.views[getTypeName(item)];\r\n        if (factory)\r\n            return <TView>factory(item);\r\n\r\n        return <any>new TextView({ content: this.itemsSource ? this.itemsSource.getItemText(item) : item.toString() });\r\n    }\r\n\r\n    /****************************************/\r\n    \r\n    onScroll(data: IScrollData) {\r\n\r\n        if (this.itemsLoader && \"onScroll\" in this.itemsLoader)\r\n            (this.itemsLoader as unknown as IScrollListener).onScroll(data);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get itemsCount() { return this.content.count }\r\n\r\n    get isScrollCheckActive() { return this.itemsLoader && \"onScroll\" in this.itemsLoader }\r\n\r\n    readonly header : IObservableList<IView> = observableListOf();\r\n\r\n    readonly footer: IObservableList<IView> = observableListOf();\r\n\r\n    itemsSource: ItemsSource<TItem, any, TFilter> = null;\r\n\r\n    itemsLoader: IItemsLoader<TItem, TFilter> = null;\r\n\r\n    items: IObservableList<TItem> = null;\r\n\r\n    selectedItem: TItem = null;\r\n\r\n    status: ListViewStatus = \"\";\r\n\r\n    selectionMode: SelectionMode = \"none\";\r\n\r\n    showSeparator: boolean = false;\r\n\r\n    filter: TFilter = null;\r\n}\r\n\r\nregisterType(ListView, \"ListView\");","﻿import { get, getTypeName, set, setTypeName } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IItemCreateOptions<TItem, TValue> {\r\n\r\n    value?: TValue;\r\n\r\n    item?: TItem;\r\n\r\n    text?: string;\r\n\r\n    type?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Item {\r\n\r\n    static create<TItem, TValue = TItem>(options: IItemCreateOptions<TItem, TValue>): TValue {\r\n\r\n        let newValue: any = options.value;\r\n\r\n        if (typeof newValue == \"string\")\r\n            newValue = new String(newValue);\r\n        else if (typeof newValue == \"number\")\r\n            newValue = new Number(newValue);\r\n        else if (typeof newValue == \"boolean\")\r\n            newValue = new Boolean(newValue);\r\n        else if (newValue instanceof Date)\r\n            newValue = new Date(newValue.getTime());\r\n\r\n        if (options.item) {\r\n            options.item.valueOf = () => options.value;\r\n            if (options.value)\r\n                options.item[\"toJSON\"] = () => options.value;\r\n            if (options.text)\r\n                options.item.toString = () => options.text;\r\n            if (options.type)\r\n                options.item[\"$type\"] = () => options.type;\r\n        }\r\n\r\n        if (newValue) {\r\n\r\n            if (options.text)\r\n                newValue.toString = () => options.text;\r\n\r\n            if (options.type)\r\n                setTypeName(newValue, options.type);\r\n\r\n            if (options.item !== undefined)\r\n                set(newValue, \"@item\", options.item);\r\n\r\n            newValue[\"toJSON\"] = () => {\r\n                if ((options.value as any)?.toJSON)\r\n                    return (options.value as any).toJSON();\r\n                return options.value;\r\n            }\r\n        }\r\n\r\n        if (newValue)\r\n            return newValue;\r\n\r\n        return <any>options.item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static getText(value: any): string {\r\n\r\n        if (value == null || value == undefined)\r\n            return \"\";\r\n\r\n        const item = this.getItem(value);\r\n        if (item !== value)\r\n            return item.toString();\r\n\r\n        return value.toString();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static getType(value: any): string {\r\n\r\n        return getTypeName(value);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static getValue<TValue>(value: any): TValue {\r\n\r\n        if (!value)\r\n            return;\r\n\r\n        if (value.valueOf)\r\n            return <TValue>value.valueOf();\r\n\r\n        return <TValue>value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static getItem<TItem>(value: any): TItem {\r\n        if (!value)\r\n            return;\r\n\r\n        const item = get<TItem>(value, \"@item\");\r\n        if (item)\r\n            return item;\r\n\r\n        return undefined;\r\n    }\r\n}","﻿import { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { EqualityComparer } from \"../../Core/Types/Types\";\r\nimport { Item } from \"./Item\";\r\n\r\nexport interface IItemsSourceConfig<TItem, TValue, TFilter> {\r\n\r\n    getItemsAsync?: (filter: TFilter) => Promise<TItem[]>;\r\n\r\n    getItemByValueAsync?: (value: TValue) => Promise<TItem>;\r\n\r\n    getItemText?: (item: TItem) => string;\r\n\r\n    getItemValue?: (item: TItem) => TValue;\r\n\r\n    countAsync?: (filter: TFilter) => number;\r\n\r\n    getFilter?: (text?: string, offset?: number, pageSize?: number) => TFilter;\r\n\r\n    equals?: (a: TValue, b: TValue) => boolean\r\n\r\n    displayName?: LocalString;\r\n\r\n    typeName?: string;\r\n\r\n    allowZero?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ItemsSource<TItem, TValue = any, TFilter = any> {\r\n\r\n    protected _typeName: string;\r\n    protected _allowZero: boolean;\r\n\r\n    constructor(config?: IItemsSourceConfig<TItem, TValue, TFilter>) {\r\n\r\n        if (config) {\r\n\r\n            if (config.getItemsAsync)\r\n                this.getItemsAsync = config.getItemsAsync;\r\n\r\n            if (config.allowZero !== undefined)\r\n                this._allowZero = config.allowZero;\r\n\r\n            if (config.getItemValue)\r\n\r\n                this.getItemValue = (a, bindItem) => {\r\n\r\n                    if (bindItem === false)\r\n                        return config.getItemValue(a);\r\n\r\n                    if (!a && (a as any !== 0 || !config.allowZero))\r\n                        return undefined;\r\n                    const value = config.getItemValue(a);\r\n                    if (value === null)\r\n                        return null;\r\n                    return Item.create({ type: this.typeName, value: value, text: this.getItemText(a), item: a });\r\n                }\r\n\r\n            if (config.getItemText)\r\n                this.getItemText = config.getItemText;\r\n\r\n            if (config.getFilter)\r\n                this.getFilter = config.getFilter;\r\n\r\n            if (config.getItemByValueAsync) {\r\n\r\n                this.getItemByValueAsync = value => {\r\n\r\n                    const item = Item.getItem<TItem>(value);\r\n\r\n                    if (item)\r\n                        return Promise.resolve(item);\r\n\r\n                    return config.getItemByValueAsync(value);\r\n                };\r\n            }\r\n\r\n            if (config.equals)\r\n                this.equals = config.equals;\r\n\r\n            this._typeName = config.typeName;\r\n\r\n            this.displayName = config.displayName;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemsAsync(filter?: TFilter): Promise<TItem[]> {\r\n\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemText(item: TItem): string {\r\n\r\n        if (item)\r\n            return item.toString();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemValue(item: TItem, bindItem?: boolean): TValue {\r\n        return <any>item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getFilter(text?: string, offset?: number, pageSize?: number): TFilter {\r\n\r\n        return <TFilter>{};\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async countAsync(filter: TFilter): Promise<number> {\r\n\r\n        return (await this.getItemsAsync(filter)).length;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemByValueAsync(value: TValue): Promise<TItem> {\r\n\r\n        const item = Item.getItem<TItem>(value);\r\n\r\n        if (item)\r\n            return Promise.resolve(item);\r\n\r\n        return Promise.resolve(value as unknown as TItem);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    equals(a: TValue, b: TValue): boolean {\r\n\r\n        if (a == b)\r\n            return true;\r\n        if (a != undefined && a.valueOf && b != undefined && b.valueOf)\r\n            return a.valueOf() == b.valueOf();\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get itemComparer(): EqualityComparer<TItem> {\r\n\r\n        return (a, b) => this.equals(this.getItemValue(a), this.getItemValue(b));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get typeName() {\r\n        return this._typeName;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get allowZero() {\r\n        return this._allowZero;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    displayName: LocalString;\r\n}","﻿import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { IItemsContainer, IItemsLoader } from \"../Abstraction/IItemsLoader\";\r\nimport { IScrollData, IScrollListener } from \"../Abstraction/IScrollListener\";\r\n\r\nexport interface IPagedItemsLoaderConfigConfig<TFilter> {\r\n\r\n    pageSize?: number;\r\n\r\n    getFilter?: (offset: number, pageSize: number) => TFilter;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class PagedItemsLoader<TItem = any, TFilter = object> extends BindableObject implements IItemsLoader<TItem, TFilter>, IScrollListener {\r\n\r\n    private _hasMoreItems: boolean = true;\r\n    private _container: IItemsContainer<TItem, TFilter>;\r\n\r\n    constructor(config?: IPagedItemsLoaderConfigConfig<TFilter>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"pageSize\", config);\r\n\r\n        if (config) {\r\n            if (config.getFilter)\r\n                this.getFilter = config.getFilter;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadItemsAsync(container: IItemsContainer<TItem, TFilter>, chunkSize: number): Promise<void> {\r\n\r\n        this._container = container;\r\n\r\n        this._hasMoreItems = true;\r\n\r\n        this._container.clear();\r\n\r\n        return this.loadNextPageAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadNextPageAsync(): Promise<void> {\r\n\r\n        if (!this.canLoadNextPage)\r\n            return;\r\n\r\n\r\n        if (this._container.itemsSource) {\r\n\r\n            const filter = this.getFilter(this._container.itemsCount, this.pageSize);\r\n\r\n            const operation = Services.operation.begin({ message: \"Laoding items from \" + this._container.itemsCount, type: OperationType.Local });\r\n\r\n            try {\r\n\r\n                this._container.status = \"loading\";\r\n\r\n                const newItems = await this._container.itemsSource.getItemsAsync({ ...filter, ...this._container.filter });\r\n\r\n                if (!newItems || newItems.length == 0)\r\n                    this._hasMoreItems = false;\r\n                else {\r\n\r\n                    newItems.forEach(item =>\r\n                        this._container.addItem(item));\r\n\r\n                    this._hasMoreItems = newItems.length == this.pageSize;\r\n                }\r\n            }\r\n            finally {\r\n                operation.end();\r\n                this._container.status = \"loaded\";\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onScroll(data: IScrollData) {\r\n        if (data.pageBottom < 1 && this.canLoadNextPage)\r\n            this.loadNextPageAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getFilter(offset: number, pageSize: number): TFilter {\r\n\r\n        return { ...this._container.filter, ...this._container.itemsSource.getFilter(undefined, offset, pageSize) };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected get canLoadNextPage() {\r\n        return this._hasMoreItems && this._container.status != \"loading\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    pageSize: number = 20;\r\n\r\n    readonly isScrollCheckActive = true;\r\n\r\n\r\n}","import { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IView, IViewFactory, ViewStyle } from \"../Abstraction/IView\";\r\nimport { ActionBar } from \"../Components/ActionBar\";\r\nimport { IconTextView } from \"../Components/IconTextView\";\r\nimport { IListViewConfig, ListView } from \"../Components/ListView\";\r\nimport { SearchView } from \"../Components/SearchView\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { PagedItemsLoader } from \"../Items/PagedItemsLoader\";\r\nimport { Activity, IActivityConfig } from \"./Activity\";\r\n\r\nexport type ItemSearchMode = \"client\" | \"default\";\r\n\r\nexport interface ISearchActivityConfig<TItem, TItemView extends IView> extends IActivityConfig {\r\n\r\n    createItemView?: IViewFactory<TItem, TItemView>;\r\n\r\n    searchAsync?: (query: string, offset?: number, pageSize?: number) => Promise<TItem[]>;\r\n\r\n    searchMode?: ItemSearchMode;\r\n\r\n    tooltip?: LocalString;\r\n\r\n    query?: string;\r\n\r\n    pageSize?: number;\r\n\r\n    listStyles?: ViewStyle[];\r\n\r\n    noMatchingText?: LocalString;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SearchActivity<TItem, TItemView extends IView, TResult = any> extends Activity<TResult> {\r\n\r\n    protected _actionBar: ActionBar;\r\n    protected _listView: ListView<TItem, TItemView>;\r\n    protected _searchView: SearchView;\r\n    protected _emptyView: IconTextView;\r\n    protected _lastItems: TItem[];\r\n\r\n    constructor(config?: ISearchActivityConfig<TItem, TItemView>) {\r\n        super(config);\r\n\r\n        this.bindConfigString(\"tooltip\", config);\r\n\r\n        this.bindConfig(\"pageSize\", config);\r\n\r\n        this.bindConfig(\"noMatchingText\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.createItemView)\r\n                this.createItemView = config.createItemView;\r\n\r\n            if (config.searchAsync)\r\n                this.searchWorkAsync = config.searchAsync;\r\n\r\n\r\n            if (config.query)\r\n                this.searchText = config.query;\r\n\r\n            if (config.listStyles)\r\n                config.listStyles.forEach(a => this.listStyles.push(a));\r\n        }\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    refreshAsync() {\r\n\r\n        return this._listView.refreshAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async createAsync() {\r\n        this._actionBar = this.view.addView(new ActionBar({\r\n            onBack: () => this.closeAsync(),\r\n            title: this.prop(\"title\"),\r\n            mainAction: \"back\"\r\n        }));\r\n\r\n        this._searchView = new SearchView({\r\n            name: \"search-expanded\",\r\n            tooltip: this.prop(\"tooltip\"),\r\n            isExpanded: true,\r\n            searchText: this.prop(\"searchText\"),\r\n            searchAsync: text => this._listView.refreshAsync()\r\n        });\r\n\r\n        this._actionBar.actions.add(this._searchView);\r\n\r\n        this._emptyView = new IconTextView({\r\n            styles: [\"empty-view\"],\r\n            visible: false\r\n        });\r\n\r\n        this._listView = this.view.addView(new ListView({\r\n            name: \"content\",\r\n            styles: this.listStyles,\r\n            template: \"ListViewInline\",\r\n            header: [this._emptyView],\r\n            itemsSource: new ItemsSource({\r\n                getItemsAsync: async () => {\r\n                    const searchText = this.searchText;\r\n                    const items = await this.searchWorkAsync(searchText);\r\n                    if (!searchText)\r\n                        this._lastItems = items;\r\n                    this.updateView(items?.length > 0, searchText);\r\n                    return items;\r\n                }\r\n            }),\r\n            itemsLoader: this.pageSize ? new PagedItemsLoader({\r\n                getFilter: (offset, pageSize) => this.getFilter(this.searchText, offset, pageSize),\r\n                pageSize: this.pageSize\r\n            }) : undefined,\r\n            createItemView: item => this.createItemView(item),\r\n            ...this.configureListView()\r\n        }));\r\n\r\n\r\n\r\n        setTimeout(() =>\r\n            this._searchView.hasFocus = true, 500);\r\n\r\n        await this.refreshAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateView(hasItems: boolean, searchText: string) {\r\n\r\n        if (!hasItems) {\r\n\r\n            this._emptyView.visible = true;\r\n\r\n            if (!this.searchText) {\r\n                this._emptyView.icon = \"fas fa-microscope\";\r\n                this._emptyView.text = \"\";\r\n            }\r\n            else {\r\n\r\n                this._emptyView.icon = \"far fa-sad-cry\";\r\n                if (this.noMatchingText)\r\n                    this._emptyView.text = Format.text(this.noMatchingText, searchText);\r\n            }\r\n        }\r\n        else\r\n            this._emptyView.visible = false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected configureListView() {\r\n\r\n        return <IListViewConfig<TItem, TItemView, any>>{};\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem): TItemView {\r\n        throw \"Not Implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected searchWorkAsync(query: string, offset?: number, pageSize?: number): Promise<TItem[]> {\r\n        throw \"Not Implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getFilter(query: string, offset?: number, pageSize?: number) {\r\n        return {}\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    searchText: string = null;\r\n\r\n    tooltip: string = null;\r\n\r\n    pageSize: number = 0;\r\n\r\n    listStyles: ViewStyle[] = [\"vertical\", \"scroll\", \"compact\"];\r\n\r\n    emptyView: IconTextView;\r\n\r\n    noMatchingText: LocalString = null;\r\n}\r\n\r\nregisterType(SearchActivity, \"SearchActivity\");","import { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport * as Hammer from \"hammerjs\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\ntype BottomSheetStatus = \"close\" | \"open\" | \"head\" | \"moving\";\r\n\r\n\r\n/********************************************/\r\n\r\nexport interface IBottomSheetConfig<TContent extends IView> extends IContentViewConfig<TContent> {\r\n\r\n    headHeight?: Bindable<number>;\r\n\r\n    isShowOpener?: Bindable<boolean>;\r\n\r\n    headSelector?: string;\r\n\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class BottomSheet<TContent extends IView = IView> extends ContentView<TContent> implements IHTMLAttach {\r\n\r\n    protected _element: HTMLElement;\r\n    protected _margin: number = 20;\r\n    private _isAnimating = 0;\r\n\r\n    /********************************************/\r\n\r\n    constructor(config?: IBottomSheetConfig<TContent>) {\r\n        super({ template: \"BottomSheet\", ...config });\r\n\r\n        this.bindConfig(\"headHeight\", config);\r\n\r\n        this.bindConfig(\"headSelector\", config);\r\n\r\n        this.bindConfig(\"isShowOpener\", config);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement): void {\r\n\r\n        this._element = element;\r\n\r\n        const hammer = new Hammer(element, {\r\n            recognizers: [[Hammer.Pan, { direction: Hammer.DIRECTION_VERTICAL }]]\r\n        });\r\n\r\n        let startHeight = 0;\r\n        let oldStatus = this.status;\r\n        let startScrollTop = 0;\r\n\r\n        hammer.on(\"panstart\", ev => {\r\n\r\n            oldStatus = this.status;\r\n            this.status = \"moving\";\r\n\r\n            startScrollTop = element.scrollTop;\r\n            startHeight = element.clientHeight;\r\n        });\r\n\r\n        hammer.on(\"panend\", ev => {\r\n\r\n            if (element.clientHeight < this.headHeight - this._margin)\r\n                this.close();\r\n            else {\r\n\r\n                if (oldStatus == \"open\") {\r\n                    if (ev.deltaY > this._margin && this._element.scrollTop <= 0)\r\n                        this.head();\r\n                    else\r\n                        this.open();\r\n                }\r\n                else {\r\n                    if (element.clientHeight > this.headHeight + this._margin)\r\n                        this.open();\r\n                    else\r\n                        this.head();\r\n                }\r\n            }\r\n        });\r\n\r\n        hammer.on(\"panmove\", ev => {\r\n\r\n            let deltaY = ev.deltaY;\r\n\r\n            //Scroll when is opened\r\n\r\n            if (oldStatus == \"open\") {\r\n                const newScrollTop = startScrollTop - deltaY;\r\n                if (deltaY < 0) {\r\n                    this._element.scrollTop = newScrollTop;\r\n                    return;\r\n                }\r\n                else {\r\n\r\n                    if (newScrollTop >= 0) {\r\n                        this._element.scrollTop = newScrollTop;\r\n                        return;\r\n                    }\r\n                    this._element.scrollTop = 0;\r\n                    deltaY = -newScrollTop;\r\n                }\r\n            }\r\n\r\n            //Oopen, close, head\r\n\r\n            let newHeight = startHeight - deltaY;\r\n            const panHeight = newHeight;\r\n            let enableScrolling = false;\r\n\r\n            if (newHeight < this._margin)\r\n                newHeight = 0;\r\n\r\n            else if (newHeight > (element.parentNode as HTMLElement).clientHeight - this._margin && newHeight < this._element.scrollHeight) {\r\n                newHeight = (element.parentNode as HTMLElement).clientHeight;\r\n                enableScrolling = true;\r\n            }\r\n\r\n            else if (newHeight > this._element.scrollHeight)\r\n                newHeight = this._element.scrollHeight;\r\n\r\n            else if (newHeight > this.headHeight - this._margin && newHeight < this.headHeight + this._margin)\r\n                newHeight = this.headHeight;\r\n\r\n            element.style.height = newHeight + \"px\";\r\n\r\n            //Scroll while opening\r\n\r\n            if (panHeight - newHeight > 0 && enableScrolling)\r\n                this._element.scrollTop = panHeight - newHeight;\r\n            else\r\n                this._element.scrollTop = 0;\r\n        });\r\n\r\n        switch (this.status) {\r\n            case \"head\":\r\n                this.head();\r\n                break;\r\n            case \"open\":\r\n                this.open();\r\n                break;\r\n            case \"close\":\r\n                this.close();\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected async setHeightAsync(value: number) {\r\n\r\n        this._isAnimating++;\r\n\r\n        if (this._isAnimating == 1)\r\n            this._element.classList.add(\"animate\");\r\n\r\n        await delayAsync(0);\r\n\r\n        this._element.style.height = value.toString() + \"px\";\r\n\r\n        await delayAsync(500);\r\n\r\n        this._isAnimating--;\r\n\r\n        if (this._isAnimating == 0)\r\n            this._element.classList.remove(\"animate\");\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    toggle() {\r\n\r\n        if (this.status == \"open\" || this.status == \"close\")\r\n            this.head();\r\n        else\r\n            this.open();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    open() {\r\n\r\n        this.status = \"open\";\r\n\r\n        if (this._element)\r\n            this.setHeightAsync(this._element.scrollHeight);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    head() {\r\n\r\n        this.status = \"head\";\r\n\r\n        if (this._element) {\r\n\r\n            if (this.headSelector) {\r\n\r\n                const headEl = this._element.querySelector(this.headSelector);\r\n                if (headEl) {\r\n                    this.headHeight = headEl.clientHeight;\r\n                    if (this.isShowOpener)\r\n                        this.headHeight += this._element.querySelector(\".opener\").clientHeight;\r\n                }\r\n            }\r\n\r\n            this.setHeightAsync(this.headHeight);\r\n        }\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    close() {\r\n\r\n        this.status = \"close\";\r\n\r\n        if (this._element)\r\n            this.setHeightAsync(0);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    isShowOpener: boolean = false;\r\n\r\n    headHeight: number = 100;\r\n\r\n    headSelector: string = null;\r\n\r\n    status: BottomSheetStatus = \"close\";\r\n}\r\n\r\nregisterType(BottomSheet, \"BottomSheet\");","﻿import { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/RemovableItemView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IRemovableItemViewConfig<TItem, TView extends IView> extends IContentViewConfig<TView> {\r\n\r\n    item?: TItem;\r\n\r\n    removeAsync?: () => Promise<void>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class RemovableItemView<TItem, TView extends IView = any> extends ContentView<TView> {\r\n\r\n    constructor(config?: IRemovableItemViewConfig<TItem, TView>) {\r\n        super(config);\r\n\r\n        this.bindConfig(\"item\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.removeAsync)\r\n                this.removeWorkAsync = config.removeAsync;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async removeAsync(): Promise<void> {\r\n\r\n        this.status = \"removed\";\r\n        await delayAsync(150);\r\n        await this.removeWorkAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected removeWorkAsync(): Promise<void> {\r\n\r\n        throw \"Not supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    item: TItem = null;\r\n}\r\n\r\nregisterType(RemovableItemView, \"RemovableItemView\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ISelectable } from \"../Abstraction/ISelectable\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/SelectableItemView.html\";\r\n\r\nexport interface ISelectableItemViewConfig<TItem, TContent> extends IContentViewConfig<TContent> {\r\n\r\n    isSelected?: Bindable<boolean>;\r\n\r\n    item?: TItem;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SelectableItemView<TItem, TContent> extends ContentView<TContent> implements ISelectable {\r\n    constructor(config?: ISelectableItemViewConfig<TItem, TContent>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"isSelected\", config);\r\n\r\n        this.bindConfig(\"item\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select() {\r\n\r\n        this.isSelected = true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toggle() {\r\n\r\n        this.isSelected = !this.isSelected;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isSelected: boolean = false;\r\n\r\n    item: TItem = null;\r\n}\r\n\r\nregisterType(SelectableItemView, \"SelectableItemView\");","﻿import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/Container.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IContainerConfig<TContent> extends IContentViewConfig<TContent> {\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    isExpanded?: Bindable<boolean>;\r\n\r\n    canExpand?: boolean;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class Container<TContent = any> extends ContentView<TContent> implements IHTMLAttach {\r\n\r\n    protected _element: HTMLDivElement;\r\n\r\n    constructor(config?: IContainerConfig<TContent>) {\r\n        super({ template: \"Container\", ...config });\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfig(\"isExpanded\", config);\r\n\r\n        this.bindConfig(\"canExpand\", config);\r\n\r\n        this.prop(\"content\").subscribe(() => this.checkOverflow());\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement): void {\r\n\r\n        this._element = <HTMLDivElement>element;\r\n\r\n        if (this.canExpand) {\r\n            this._element.addEventListener(\"resize\", () => this.checkOverflow());\r\n            this.checkOverflow();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    checkOverflow() {\r\n        if (this._element != null) {\r\n            const wrapper = this._element.querySelector(\".content-wrapper\");\r\n            if (wrapper != null) {\r\n                this.isOverflow = wrapper.scrollHeight > wrapper.clientHeight;\r\n                if (!this.isOverflow)\r\n                    this.isExpanded = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onContentChanged() {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    toggleExpand() {\r\n        this.isExpanded = !this.isExpanded;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    title: string = \"\";\r\n\r\n    isOverflow: boolean = true;\r\n\r\n    canExpand: boolean = false;\r\n\r\n    isExpanded: boolean = true;\r\n}\r\n\r\n\r\nregisterType(Container, \"Container\");\r\n","import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority, IAction } from \"../Abstraction/IAction\";\r\nimport { IActivable } from \"../Abstraction/IActivable\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewContent } from \"../Abstraction/IViewContent\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentInfo } from \"../Abstraction/IViewContentInfo\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { Container } from \"../Components/Container\";\r\nimport { isActivable } from \"../Helpers/TypeCheck\";\r\n\r\nexport interface IItemEditContentConfig<TItem, TEdit> {\r\n\r\n    editor?: IItemEditor<TItem, TEdit>;\r\n\r\n    value?: TItem;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    actions?: IAction[];\r\n\r\n    url?: string;\r\n\r\n    saveLabel?: LocalString;\r\n\r\n    savePriority?: ActionPriority;\r\n\r\n    styles?: ViewStyle[];\r\n\r\n    saveOnCommit?: boolean;\r\n\r\n    saveItemAsync?: (item: TEdit) => Promise<TItem>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ItemEditContent<TItem, TEdit> extends BindableObject implements IViewContentProvider {\r\n\r\n    private _host: IViewContentHost;\r\n\r\n    constructor(config: IItemEditContentConfig<TItem, TEdit>) {\r\n        super();\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        this.bindConfig(\"value\", config);\r\n\r\n        this.bindConfig(\"styles\", config);\r\n\r\n        this.bindConfig(\"url\", config);\r\n\r\n        this.bindConfig(\"actions\", config);\r\n\r\n        this.bindConfig(\"savePriority\", config);\r\n\r\n        this.bindConfig(\"saveOnCommit\", config);\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfigString(\"saveLabel\", config, StringUsage.Action);\r\n\r\n        if (config) {\r\n            if (config.saveItemAsync)\r\n                this.saveItemAsync = config.saveItemAsync;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getContentAsync(host: IViewContentHost) {\r\n\r\n        this._host = host;\r\n\r\n        await this.editor.beginEditAsync(this.value);\r\n\r\n        const container = new Container({\r\n            name: \"editor-container\",\r\n            title: this.title,\r\n            content: this.editor.view\r\n        });\r\n\r\n        if (isActivable(this.editor))\r\n            setTimeout(() => (this.editor as unknown as IActivable).activateAsync(), 200);\r\n\r\n        const actions: IAction[] = [];\r\n\r\n        if (this.saveOnCommit) {\r\n            this.editor.prop(\"value\").subscribe(value =>\r\n                this.saveAsync());\r\n        }\r\n        else {\r\n            actions.push({\r\n                name: \"save\",\r\n                icon: \"fas fa-save\",\r\n                displayName: this.saveLabel,\r\n                operation: OperationType.Global,\r\n                priority: this.savePriority,\r\n                executeAsync: () => this.saveAsync()\r\n            });\r\n        }\r\n\r\n        return {\r\n            views: [container],\r\n            actions: [...this.actions, ...actions],\r\n            styles: this.styles,\r\n            title: this.title,\r\n            url: this.url\r\n        } as IViewContent;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async saveItemAsync(item: TEdit): Promise<TItem> {\r\n\r\n        return item as unknown as TItem;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async saveAsync() {\r\n\r\n        //TODO check why it was needed before\r\n        //(App as IViewApplication).unblock(true);\r\n\r\n        if (this.saveOnCommit) {\r\n\r\n            if (!this.editor.isValid)\r\n                return;\r\n        }\r\n        else {\r\n\r\n            if (!await this.editor.commitAsync(true))\r\n                return;\r\n        }\r\n\r\n        const result = await this.saveItemAsync(this.editor.value);\r\n\r\n        if (result == null)\r\n            return;\r\n\r\n        await this._host.closeAsync(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    editor: IItemEditor<TItem, TEdit> = null;\r\n\r\n    title: string = null;\r\n\r\n    url: string = null;\r\n\r\n    value: TItem = null;\r\n\r\n    saveLabel: string = \"Save\";\r\n\r\n    saveOnCommit: boolean = false;\r\n\r\n    savePriority: ActionPriority = null;\r\n\r\n    actions: IAction[] = [];\r\n\r\n    styles: ViewStyle[] = [\"vertical\", \"scroll\", \"fill-h\", \"fit-items-h\"];\r\n\r\n    readonly info = {\r\n        name: \"item-edit\",\r\n        icon: \"fas fa-edit\",\r\n        displayName: \"Edit\",\r\n    } as IViewContentInfo;\r\n}","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\n\r\nexport interface IWebViewConfig extends IContentViewConfig<string> {\r\n\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class WebView extends ContentView<string> implements IHTMLAttach {\r\n\r\n    constructor(config?: IWebViewConfig) {\r\n\r\n        super({ template: \"WebView\", ...config });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLFrameElement): void {\r\n        this.window = element.contentWindow;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    window: Window;\r\n}\r\n\r\n\r\nregisterType(WebView, \"WebView\");","﻿import { App } from \"../../Core/Global\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { Uri } from \"../../Core/Helpers/Uri\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IMultiPageHost } from \"../Abstraction/IPageHost\";\r\nimport { IPageConfig, Page } from \"./Page\";\r\nimport { WebView } from \"./WebView\";\r\n\r\nexport interface IWebPageConfig extends IPageConfig<WebView> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class WebPage extends Page<WebView> {\r\n\r\n    constructor(config?: IWebPageConfig) {\r\n\r\n        super(config);\r\n\r\n        this.view = new WebView();\r\n        this.updateUrl();\r\n\r\n        this.prop(\"url\").subscribe(() => this.updateUrl());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateUrl() {\r\n        this.view.content = Uri.absolute(Format.replaceArgs(this.url, App.startupArgs));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected loadWorkAsync(): Promise<void> {\r\n\r\n        if (!this.view.window || this.view.window.document.readyState == \"complete\")\r\n            return Promise.resolve();\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            function onLoad(ev: Event) {\r\n                this.view.window.removeEventListener(\"load\", onLoad);\r\n                res();\r\n            }\r\n\r\n            function onError(ev: Event) {\r\n                this.view.window.removeEventListener(\"error\", onError);\r\n                rej();\r\n            }\r\n\r\n            this.view.window.addEventListener(\"load\", onLoad);\r\n            this.view.window.addEventListener(\"error\", onError);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    refreshAsync(): Promise<void> {\r\n\r\n        if (!this.view.window)\r\n            return Promise.resolve();\r\n\r\n        return new Promise((res, rej) => {\r\n\r\n            function onLoad(ev: Event) {\r\n                this.view.window.removeEventListener(\"load\", onLoad);\r\n                res();\r\n            }\r\n\r\n            function onError(ev: Event) {\r\n                this.view.window.removeEventListener(\"error\", onError);\r\n                rej();\r\n            }\r\n\r\n            this.view.window.addEventListener(\"load\", onLoad);\r\n            this.view.window.addEventListener(\"error\", onError);\r\n\r\n            this.view.window.document.location.reload();\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async closeAsync() {\r\n\r\n        this.view.window.close();\r\n\r\n        if (\"goBackAsync\" in this.host)\r\n            await (this.host as IMultiPageHost).goBackAsync();\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nregisterType(WebPage, \"WebPage\");","﻿import { App } from \"../../Core/Global\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { IViewApplication } from \"../Abstraction/IViewApplication\";\r\nimport { IViewConfig, View } from \"./View\";\r\n\r\nexport interface IBasePopUpMessageConfig extends IViewConfig {\r\n    className?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class BasePopUpMessage extends View {\r\n\r\n    protected _container: HTMLElement;\r\n\r\n    protected _showResolve: (value: string) => void;\r\n\r\n    protected _isVisible = false;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: IBasePopUpMessageConfig) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"className\", config);\r\n\r\n        this._container = document.createElement(\"DIV\");\r\n        this._container.className = this.className + \"-container\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync() {\r\n\r\n        if (this._isVisible)\r\n            return;\r\n\r\n        this._isVisible = true;\r\n\r\n        (App as IViewApplication).unblock(true);\r\n\r\n        const builder = new TemplateBuilder(this, this._container);\r\n\r\n        builder.template(this.template, a => a);\r\n\r\n        document.body.appendChild(this._container);\r\n\r\n        await delayAsync(0);\r\n\r\n        this._container.classList.add(\"visible\");\r\n\r\n        return new Promise<string>(res => this._showResolve = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hide(actionName: string) {\r\n\r\n        if (!this._isVisible)\r\n            return;\r\n\r\n        this._isVisible = false;\r\n\r\n        (App as IViewApplication).restoreBlock();\r\n\r\n        this._container.classList.remove(\"visible\");\r\n\r\n        if (this._showResolve) {\r\n\r\n            this._showResolve(actionName);\r\n            this._showResolve = null;\r\n        }\r\n\r\n        setTimeout(() => {\r\n\r\n            if (!this._isVisible)\r\n                document.body.removeChild(this._container);\r\n\r\n        }, 500);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    className: string = null;\r\n}\r\n\r\n\r\nregisterType(BasePopUpMessage, \"BasePopUpMessage\");","import { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority, IAction } from \"../Abstraction/IAction\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { BasePopUpMessage, IBasePopUpMessageConfig } from \"./BasePopUpMessage\";\r\nimport { Panel } from \"./Panel\";\r\nimport \"Templates/PopUpContent.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\n\r\nexport interface IPopUpContentConfig extends IBasePopUpMessageConfig {\r\n\r\n    contentProvider?: IViewContentProvider;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    contentStyle?: ViewStyle[]\r\n\r\n    closeLabel?: LocalString;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class PopUpContent<TResult = any> extends BasePopUpMessage implements IViewContentHost {\r\n\r\n    protected _resultResolve: (value: TResult) => void;\r\n\r\n    constructor(config?: IPopUpContentConfig) {\r\n\r\n        super({ template: \"PopUpContent\", className: \"pop-up-content\", ...config });\r\n\r\n        this.bindConfig(\"contentProvider\", config);\r\n\r\n        this.bindConfig(\"contentStyle\", config);\r\n\r\n        this.bindConfigString(\"title\", config);\r\n\r\n        this.bindConfigString(\"closeLabel\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async createAsync() {\r\n\r\n        const viewContent = await this.contentProvider.getContentAsync(this);\r\n\r\n        if (this.closeLabel) {\r\n            this.addAction({\r\n                name: \"close\",\r\n                icon: \"fas fa-close\",\r\n                displayName: this.closeLabel,\r\n                executeAsync: () => this.closeAsync()\r\n            });\r\n        }\r\n\r\n        if (viewContent.actions) \r\n            viewContent.actions.forEach(a => this.addAction(a));\r\n\r\n        if (!this.title && viewContent.title)\r\n            this.title = Format.title(viewContent.title);\r\n\r\n        this.contentView.content.clear();\r\n\r\n        if (viewContent.views)\r\n            viewContent.views.forEach(a => this.contentView.addView(a));\r\n\r\n        this.contentView.styles = [...this.contentStyle, ...viewContent.styles];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get result(): Promise<TResult> {\r\n        return new Promise<TResult>(res => this._resultResolve = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async openAsync() {\r\n\r\n        await this.createAsync();\r\n\r\n        await this.contentView.loadAsync();\r\n\r\n        this.showAsync(); //Not awaited\r\n\r\n        return this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notifyContentChanged(provider: IViewContentProvider) {\r\n\r\n        this.createAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    closeAsync(result?: any) {\r\n\r\n        if (this._resultResolve)\r\n            this._resultResolve(result);\r\n\r\n        this.hide(\"\");\r\n\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n\r\n        const actionView = ActionView.fromAction(action);\r\n\r\n        if (action.priority == ActionPriority.Evidence) {\r\n            actionView.styles.push(\"primary\");\r\n            actionView.buildStyles();\r\n        }\r\n\r\n        this.actions.add(actionView);\r\n\r\n        return actionView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    contentProvider: IViewContentProvider = null;\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    readonly contentView = new Panel();\r\n\r\n    title: string = null;\r\n\r\n    contentStyle: ViewStyle[] = [\"vertical\", \"fill-h\", \"fit-items-h\"];\r\n\r\n    closeLabel?: string = \"Cancel\";\r\n}\r\n\r\n\r\nregisterType(PopUpContent, \"PopUpContent\");","﻿import { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { ActionPriority, IAction } from \"../Abstraction/IAction\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { PopUpContent } from \"../Components/PopUpContent\";\r\nimport { IItemEditContentConfig, ItemEditContent } from \"../Content/ItemEditContent\";\r\n\r\nexport interface IPopUpEditorConfig<TItem, TEdit> extends IItemEditContentConfig<TItem, TEdit> {\r\n\r\n    closeLabel?: LocalString;\r\n\r\n    editToItemAsync?: (edit: TEdit) => Promise<TItem>;\r\n\r\n    name?: string;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class PopUpEditor<TItem, TEdit = TItem> extends BindableObject implements IAsyncEditor<TItem, TEdit> {\r\n\r\n    constructor(config?: IPopUpEditorConfig<TItem, TEdit>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"name\", config);\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        this.bindConfig(\"actions\", config);\r\n\r\n        this.bindConfig(\"styles\", config);\r\n\r\n        this.bindConfig(\"saveOnCommit\", config);\r\n\r\n        this.bindConfig(\"savePriority\", config);\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfigString(\"closeLabel\", config, StringUsage.Action);\r\n\r\n        this.bindConfigString(\"saveLabel\", config, StringUsage.Action);\r\n\r\n        if (config) {\r\n\r\n            if (config.editToItemAsync)\r\n                this.editToItemAsync = config.editToItemAsync;\r\n        }\r\n\r\n        if (!this.closeLabel)\r\n            this.closeLabel = Format.action(\"cancel\");\r\n\r\n        if (!this.saveLabel)\r\n            this.saveLabel = Format.action(\"ok\");\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async editAsync(value: TItem, validate?: (edit: TEdit) => Promise<boolean|null>): Promise<TEdit> {\r\n\r\n        const popUp = new PopUpContent<TItem>({\r\n            title: this.title,\r\n            contentProvider: new ItemEditContent<TItem, TEdit>({\r\n                editor: this.editor,\r\n                value: value,\r\n                actions: this.actions,\r\n                styles: this.styles,\r\n                savePriority: this.savePriority,\r\n                saveOnCommit: this.saveOnCommit,\r\n                saveLabel: this.saveLabel,\r\n                saveItemAsync: async edit => {\r\n                    if (validate) {\r\n                        const valResult = await validate(edit);\r\n                        if (valResult == null)\r\n                            return null;\r\n                    }\r\n                    return await this.editToItemAsync(edit);\r\n                }\r\n            }),\r\n            closeLabel: this.closeLabel\r\n        });\r\n\r\n        const result = await (await popUp.openAsync()).result;\r\n\r\n        if (!result)\r\n            return null;\r\n\r\n        return this.editor.value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToItemAsync(edit: TEdit): Promise<TItem> {\r\n        return Promise.resolve(edit as unknown as TItem);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    editor: IItemEditor<TItem, TEdit> = null;\r\n\r\n    title: string = \"Edit\";\r\n\r\n    saveLabel?: string = null;\r\n\r\n    actions?: IAction[] = [];\r\n\r\n    savePriority: ActionPriority = null;\r\n\r\n    closeLabel: string = null;\r\n\r\n    saveOnCommit: boolean = false;\r\n\r\n    styles: ViewStyle[] = [];\r\n\r\n    name: string = null;\r\n}\r\n\r\nregisterType(PopUpEditor, \"PopUpEditor\");","﻿import { generateId } from \"../../Core/Utils/Identifier\";\r\nimport { getTypeName, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { setEnumerable } from \"../../Templating/Functions\";\r\nimport { Bindable, IValueConverter } from \"../../Templating/Properties\";\r\nimport { EditorCommitMode, EditorStatus, IEditor } from \"../Abstraction/IEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IViewComponentConfig, ViewComponent } from \"../Components/ViewComponent\";\r\nimport { formatForCss } from \"../Helpers/ViewUtils\";\r\n\r\nexport type ValidationMode = \"onchanged\" | \"always\" | \"manual\";\r\n\r\nexport interface IBaseEditorConfig<TValue, TEdit = any> extends IViewComponentConfig {\r\n\r\n    allowNull?: boolean;\r\n\r\n    value?: Bindable<TValue>;\r\n\r\n    hasFocus?: Bindable<boolean>;\r\n\r\n    validationMode?: ValidationMode;\r\n\r\n    commitMode?: EditorCommitMode;\r\n\r\n    onCommit?: (editor: BaseEditor<TValue, any>) => boolean;\r\n\r\n    converter?: IValueConverter<TValue, TEdit>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport abstract class BaseEditor<TValue, TEdit = TValue> extends ViewComponent implements IEditor<TValue, TEdit>, IItemEditor<TValue, TValue> {\r\n\r\n    protected _needValidation: boolean = false;\r\n    protected _isEditing: number = 0;\r\n    protected _onCommit: (editor: this) => boolean;\r\n    protected _editValue: TEdit = null;\r\n\r\n    /********************************************/\r\n\r\n    constructor(config?: IBaseEditorConfig<TValue, TEdit>) {\r\n\r\n        super({ ...config });\r\n\r\n        //TODO: hack, props are not enumerable in ts 3.9\r\n        setEnumerable(this, \"editValue\");\r\n\r\n        this._onCommit = config?.onCommit;\r\n\r\n        this.bindConfig(\"allowNull\", config);\r\n\r\n        this.bindConfig(\"hasFocus\", config);\r\n\r\n        this.bindConfig(\"value\", config);\r\n\r\n        this.bindConfig(\"commitMode\", config);\r\n\r\n        this.bindConfig(\"validationMode\", config);\r\n\r\n        this.prop(\"displayValue\");\r\n\r\n        this.prop(\"value\").subscribe((value, old) =>\r\n            this.onValueChanged(value, old));\r\n\r\n        this.prop(\"name\").subscribe(() => this.updateUid());\r\n\r\n        if (config.converter) {\r\n            this.editToValue = config.converter.convertFrom;\r\n            this.valueToEdit = config.converter.convertTo;\r\n        }\r\n\r\n        this.updateUid();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected updateUid() {\r\n        this.uid = generateId(formatForCss(this.name ?? getTypeName(this)));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createEditValueProp() {\r\n\r\n        this.prop(\"editValue\").subscribe(() => this.notifyEditValueChangedAsync());\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async notifyEditValueChangedAsync() {\r\n\r\n        console.debug(\"value changed: \", this.debugName);\r\n\r\n        this._needValidation = true;\r\n\r\n        this.isDirty = true;\r\n\r\n        if (!this._isEditing) {\r\n\r\n            if (this.commitMode == \"onchange\")\r\n                await this.commitAsync();\r\n            else\r\n                await this.validateAsync();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onValueChanged(value: TValue, oldValue?: TValue) {\r\n\r\n        if (this.status == \"commiting\")\r\n            return;\r\n\r\n        this.beginEditAsync(value);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clear() {\r\n        this.value = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async loadAsync(): Promise<void> {\r\n\r\n        console.group(\"begin load: \", this.debugName, \" - status: \", this.status);\r\n\r\n        try {\r\n\r\n            if (this.status != \"none\")\r\n                return;\r\n\r\n            this.status = \"loading\";\r\n\r\n            try {\r\n\r\n                await this.loadAsyncWork();\r\n            }\r\n            finally {\r\n\r\n                this.status = \"loaded\";\r\n            }\r\n        }\r\n        finally {\r\n            console.groupEnd();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clearError() {\r\n        this.error = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected loadAsyncWork(): Promise<void> {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async beginEditAsync(value: TValue) {\r\n\r\n        if (this._isEditing)\r\n            return;\r\n\r\n        console.group(\"begin edit: \", this.debugName);\r\n\r\n        this._isEditing++;\r\n\r\n        try {\r\n\r\n            if (this.status == \"none\")\r\n                await this.loadAsync();\r\n\r\n            this.value = value;\r\n\r\n            this.editValue = this.valueToEdit(value);\r\n\r\n            await this.beginEditWorkAsync(value);\r\n\r\n            this._needValidation = true;\r\n        }\r\n        finally {\r\n            this._isEditing--;\r\n            console.groupEnd();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected valueToEdit(value: TValue): TEdit {\r\n        return <any>value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: TEdit): TValue {\r\n        return <any>value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected beginEditWorkAsync(value: TValue) {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async validateAsync(force?: boolean): Promise<boolean> {\r\n\r\n\r\n        console.group(\"begin validation: \" + this.debugName, \" - needValidation: \", this._needValidation);\r\n\r\n        try {\r\n\r\n            if (this._isEditing)\r\n                return undefined;\r\n\r\n            if (!this._needValidation && this.validationMode == \"onchanged\" && !force)\r\n                return this.isValid;\r\n\r\n            this.clearError();\r\n\r\n            const validationResult = await this.validateAsyncWork(force);\r\n\r\n            if (validationResult !== undefined) {\r\n\r\n                this.isValid = validationResult;\r\n                this._needValidation = false;\r\n            }\r\n\r\n            console.debug(\"validation: \", this.debugName, \" = \", this.isValid);\r\n\r\n            return this.isValid;\r\n        }\r\n        finally {\r\n            console.groupEnd();\r\n        }\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected validateAsyncWork(force?: boolean): Promise<boolean> {\r\n\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async commitAsync(force?: boolean): Promise<boolean> {\r\n\r\n        console.group(\"begin commit: \", this.debugName, \" isDirty: \", this.isDirty, \" - status: \", this.status);\r\n        try {\r\n\r\n            if (this._isEditing)\r\n                return false;\r\n\r\n            if (!force && this.commitMode != \"manual\" && !this.isDirty)\r\n                return true;\r\n\r\n            if (this.status != \"loaded\")\r\n                return this.status == \"commiting\";\r\n\r\n            this.status = \"commiting\";\r\n\r\n            try {\r\n                if (!await this.validateAsync(force))\r\n                    return false;\r\n\r\n                if (!await this.commitAsyncWork(force))\r\n                    return false;\r\n\r\n                const newValue = this.editToValue(this.editValue);\r\n                if (newValue !== undefined)\r\n                    this.value = newValue;\r\n\r\n                if (this._onCommit)\r\n                    this._onCommit(this);\r\n\r\n                this.isDirty = false;\r\n\r\n                return true;\r\n            }\r\n            finally {\r\n                this.status = \"loaded\";\r\n            }\r\n        }\r\n        finally {\r\n            console.groupEnd();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    activateAsync() {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected commitAsyncWork(force?: boolean): Promise<boolean> {\r\n\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    rollback(): void {\r\n\r\n        this.editValue = this.valueToEdit(this.value);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get view() {\r\n        return this;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get editValue() {\r\n        return this._editValue;\r\n    }\r\n\r\n    set editValue(value: TEdit) {\r\n        this._editValue = value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    isValid: boolean = true\r\n\r\n    status: EditorStatus = \"none\";\r\n\r\n    commitMode: EditorCommitMode = \"onchange\";\r\n\r\n    validationMode: ValidationMode = \"onchanged\";\r\n\r\n    allowNull: boolean = true;\r\n\r\n    displayValue: string = null;\r\n\r\n    value: TValue = null;\r\n\r\n    hasFocus: boolean = false;\r\n\r\n    isDirty: boolean = false;\r\n\r\n    uid: string = null;\r\n\r\n    error: string = null;\r\n}\r\n\r\nregisterType(BaseEditor, \"BaseEditor\");","import { linq } from \"../../Core/Linq\";\r\nimport { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { PopUpEditor } from \"./PopupEditor\";\r\nimport { SelectableItemView } from \"../Components/SelectableItemView\";\r\nimport { ISelectableItemView } from \"../Abstraction/ISelectableItemView\";\r\n\r\nimport \"Templates/SingleItemSelector.html\";\r\nimport \"Templates/ItemSelector.html\";\r\n\r\n\r\nexport interface ISingleItemSelectorConfig<TItem, TValue> extends IBaseEditorConfig<TValue> {\r\n\r\n    itemsSource?: Bindable<ItemsSource<TItem, TValue>>;\r\n\r\n    items?: TItem[];\r\n\r\n    createItemView?: (item: TItem) => ISelectableItemView<TValue>;\r\n\r\n    placeholder?: Bindable<LocalString>;\r\n\r\n    emptyText?: LocalString;\r\n\r\n    itemTemplate?: CatalogTemplate<ISelectableItemView<TValue>>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SingleItemSelector<TItem, TValue> extends BaseEditor<TValue>  {\r\n\r\n    private _isSelecting: boolean;\r\n\r\n    constructor(config?: ISingleItemSelectorConfig<TItem, TValue>) {\r\n\r\n        super({ template: \"SelectEditor\", ...config });\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"itemTemplate\", config);\r\n\r\n        this.bindConfigString(\"placeholder\", config);\r\n\r\n        this.bindConfigString(\"emptyText\", config, StringUsage.Title);\r\n\r\n        if (config?.createItemView)\r\n            this.createItemViewWork = config?.createItemView;\r\n\r\n        if (config?.items) {\r\n\r\n            if (this.allowNull)\r\n                this.items.add(this.createEmptyItem());\r\n\r\n            config.items.forEach(a => this.items.add(this.createItemView(a)));\r\n\r\n            this.status = \"loaded\";\r\n        }\r\n\r\n        this.prop(\"selectedItem\").subscribe(async (value, oldValue) => {\r\n\r\n            if (this._isSelecting)\r\n                return;\r\n\r\n            if (!value && this.emptyText) {\r\n                this.selectedItemText = this.emptyText;\r\n                this.selectedItem = this.items.get(0);\r\n                return;\r\n            }\r\n\r\n            this._isSelecting = true;\r\n            try {\r\n                if (oldValue)\r\n                    oldValue.isSelected = false;\r\n\r\n                if (value)\r\n                    value.isSelected = true;\r\n\r\n                this.selectedIndex = this.items.indexOf(value);\r\n\r\n                if (this.itemsSource)\r\n                    this.selectedItemText = value?.content ?? \"\";\r\n\r\n                if (this.status != \"loading\")\r\n                    await this.notifyEditValueChangedAsync();\r\n\r\n            }\r\n            finally {\r\n                this._isSelecting = false;\r\n            }\r\n        });\r\n\r\n        this.prop(\"selectedIndex\").subscribe(value => {\r\n\r\n            if (value == -1 && this.emptyText) {\r\n                this.selectedIndex = 0;\r\n                return;\r\n            }\r\n\r\n            this.selectedItem = value == -1 ? null : this.items.get(value);\r\n\r\n            if (this.element?.tagName == \"SELECT\")\r\n                (this.element as HTMLSelectElement).selectedIndex = value;\r\n        });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement) {\r\n\r\n        this.element = element;\r\n\r\n        if (element.tagName == \"SELECT\") {\r\n\r\n            (this.element as HTMLSelectElement).selectedIndex = this.selectedIndex;\r\n\r\n            this.element.addEventListener(\"change\",\r\n                () => this.selectedIndex = (element as HTMLSelectElement).selectedIndex);\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async selectAsync() {\r\n        const editor = new PopUpEditor({\r\n\r\n            editor: new SingleItemSelector({\r\n                template: \"ItemSelectorList\",\r\n                itemsSource: this.itemsSource,\r\n                allowNull: false,\r\n                styles: [\"no-padding-items-h\"]\r\n            }),\r\n            saveOnCommit: true,\r\n            saveLabel: \"select\",\r\n            closeLabel: \"cancel\",\r\n            title: \"select-an-item\",\r\n            styles: [\"\"]\r\n        });\r\n\r\n        const result = await editor.editAsync(this.value)\r\n        if (result !== null)\r\n            this.editValue = result;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    findItemByValue(value: TValue) {\r\n\r\n        if (this.itemsSource)\r\n            return linq(this.items).first(a => this.itemsSource.equals(a.item, value));\r\n        return linq(this.items).first(a => a.item == value);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    set editValue(value: TValue) {\r\n\r\n        if (this.editValue == value)\r\n            return;\r\n\r\n        if (value == null && this.emptyText)\r\n            this.selectedItem = this.items[0];\r\n        else\r\n            this.selectedItem = this.findItemByValue(value);\r\n    }\r\n\r\n    get editValue(): TValue {\r\n\r\n        return this.selectedItem?.item;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async loadAsyncWork() {\r\n\r\n        if (this.itemsSource) {\r\n\r\n            this.items.clear();\r\n\r\n            if (this.allowNull)\r\n                this.items.add(this.createEmptyItem());\r\n\r\n            const items = await this.itemsSource.getItemsAsync(this.itemsSource.getFilter());\r\n            if (items)\r\n                items.forEach(a => this.items.add(this.createItemView(a)));\r\n        }\r\n\r\n        this.selectedIndex = 0;\r\n        this.isDirty = true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createEmptyItem() {\r\n\r\n        const result = new SelectableItemView({\r\n            item: null,\r\n            content: this.emptyText ?? \"\",\r\n            template: this.itemTemplate,\r\n            styles: [\"single\", \"checkbox\"]\r\n        });\r\n\r\n        result.prop(\"isSelected\").subscribe(value => {\r\n\r\n            if (value)\r\n                this.selectedItem = null\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemViewWork(item: TItem): ISelectableItemView<TValue> {\r\n\r\n        if (this.itemsSource)\r\n            return new SelectableItemView({\r\n                item: this.itemsSource.getItemValue(item),\r\n                content: this.itemsSource.getItemText(item),\r\n                template: this.itemTemplate,\r\n                styles: [\"single\", \"checkbox\"] \r\n            });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem) {\r\n\r\n        const itemView = this.createItemViewWork(item);\r\n\r\n        itemView.prop(\"isSelected\").subscribe(value => {\r\n\r\n            if (value)\r\n                this.selectedItem = itemView\r\n        });\r\n\r\n        return itemView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    itemTemplate: CatalogTemplate<ISelectableItemView<TValue>> = \"SelectableItemView\";\r\n\r\n    placeholder: string = null;\r\n\r\n    emptyText: string = null;\r\n\r\n    selectedItemText: string = null;\r\n\r\n    selectedItem: ISelectableItemView<TValue> = null;\r\n\r\n    selectedIndex: number = -1;\r\n\r\n    itemsSource: ItemsSource<TItem, TValue> = null;\r\n\r\n    readonly items: IObservableList<ISelectableItemView<TValue>> = observableListOf();\r\n}\r\n\r\n\r\nregisterType(SingleItemSelector, \"SingleItemSelector\");","import { App } from \"../../Core/Global\";\r\nimport { Type } from \"../../Core/Types/Types\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IPage } from \"../Abstraction/IPage\";\r\nimport { IPageLoadOptions } from \"../Abstraction/IPageHost\";\r\nimport { ISelectOptions } from \"../Abstraction/ISelectOptions\";\r\nimport { IViewApplication } from \"../Abstraction/IViewApplication\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ContentActivity, IContentActivitConfig } from \"../Activities/ContentActivity\";\r\nimport { WebPage } from \"../Components/WebPage\";\r\nimport { PopUpEditor } from \"../Editors/PopupEditor\";\r\nimport { SingleItemSelector } from \"../Editors/SingleItemSelector\";\r\nimport { ILocation } from \"../Types/Location\";\r\n\r\n\r\ninterface ISelectFileOptions {\r\n\r\n}\r\n\r\nexport const Actions: IActions = {} as IActions;\r\n\r\ndeclare global {\r\n\r\n    export interface IActions {\r\n\r\n        loadPageAsync<TPage extends IPage>(page: TPage, options?: IPageLoadOptions): Promise<TPage>;\r\n\r\n        go(url: string): Promise<void>;\r\n\r\n        content<TContent extends IViewContentProvider>(conetent: TContent | Type<TContent>, contentOptions?: Partial<IContentActivitConfig<ContentActivity>>, pageOptions?: IPageLoadOptions): Promise<ContentActivity>;\r\n\r\n        call(phoneNumber: string): Promise<void>;\r\n\r\n        email(email: string): Promise<void>;\r\n\r\n        webPage(url: string): Promise<WebPage>;\r\n\r\n        navigate(uri: string): Promise<void>;\r\n\r\n        facebookPage(pageId: string): Promise<void>;\r\n\r\n        selectFileAsync(options?: ISelectFileOptions): Promise<File>;\r\n\r\n        maps(location: ILocation, zoomLevel?: number): Promise<void>;\r\n\r\n        selectOptionAsync<TItem, TValue>(options: ISelectOptions<TItem, TValue>): Promise<TValue>;\r\n    }\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nActions.selectFileAsync = options => {\r\n\r\n    return new Promise<File>((res, rej) => {\r\n\r\n        const input = document.createElement(\"input\");\r\n\r\n        input.type = \"file\";\r\n\r\n        let isSelected = false;\r\n\r\n        input.onchange = () => {\r\n            isSelected = true;\r\n            res(input.files[0]);\r\n        }\r\n\r\n        input.click();\r\n\r\n        const handler = async () => {\r\n            window.removeEventListener(\"focus\", handler);\r\n            await delayAsync(500);\r\n            if (!isSelected || input.files.length == 0)\r\n                res(undefined);\r\n        };\r\n\r\n        window.addEventListener(\"focus\", handler);\r\n    });\r\n};\r\n\r\n/****************************************/\r\n\r\nActions.selectOptionAsync = async options => {\r\n\r\n    const editor = new PopUpEditor({\r\n\r\n        editor: new SingleItemSelector({\r\n            template: \"ItemSelectorList\",\r\n            itemsSource: options.itemsSource,\r\n            styles: [\"no-padding-items-h\"]\r\n        }),\r\n        saveOnCommit: options.saveOnCommit == undefined ? true : options.saveOnCommit,\r\n        saveLabel: options.saveLabel,\r\n        closeLabel: options.closeLabel,\r\n        title: options.title,\r\n        styles: options.styles\r\n    });\r\n\r\n    return await editor.editAsync(options.value)\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.loadPageAsync = async (page, options) => {\r\n\r\n    return await (App as IViewApplication).pageHost.loadAsync(page, options);\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.content = (content,  contentOptions, pageOptions) => {\r\n\r\n    const value = typeof content == \"function\" ? new content() : content;\r\n\r\n    const activity = new ContentActivity({\r\n        providers: [\r\n            value\r\n        ],\r\n        ...contentOptions\r\n    });\r\n    return Actions.loadPageAsync(activity, pageOptions);\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.go = url => {\r\n\r\n    window.location.href = url;\r\n    return Promise.resolve();\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.call = phoneNumber => {\r\n\r\n    window.location.href = \"tel:\" + phoneNumber;\r\n    return Promise.resolve();\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.email = email => {\r\n\r\n    window.location.href = \"mailto:\" + email;\r\n    return Promise.resolve();\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.webPage = url => {\r\n\r\n    return Actions.loadPageAsync(new WebPage({ url: url }));\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.navigate = uri => {\r\n\r\n    return new Promise((res, rej) => {\r\n        const newWindows = window.open(uri, \"_blank\");\r\n        newWindows.addEventListener(\"load\", ev => {\r\n            res();\r\n        });\r\n        newWindows.addEventListener(\"error\", ev => {\r\n            rej();\r\n        });\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.facebookPage = pageId =>  {\r\n\r\n    window.location.href = \"https://www.facebook.com/\" + pageId;\r\n    //window.location.href = \"fb://page/\" + pageId;\r\n    return Promise.resolve();\r\n}\r\n\r\n/****************************************/\r\n\r\nActions.maps = (location, zoomLevel = 17) => {\r\n\r\n    if (location.position)\r\n        window.location.href = \"https://www.google.com/maps/search/?api=1&query=\" + location.position.latitude + \",\" + location.position.longitude;\r\n    //window.location.href = \"geo:\" + location.position.latitude + \",\" + location.position.longitude;\r\n    else\r\n        window.location.href = \"https://www.google.com/maps/search/?api=1&query=\" + encodeURIComponent(location.address);\r\n\r\n    return Promise.resolve();\r\n}","﻿import { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { ContentActivity } from \"../Activities/ContentActivity\";\r\nimport { ItemEditContent } from \"../Content/ItemEditContent\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\n\r\nexport interface IActivityEditorConfig<TItem, TEdit> {\r\n\r\n    editor: IItemEditor<TItem, TEdit>;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    editToItemAsync?: (edit: TEdit) => Promise<TItem>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ActivityEditor<TItem, TEdit = TItem> extends BindableObject implements IAsyncEditor<TItem, TEdit> {\r\n\r\n    constructor(config?: IActivityEditorConfig<TItem, TEdit>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        this.bindConfigString(\"title\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.editToItemAsync)\r\n                this.editToItemAsync = config.editToItemAsync;\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async editAsync(value: TItem, validate?: (edit: TEdit) => Promise<boolean>): Promise<TEdit> {\r\n\r\n        const activity = new ContentActivity<TItem>({\r\n            providers: [new ItemEditContent<TItem, TEdit>({\r\n                editor: this.editor,\r\n                title: this.title,\r\n                value: value,\r\n                saveItemAsync: async edit => {\r\n                    if (validate) {\r\n                        const valResult = await validate(edit);\r\n                        if (valResult == null)\r\n                            return null;\r\n                    }\r\n                    return await this.editToItemAsync(edit);\r\n                }\r\n            })]\r\n        });\r\n\r\n        const result = await (await Actions.loadPageAsync(activity, { loadMode: \"add\" })).result;\r\n        if (result == null)\r\n            return null;\r\n\r\n        return this.editor.value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToItemAsync(edit: TEdit): Promise<TItem> {\r\n        return Promise.resolve(edit as unknown as TItem);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    editor: IItemEditor<TItem, TEdit> = null;\r\n\r\n    title: string = \"Edit\";\r\n}\r\n\r\n\r\nregisterType(ActivityEditor, \"ActivityEditor\");","﻿import { INamedContent } from \"../../Core/Abstraction/INamedContent\";\r\nimport { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { DynamicString, LocalString, StringUsage, WordNumber } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { ActionPriority } from \"../Abstraction/IAction\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { BottomSheet } from \"../Components/BottomSheet\";\r\nimport { ItemsView } from \"../Components/ItemsView\";\r\nimport { RemovableItemView } from \"../Components/RemovableItemView\";\r\nimport { SelectableItemView } from \"../Components/SelectableItemView\";\r\nimport { TextView } from \"../Components/TextView\";\r\nimport { ActivityEditor } from \"../Editors/ActivityEditor\";\r\nimport { isAsyncEditor } from \"../Helpers/TypeCheck\";\r\nimport { EditableItemsSource } from \"../Items/EditableItemsSource\";\r\nimport { ISearchActivityConfig, SearchActivity } from \"./SearchActivity\";\r\n\r\nexport interface ISelectMultipleItemsActivityConfig<TItem, TValue, TFilter, TEdit> extends ISearchActivityConfig<TItem, SelectableItemView<TItem, IView>> {\r\n\r\n    itemsSource?: EditableItemsSource<TItem, TValue, TFilter, TEdit>;\r\n\r\n    filters?: INamedContent<TFilter>[];\r\n\r\n    createItemEditor?: () => IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit>;\r\n\r\n    createItemContentView?: (item: TItem) => IView;\r\n\r\n    createItemListView?: (item: TItem) => IView;\r\n\r\n    canAdd?: boolean;\r\n\r\n    addLabel?: LocalString;\r\n\r\n    emptyLabel?: LocalString;\r\n\r\n    selectedItems?: TItem[];\r\n\r\n    showEmptyItem?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SelectMultipleItemsActivity<TItem, TValue, TFilter, TEdit = TItem> extends SearchActivity<TItem, SelectableItemView<TItem, IView>, TItem[]>   {\r\n\r\n    protected _bottomSheet: BottomSheet;\r\n    protected _emptyItem: SelectableItemView<TItem, IView>;\r\n\r\n\r\n    constructor(config?: ISelectMultipleItemsActivityConfig<TItem, TValue, TFilter, TEdit>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"canAdd\", config);\r\n\r\n        this.bindConfigString(\"emptyLabel\", config, StringUsage.Title);\r\n\r\n        this.bindConfig(\"showEmptyItem\", config);\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfigString(\"addLabel\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.createItemView)\r\n                this.createItemContentView = config.createItemContentView;\r\n\r\n            if (config.createItemListView)\r\n                this.createItemListView = config.createItemListView;\r\n\r\n            if (config.createItemEditor)\r\n                this.createItemEditor = config.createItemEditor;\r\n\r\n            if (config.filters)\r\n                this.filters.addRange(config.filters);\r\n\r\n            if (config.selectedItems)\r\n                this.setSelectedItems(config.selectedItems);\r\n\r\n            if (config.searchMode == \"client\") {\r\n                this.searchWorkAsync = async query => {\r\n\r\n                   if (!this._lastItems)\r\n                        this._lastItems = await this.itemsSource.getItemsAsync(this.getFilter(undefined));\r\n\r\n                    if (query) {\r\n                        query = query.toLowerCase();\r\n                        return linq(this._listView.items).where(a => {\r\n                            const text = this.itemsSource.getItemText(a).toLowerCase();\r\n                            return text && text.indexOf(query) != -1;\r\n                        }).toArray();\r\n                    }\r\n                    else\r\n                        return this._lastItems;\r\n                };\r\n            }\r\n        }\r\n\r\n        if (!config?.tooltip)\r\n            this.tooltip = DynamicString.get(\"select-item\")({ params: [this.itemsSource.displayName], number: WordNumber.Plural, usage: StringUsage.Tooltip });\r\n\r\n        if (!config?.addLabel)\r\n            this.addLabel = Format.action(\"new-item\", this.itemsSource.displayName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setSelectedItems(items: TItem[]) {\r\n\r\n        this.selectedItems.clear();\r\n\r\n        if (items) {\r\n            items.forEach(a =>\r\n                this.addSelection(a));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async createAsync() {\r\n\r\n        await super.createAsync();\r\n\r\n        this._actionBar.addAction({\r\n            name: \"confirm\",\r\n            icon: \"fas fa-check\",\r\n            displayName: \"confirm\",\r\n            executeAsync: () => this.confirmAsync(),\r\n            priority: ActionPriority.Primary\r\n        });\r\n\r\n        this._bottomSheet = new BottomSheet({\r\n            headHeight: 50,\r\n            content: new ItemsView({\r\n                styles: [\"padding\", \"horizontal-wrap\"],\r\n                content: this.selectedItems\r\n            })\r\n        });\r\n\r\n        this.view.addView(this._bottomSheet);\r\n\r\n        this.updateView();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async confirmAsync() {\r\n\r\n        await this.closeAsync(linq(this.selectedItems).select(a => a.item).toArray());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected configureListView() {\r\n\r\n        const header: IView[] = [];\r\n\r\n        if (this.canAdd)\r\n            header.push(ActionView.fromAction({\r\n                name: \"add-item\",\r\n                icon: \"fas fa-plus\",\r\n                operation: OperationType.Local,\r\n                executeAsync: () => this.addItemAsync(),\r\n                displayName: this.addLabel,\r\n            }));\r\n\r\n        if (this.showEmptyItem) {\r\n\r\n            this._emptyItem = new SelectableItemView({\r\n                content: new TextView({ content: this.emptyLabel }),\r\n                item: null,\r\n            });\r\n\r\n            this._emptyItem.toggle = () =>\r\n                this.closeAsync([]);\r\n\r\n            header.push(this._emptyItem);\r\n        }\r\n\r\n        const result = <any>{\r\n            header: header,\r\n            selectionMode: \"multiple\"\r\n        };\r\n\r\n        if (this.pageSize > 0)\r\n            result.itemsSource = this.itemsSource;\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected searchWorkAsync(query: string) {\r\n\r\n        return this.itemsSource.getItemsAsync(this.getFilter(query));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getFilter(query: string, offset?: number, pageSize?: number) {\r\n\r\n        let filter = this.itemsSource.getFilter(query, offset, pageSize);\r\n        if (this.filters.count == 1)\r\n            filter = { ...filter, ...this.filters.get(0).content };\r\n        return filter;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemListView(item: TItem): IView {\r\n        return new TextView({ content: this.itemsSource.getItemText(item) });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemContentView(item: TItem): IView {\r\n        return new TextView({ content: this.itemsSource.getItemText(item) });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemEditor(): IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem) {\r\n\r\n        const view = new SelectableItemView({\r\n            content: this.createItemListView(item),\r\n            item: item\r\n        });\r\n\r\n        view.prop(\"isSelected\").subscribe(value => this.updateSelection(view, item, value));\r\n\r\n        const exItem = this.findItem(item);\r\n\r\n        if (exItem != null)\r\n            view.isSelected = true;\r\n\r\n        return view;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateSelection(selView: SelectableItemView<TItem, IView>, item: TItem, isSelected: boolean) {\r\n\r\n        if (!isSelected)\r\n            this.removeSelection(item);\r\n        else\r\n            this.addSelection(item, selView);\r\n\r\n        this.updateView();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateView() {\r\n\r\n        if (this._bottomSheet) {\r\n            if (this.selectedItems.count > 0)\r\n                this._bottomSheet.open();\r\n            else\r\n                this._bottomSheet.close();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    removeSelection(item: TItem) {\r\n        const exItem = this.findItem(item);\r\n        if (exItem)\r\n            this.selectedItems.remove(exItem);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addSelection(item: TItem, selView?: SelectableItemView<TItem, IView>) {\r\n\r\n        const exItem = this.findItem(item);\r\n\r\n        if (exItem)\r\n            return;\r\n\r\n        const itemView = new RemovableItemView({\r\n            content: this.createItemContentView(item),\r\n            removeAsync: () => {\r\n\r\n                this.selectedItems.remove(itemView);\r\n\r\n                const selItem = this.findSelectable(item);\r\n                if (selItem)\r\n                    selItem.isSelected = false;\r\n\r\n                return Promise.resolve();\r\n            },\r\n            item: item\r\n        });\r\n\r\n        this.selectedItems.add(itemView);\r\n\r\n        return itemView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected findItem(item: TItem) {\r\n\r\n        return linq(this.selectedItems).first(a => this.itemsSource.itemComparer(a.item, item));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected findSelectable(item: TItem) {\r\n\r\n        return linq(this._listView.content).first(a => this.itemsSource.itemComparer(a.item, item));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async addItemAsync() {\r\n\r\n        const editor = this.createItemEditor();\r\n\r\n        let editValue: TEdit;\r\n\r\n        if (isAsyncEditor(editor))\r\n\r\n            editValue = await editor.editAsync(this.itemsSource.newItem());\r\n\r\n        else {\r\n            const activity = new ActivityEditor<TItem, TEdit>({\r\n                editor: editor,\r\n                title: this.addLabel\r\n            });\r\n\r\n            editValue = await activity.editAsync(this.itemsSource.newItem());\r\n        }\r\n\r\n        if (!editValue)\r\n            return;\r\n\r\n        const newItem = await this.itemsSource.addItemAsync(editValue);\r\n        if (!newItem)\r\n            return;\r\n\r\n        const itemView = this.createItemView(newItem);\r\n\r\n        itemView.isSelected = true;\r\n\r\n        this._listView.content.insert(0, itemView);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canAdd: boolean = false;\r\n\r\n    showEmptyItem: boolean = false;\r\n\r\n    emptyLabel: string = \"[None]\";\r\n\r\n    itemsSource: EditableItemsSource<TItem, TValue, TFilter, TEdit> = null;\r\n\r\n    addLabel: string = \"Add New\";\r\n\r\n    filters:  IObservableList< INamedContent<TFilter>> = observableListOf();\r\n\r\n    readonly selectedItems: IObservableList<RemovableItemView<TItem>> = observableListOf();\r\n}\r\n\r\n\r\nregisterType(SelectMultipleItemsActivity, \"SelectMultipleItemsActivity\");","import { INamedContent } from \"../../Core/Abstraction/INamedContent\";\r\nimport { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { ActionPriority } from \"../Abstraction/IAction\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { SelectableItemView } from \"../Components/SelectableItemView\";\r\nimport { TextView } from \"../Components/TextView\";\r\nimport { ActivityEditor } from \"../Editors/ActivityEditor\";\r\nimport { isAsyncEditor } from \"../Helpers/TypeCheck\";\r\nimport { EditableItemsSource } from \"../Items/EditableItemsSource\";\r\nimport { ISearchActivityConfig, SearchActivity } from \"./SearchActivity\";\r\n\r\nexport interface ISelectSingleItemActivityConfig<TItem, TValue, TFilter, TEdit> extends ISearchActivityConfig<TItem, IView> {\r\n\r\n    itemsSource?: EditableItemsSource<TItem, TValue, TFilter, TEdit>;\r\n\r\n    filters?: INamedContent<TFilter>[];\r\n\r\n    createItemEditor?: () => IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit>;\r\n\r\n    createItemContentView?: (item: TItem) => IView;\r\n\r\n    canAdd?: boolean;\r\n\r\n    addLabel?: LocalString;\r\n\r\n    selectedValue?: TValue;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SelectSingleItemActivity<TItem, TValue, TFilter, TEdit = TItem> extends SearchActivity<TItem, IView, TItem>    {\r\n\r\n    constructor(config?: ISelectSingleItemActivityConfig<TItem, TValue, TFilter, TEdit>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"canAdd\", config);\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"selectedValue\", config);\r\n\r\n        this.bindConfigString(\"addLabel\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.createItemContentView)\r\n                this.createItemContentView = config.createItemContentView;\r\n\r\n            if (config.createItemEditor)\r\n                this.createItemEditor = config.createItemEditor;\r\n\r\n            if (config.filters)\r\n                this.filters.addRange(config.filters);\r\n        }\r\n\r\n        if (!config?.tooltip)\r\n            this.tooltip = Format.tooltip(\"select-item\", this.itemsSource.displayName);\r\n\r\n        if (!config?.addLabel)\r\n            this.addLabel = Format.action(\"new-item\", this.itemsSource.displayName);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async createAsync() {\r\n\r\n        await super.createAsync();\r\n\r\n        this._actionBar.addAction({\r\n            name: \"confirm\",\r\n            icon: \"fas fa-check\",\r\n            displayName: \"confirm\",\r\n            executeAsync: () => this.confirmAsync(),\r\n            priority: ActionPriority.Primary\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async confirmAsync() {\r\n\r\n        await this.closeAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected configureListView() {\r\n\r\n        const header: IView[] = [];\r\n\r\n        if (this.canAdd)\r\n            header.push(ActionView.fromAction({\r\n                name: \"add-item\",\r\n                icon: \"fas fa-plus\",\r\n                operation: OperationType.Local,\r\n                executeAsync: () => this.addItemAsync(),\r\n                displayName: this.addLabel\r\n            }));\r\n\r\n        const result = <any>{\r\n            header: header,\r\n        };\r\n\r\n        if (this.pageSize > 0)\r\n            result.itemsSource = this.itemsSource;\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected searchWorkAsync(query: string) {\r\n\r\n        return this.itemsSource.getItemsAsync(this.getFilter(query));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getFilter(query: string, offset?: number, pageSize?: number) {\r\n\r\n        let filter = this.itemsSource.getFilter(query, offset, pageSize);\r\n        if (this.filters.count == 1)\r\n            filter = { ...filter, ...this.filters.get(0).content };\r\n        return filter;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemContentView(item: TItem): IView {\r\n\r\n        return new TextView({ content: this.itemsSource.getItemText(item) });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemEditor(): IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem) {\r\n\r\n        const view = new SelectableItemView({\r\n            content: this.createItemContentView(item),\r\n            styles: [\"single\"],\r\n            item: item\r\n        });\r\n\r\n        if (this.itemsSource.equals(this.itemsSource.getItemValue(item), this.selectedValue))\r\n            view.isSelected = true;\r\n\r\n        view.prop(\"isSelected\").subscribe(value => {\r\n\r\n            if (value)\r\n                this.setSelectionAsync(item);\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setSelectionAsync(item: TItem) {\r\n\r\n        return this.closeAsync(item);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async addItemAsync() {\r\n\r\n        const editor = this.createItemEditor();\r\n\r\n        let editValue: TEdit;\r\n\r\n        if (isAsyncEditor(editor))\r\n\r\n            editValue = await editor.editAsync(this.itemsSource.newItem());\r\n\r\n        else {\r\n            const activity = new ActivityEditor<TItem, TEdit>({\r\n                editor: editor,\r\n                title: this.addLabel\r\n            });\r\n\r\n            editValue = await activity.editAsync(this.itemsSource.newItem());\r\n        }\r\n\r\n        if (!editValue)\r\n            return;\r\n\r\n        const newItem = await this.itemsSource.addItemAsync(editValue);\r\n\r\n        if (newItem)\r\n            await this.setSelectionAsync(newItem);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canAdd: boolean = false;\r\n\r\n    itemsSource: EditableItemsSource<TItem, TValue, TFilter, TEdit> = null;\r\n\r\n    addLabel: string = \"Add New\";\r\n\r\n    filters: IObservableList<INamedContent<TFilter>> = observableListOf();\r\n\r\n    selectedValue: TValue = null;\r\n\r\n}\r\n\r\nregisterType(SelectSingleItemActivity, \"SelectSingleItemActivity\");","import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { View } from \"./View\";\r\nimport { ViewComponent } from \"./ViewComponent\";\r\n\r\ntype ConsoleMessageType = \"warn\" | \"log\" | \"info\" | \"trace\" | \"error\" | \"debug\";\r\n\r\nclass ConsoleItem extends View {\r\n\r\n    constructor(args?: any[]) {\r\n        super();\r\n        this.content = args;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected debugTypeName() {\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    content: any[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ConsoleMessageView extends ConsoleItem {\r\n\r\n    constructor(type: ConsoleMessageType, ...args: any[]) {\r\n        super(args)\r\n\r\n        this.type = type;\r\n        this.template = \"ConsoleMessageView\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    type: ConsoleMessageType;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ConsoleGroupView extends ConsoleItem {\r\n\r\n    constructor(...args: any[]) {\r\n        super(args)\r\n        this.template = \"ConsoleGroupView\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    items: IObservableList<ConsoleItem> = observableListOf();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ConsoleView extends ViewComponent {\r\n\r\n    private _oldConsole: Console;\r\n    private _groups: ConsoleGroupView[] = [];\r\n    private _activeGroup: ConsoleGroupView;\r\n    private _isCreated = false;\r\n\r\n    constructor() {\r\n\r\n        super({ template: \"ConsoleView\" });\r\n\r\n        this.root = new ConsoleGroupView();\r\n        this._activeGroup = this.root;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected debugTypeName() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    show() {\r\n        if (!this._isCreated) {\r\n            var builder = new TemplateBuilder(this, document.body);\r\n            builder.content(this);\r\n        }\r\n        this.visible = true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hide() {\r\n        this.visible = false;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    attach() {\r\n\r\n        if (this._oldConsole)\r\n            return;\r\n\r\n        this._oldConsole = <any>{};\r\n\r\n        for (const key in console)\r\n            this._oldConsole[key] = console[key];\r\n\r\n        console.log = (...args) => this.write(\"log\", args);\r\n        console.warn = (...args) => this.write(\"warn\", args);\r\n        console.info = (...args) => this.write(\"info\", args);\r\n        console.trace = (...args) => this.write(\"trace\", args);\r\n        console.error = (...args) => this.write(\"error\", args);\r\n        console.debug = (...args) => this.write(\"debug\", args);\r\n        console.clear = () => this.clear();\r\n        console.group = (...args) => this.group(args);\r\n        console.groupEnd = () => this.groupEnd();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    detach() {\r\n\r\n        if (!this._oldConsole)\r\n            return;\r\n\r\n        for (const key in console)\r\n            console[key] = this._oldConsole[key];\r\n        this._oldConsole = null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    write(logType: ConsoleMessageType, args: any[]) {\r\n\r\n        this._oldConsole[logType].apply(console, args);\r\n\r\n        this._activeGroup.items.add(new ConsoleMessageView(logType, args));\r\n\r\n        if (logType == \"error\")\r\n            this._activeGroup.items.add(new ConsoleMessageView(logType, new Error().stack));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    group(args: any[]) {\r\n\r\n        this._oldConsole.group.apply(console, args);\r\n\r\n        const newGroup = new ConsoleGroupView(args);\r\n        this._activeGroup.items.add(newGroup);\r\n        this._groups.push(newGroup);\r\n        this._activeGroup = newGroup;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    groupEnd() {\r\n\r\n        this._oldConsole.groupEnd.apply(console);\r\n\r\n        if (this._groups.length > 0)\r\n            this._activeGroup = this._groups.pop();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        this._oldConsole.clear.apply(console);\r\n\r\n        this._groups = [];\r\n        this.root.items.clear();\r\n        this._activeGroup = this.root;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    root: ConsoleGroupView;\r\n}\r\n\r\nregisterType(ConsoleView, \"ConsoleView\");\r\n","﻿import { Format } from \"../../Core/Helpers/Format\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { IPanelConfig, Panel } from \"./Panel\";\r\n\r\nexport interface IContentHostViewConfig<TProvider extends IViewContentProvider> extends IPanelConfig {\r\n\r\n    contentProvider?: Bindable<TProvider>;\r\n\r\n    actionTemplate?: CatalogTemplate<ActionView>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ContentHostView<TProvider extends IViewContentProvider = any> extends Panel implements IViewContentHost {\r\n\r\n    private _body: Panel;\r\n    private _actions: Panel;\r\n\r\n    constructor(config?: IContentHostViewConfig<TProvider>) {\r\n\r\n        super({\r\n            ...config\r\n        });\r\n\r\n        this.bindConfig(\"contentProvider\", config);\r\n\r\n        this.bindConfig(\"actionTemplate\", config);\r\n\r\n        this._body = new Panel({ name: \"body\" });\r\n\r\n        this._actions = new Panel({ name: \"actions\" });\r\n\r\n        this.addView(this._body);\r\n\r\n        this.addView(this._actions);\r\n\r\n        this._body.emptyView = this.emptyView;\r\n\r\n        this.emptyView = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async loadAsync() {\r\n\r\n        if (this.contentProvider) {\r\n\r\n            await this.closeAsync();\r\n\r\n            const content = await this.contentProvider.getContentAsync(this);\r\n\r\n            if (content.styles)\r\n                this._body.styles = content.styles;\r\n\r\n            this.name = this.contentProvider.info.name;\r\n\r\n            this.title = Format.title(content.title);\r\n\r\n            content.views.forEach(a => this._body.addView(a));\r\n\r\n            if (content.actions)\r\n                content.actions.forEach(a => this.addAction(a));\r\n\r\n            await super.loadAsync();\r\n\r\n            if (this.contentProvider.activateAsync)\r\n                await this.contentProvider.activateAsync();\r\n        }\r\n\r\n        this._actions.visible = this._actions.content.count > 0;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected addAction(action: IAction) {\r\n\r\n        this._actions.addView(ActionView.fromAction(action, { template: this.actionTemplate }));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    notifyContentChanged(provider: IViewContentProvider<this>) {\r\n\r\n        this.loadAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async closeAsync(result?: any) {\r\n\r\n        if (this.contentProvider?.deactivateAsync)\r\n            await this.contentProvider.deactivateAsync();\r\n\r\n        this._body.clear();\r\n\r\n        this._actions.clear();\r\n\r\n        this.title = null;\r\n\r\n        return true;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    title: string = null;\r\n\r\n    actionTemplate: CatalogTemplate<ActionView> = \"ActionButton\";\r\n\r\n    contentProvider: TProvider = null;\r\n}\r\n\r\nregisterType(ContentHostView, \"ContentHostView\");","﻿export interface ITimeFunction {\r\n    (time: number): number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IAnimateOptions {\r\n    duration: number;\r\n    timeFunction: ITimeFunction;\r\n    step: (time: number) => void;\r\n    stepTime: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport namespace Animation {\r\n\r\n    export function cubic(p0: number, p1: number, p2: number, p3: number): ITimeFunction {\r\n        return t =>\r\n            Math.pow(1 - t, 3) * p0 +\r\n            3 * Math.pow(1 - t, 2) * t * p1 +\r\n            3 * (1 - t) * Math.pow(t, 2) * p2 +\r\n            Math.pow(t, 3) * p3;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function linear(): ITimeFunction {\r\n        return t => t;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function animate(options: IAnimateOptions) {\r\n\r\n        let curTime = 0;\r\n\r\n        const handler = setInterval(() => {\r\n            if (curTime > options.duration)\r\n                curTime = options.duration;\r\n\r\n            options.step(options.timeFunction(curTime / options.duration));\r\n\r\n            if (curTime == options.duration)\r\n                clearInterval(handler);\r\n\r\n            curTime += options.stepTime;\r\n\r\n        }, options.stepTime);\r\n    }\r\n}","import { Bindable } from \"../../Templating/Properties\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { Animation } from \"../Helpers/Animation\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ICounterViewConfig extends IContentViewConfig<number> {\r\n\r\n    value?: Bindable<number>;\r\n\r\n    title: Bindable<string>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class CounterView extends ContentView<number> {\r\n\r\n    constructor(config?: ICounterViewConfig) {\r\n        super({ template: \"CounterView\", ...config });\r\n\r\n        this.bindConfig(\"value\", config);\r\n        this.bindConfig(\"title\", config);\r\n\r\n        this.prop(\"value\").subscribe(() => this.animate());\r\n\r\n        if (this.value != null)\r\n            this.animate();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected animate() {\r\n\r\n        this.content = 0;\r\n\r\n        const duration = this.value / 200;\r\n\r\n        return Animation.animate({\r\n            timeFunction: Animation.linear(),// Animation.cubic(0.000, 0.610, 0.610, 0.795),\r\n            duration: isNaN(duration) || duration < 1 ? 1 : duration,\r\n            stepTime: 1 / 20,\r\n            step: t =>\r\n                this.content = Math.round(this.value * t)\r\n        });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    title: string = null;\r\n\r\n    value: number = 0;\r\n}\r\n\r\nregisterType(CounterView, \"CounterView\");","﻿import { IContext } from \"../../Core/Abstraction/IContext\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { IPopUpMenu } from \"../Abstraction/IPopUpMenu\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { IViewConfig, View } from \"./View\";\r\nimport \"Templates/Drawer.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { GestureType, IGestureData, IGestureListener } from \"../Abstraction/IGestureListener\";\r\n\r\nexport interface IDrawerGroupConfig {\r\n\r\n    label?: LocalString;\r\n\r\n    actions: IAction[];\r\n\r\n    icon?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDrawerConfig extends IViewConfig {\r\n\r\n    groups: IDrawerGroupConfig[];\r\n\r\n    header?: Bindable<IView>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport type DrawerStatus = \"hidden\" | \"visible\" | \"hiding\" | \"showing\";\r\n\r\n/****************************************/\r\n\r\nexport class DrawerGroup {\r\n\r\n    private _host: Drawer;\r\n\r\n    constructor(host: Drawer, config?: IDrawerGroupConfig) {\r\n        this._host = host;\r\n\r\n        if (config) {\r\n\r\n            this.label = Format.action(config.label);\r\n\r\n            config.actions.forEach(a =>\r\n                this.addAction(a));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n\r\n        const actionView = ActionView.fromAction(action, {\r\n            executeAsync: async () => {\r\n                this._host.hideAsync();\r\n                await action.executeAsync();\r\n            }\r\n        });\r\n\r\n        this.actions.add(actionView);\r\n\r\n        return actionView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    label: string = null;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Drawer extends View implements IPopUpMenu, IHTMLAttach, IGestureListener {\r\n\r\n    constructor(config?: IDrawerConfig) {\r\n        super({ template: \"Drawer\", ...config });\r\n\r\n        this.bindConfig(\"header\", config);\r\n\r\n        if (config) {\r\n            config.groups.forEach(a =>\r\n                this.addGroup(a));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onGesture(data: IGestureData) {\r\n\r\n        if (data.type == GestureType.SwipeLeft)\r\n            this.hideAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getGroup(label: LocalString) {\r\n\r\n        const labelTxt = Format.action(label);\r\n        return linq(this.groups).first(a => a.label == labelTxt);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addGroup(config: IDrawerGroupConfig) {\r\n\r\n        const group = new DrawerGroup(this, config);\r\n\r\n        this.groups.add(group);\r\n\r\n        return group;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attach(element: HTMLElement) {\r\n\r\n        element.addEventListener(\"click\", e => {\r\n\r\n            if (e.srcElement == e.currentTarget)\r\n                this.hideAsync();\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync(ctx?: IContext) {\r\n\r\n        this.status = \"showing\";\r\n\r\n        await delayAsync(0);\r\n\r\n        this.status = \"visible\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async hideAsync() {\r\n\r\n        this.status = \"hiding\";\r\n\r\n        await delayAsync(500);\r\n\r\n        if (this.status == \"hiding\")\r\n            this.status = \"hidden\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    status: DrawerStatus = \"hidden\";\r\n\r\n    header: IView = null;\r\n\r\n    readonly groups: IObservableList<DrawerGroup> = observableListOf();\r\n}\r\n\r\nregisterType(Drawer, \"Drawer\");","import { Http } from \"../../Core/Helpers/Http\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\nimport \"Templates/FileUploadView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport type FileStatus = \"empty\" | \"selected\" | \"uploading\" | \"uploaded\";\r\n\r\nexport interface IFileUploadViewConfig extends IViewComponentConfig {\r\n\r\n    onChanged?(): void;\r\n}\r\n\r\n/****************************************/\r\n/* FileViewModel                        */\r\n/****************************************/\r\n\r\nexport class FileUploadView extends ViewComponent {\r\n\r\n    private _input: HTMLInputElement;\r\n\r\n    constructor(config?: IFileUploadViewConfig) {\r\n\r\n        super(config);\r\n\r\n        this._input = document.createElement(\"input\");\r\n        this._input.type = \"file\";\r\n\r\n        this._input.addEventListener(\"change\", () => {\r\n\r\n            this.update();\r\n\r\n            if (config?.onChanged)\r\n                config.onChanged();\r\n        });\r\n\r\n        this.update();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected update() {\r\n\r\n        const file = this._input.files[0];\r\n\r\n        if (file) {\r\n            this.text = file.name;\r\n            this.status = \"selected\";\r\n        }\r\n        else {\r\n            this.text = \"Seleziona file\";\r\n            this.status = \"empty\";\r\n        }\r\n\r\n        this.isSelected = this._input.files[0] != null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select() {\r\n        this._input.click();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async uploadAsync<T>(url: string): Promise<T> {\r\n        this.status = \"uploading\";\r\n\r\n        const result = await Http.postBinaryAsync<T>(url, this._input.files[0], ev => {\r\n\r\n            this.progress = ev.loaded / ev.total;\r\n            return true;\r\n        });\r\n\r\n        this.status = \"uploaded\";\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get file() {\r\n        if (!this._input.files || this._input.files.length == 0)\r\n            return null;\r\n        return this._input.files[0];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    progress: number = 0;\r\n\r\n    text: string = null;\r\n\r\n    progressText: string = null;\r\n\r\n    status: FileStatus = \"empty\";\r\n\r\n    error: string = null;\r\n\r\n    isSelected: boolean = false;\r\n}\r\n\r\nregisterType(FileUploadView, \"FileUploadView\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { IListViewConfig, ListView } from \"./ListView\";\r\n\r\nexport interface IGridViewConfig<TItem, TView extends IView, TFilter extends {}> extends IListViewConfig<TItem, TView, TFilter> {\r\n\r\n    colsCount?: number;\r\n\r\n    rowsCount?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class GridView<TItem = any, TView extends IView = any, TFilter extends {} = any> extends ListView<TItem, TView, TFilter> {\r\n\r\n    constructor(config?: IGridViewConfig<TItem, TView, TFilter>) {\r\n\r\n        super({ styles: [\"grid\"], ...config });\r\n\r\n        this.bindConfig(\"colsCount\", config); \r\n\r\n        this.bindConfig(\"rowsCount\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    colsCount: number = 0;\r\n\r\n    rowsCount: number = 0;\r\n}\r\n\r\nregisterType(GridView, \"GridView\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/HeadedContentView.html\";\r\n\r\nexport interface IHeadedContentViewConfig<TContent, THeader> extends IContentViewConfig<TContent> {\r\n\r\n    header?: Bindable<THeader>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class HeadedContentView<TContent, THeader> extends ContentView<TContent> {\r\n\r\n    constructor(config?: IHeadedContentViewConfig<TContent, THeader>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"header\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    header: THeader = null;\r\n\r\n    headerTemplate: CatalogTemplate<THeader> = null;\r\n}\r\n\r\nregisterType(HeadedContentView, \"HeadedContentView\");","﻿import { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport \"Templates/HtmlView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport class HtmlView extends ContentView<string> {\r\n\r\n    constructor(config?: IContentViewConfig<string>) {\r\n\r\n        super({ template: \"Html\", ...config });\r\n    }\r\n}\r\n\r\nregisterType(HtmlView, \"HtmlView\");","﻿import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\n\r\nexport function loadImageAsync(src: string): Promise<HTMLImageElement> {\r\n\r\n    const op = Services.operation.begin({ message: \"Loading image: \" + src.substring(0, 50), type: OperationType.Local });\r\n\r\n    return new Promise((res, rej) => {\r\n\r\n        const img = document.createElement(\"img\");\r\n\r\n        img.addEventListener(\"load\", () => {\r\n            res(img);\r\n            op.end()\r\n        });\r\n\r\n        img.addEventListener(\"error\", ev => {\r\n            rej(ev?.error);\r\n            op.end();\r\n        });\r\n\r\n        img.src = src;\r\n\r\n    });\r\n}","﻿import { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\n\r\nimport \"Templates/ImageView.html\";\r\nimport { loadImageAsync } from \"../Helpers/ImageLoade\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IImageViewConfig extends IContentViewConfig<string> {\r\n\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ImageView extends ContentView<string> implements IAsyncLoad {\r\n\r\n    constructor(config?: IImageViewConfig) {\r\n\r\n        super({ template: \"Image\", ...config });\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    loadAsync() {\r\n\r\n        if (this.content)\r\n            return loadImageAsync(this.content);\r\n        return Promise.resolve();\r\n    }\r\n}\r\n\r\nregisterType(ImageView, \"ImageView\");","import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority } from \"../Abstraction/IAction\";\r\nimport { IItemAction } from \"../Abstraction/IItemAction\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { ContextMenu } from \"./ContextMenu\";\r\nimport { IPanelConfig, Panel } from \"./Panel\";\r\nimport { View } from \"./View\";\r\nimport \"Templates/ItemView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IItemViewConfig<TItem> extends IPanelConfig {\r\n\r\n    item?: Bindable<TItem>;\r\n\r\n    actions?: IItemAction<TItem>[];\r\n\r\n    itemTemplate?: CatalogTemplate<ItemView<TItem>>;\r\n\r\n    canOpen?: Bindable<boolean>;\r\n\r\n    open?(): void;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ItemView<TItem> extends Panel {\r\n\r\n    protected _otherAction: ActionView;\r\n\r\n    constructor(config: IItemViewConfig<TItem>) {\r\n        super({ template: \"ItemView\", ...config });\r\n\r\n        this.bindConfig(\"item\", config);\r\n\r\n        this.bindConfig(\"canOpen\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.open)\r\n                this.openWork = config.open;\r\n\r\n            if (config.actions)\r\n                config.actions.forEach(a => this.addAction(a));\r\n\r\n            if (config.itemTemplate)\r\n                this.content.add(new View({ template: t => t.template(config.itemTemplate, this) }));\r\n        }\r\n\r\n        this.computed(\"hasActions\",\r\n            m => linq(m.contextActions).any(a => a.visible));\r\n\r\n        this.create();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IItemAction<TItem>) {\r\n\r\n        const view = ActionView.fromItemAction(action, () => this.item);\r\n\r\n        if (action.priority == ActionPriority.Primary) {\r\n            if (this.mainActions.length >= 3) {\r\n\r\n                if (!this._otherAction) {\r\n\r\n                    this._otherAction = ActionView.fromAction({\r\n                        name: \"other\",\r\n                        icon: \"fas fa-ellipsis-h\",\r\n                        operation: OperationType.Local,\r\n                        executeAsync: () => Promise.resolve()\r\n                    });\r\n                    this._otherAction.subActions.add(this.mainActions.pop());\r\n                    this.mainActions.push(this._otherAction);\r\n                }\r\n\r\n                this._otherAction.subActions.add(view);\r\n            }\r\n            else\r\n                this.mainActions.push(view);\r\n        }\r\n        else {\r\n            this.contextActions.push(view);\r\n            this.prop(\"hasActions\").notifyChanged();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    create() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    open() {\r\n        if (this.canOpen)\r\n            this.openWork();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected openWork() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    showMenu() {\r\n\r\n        const menu = new ContextMenu();\r\n        this.contextActions.forEach(a => menu.actions.add(a));\r\n        menu.showAsync(window.event.srcElement as HTMLElement);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    item: TItem = null;\r\n\r\n    contextActions: ActionView[] = [];\r\n\r\n    mainActions: ActionView[] = [];\r\n\r\n    status: string = null;\r\n\r\n    canOpen: boolean = false;\r\n\r\n    hasActions: boolean = null;\r\n}\r\n\r\n\r\nregisterType(ItemView, \"ItemView\");","import { Services } from \"../../Core/Global\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\nimport { ILocation } from \"../Types/Location\";\r\nimport { ISize } from \"../Types/Size\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\n\r\nexport interface ILocationViewConfig extends IContentViewConfig<ILocation> {\r\n\r\n    mapSize?: ISize;\r\n\r\n    zoomLevel?: number;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class LocationView extends ContentView<ILocation>  {\r\n\r\n    constructor(config?: ILocationViewConfig) {\r\n        super({ template: \"LocationView\", ...config });\r\n\r\n        if (config) {\r\n\r\n            if (config.mapSize)\r\n                this.mapSize = config.mapSize;\r\n\r\n            if (config.zoomLevel)\r\n                this.zoomLevel = config.zoomLevel;\r\n        }\r\n\r\n        this.updateAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onContentChanged() {\r\n\r\n        this.updateAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    showMap() {\r\n        Actions.maps(this.content);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async updateAsync(): Promise<void> {\r\n\r\n        const manager = Services.mapManager();\r\n        let pos = this.content.position;\r\n\r\n        if (!pos)\r\n            pos = await manager.getLocationAsync(this.content.address);\r\n\r\n        this.map = manager.staticMap({\r\n            center: pos,\r\n            size: this.mapSize,\r\n            zoomLevel: this.zoomLevel,\r\n            pins: [{\r\n                center: pos,\r\n                icon: 113,\r\n                name: this.content.name\r\n            }]\r\n        });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    map: string;\r\n\r\n    mapSize: ISize = { width: 1280, height: 720 };\r\n\r\n    zoomLevel: number = 16;\r\n}\r\n\r\nregisterType(LocationView, \"LocationView\");","import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { Signal } from \"../../Core/Types/Signal\";\r\nimport { get, registerType, set } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { ICreateMapItemOptions, IMapItem, IMapManager } from \"../Abstraction/IMapManager\";\r\nimport { ISingleItemSelector } from \"../Abstraction/ISingleItemSelector\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\n\r\nexport interface IMapItemsViewConfig<TItem extends object, TFilter> extends IItemsViewConfig<TItem> {\r\n\r\n    manager?: IMapManager;\r\n\r\n    onItemSelected?: (item: TItem) => void;\r\n\r\n    createMapItem?: (item: TItem) => ICreateMapItemOptions;\r\n\r\n    itemsSource?: ItemsSource<TItem, TItem, TFilter>\r\n\r\n    showCurrentPosition?: Bindable<boolean>;\r\n}\r\n\r\n/********************************************/\r\n\r\ntype ItemsMapViewStatus = \"\" | \"loading\";\r\n\r\n/********************************************/\r\n\r\nexport class MapItemsView<TItem extends object, TFilter = any> extends ItemsView<TItem> implements IHTMLAttach, ISingleItemSelector<TItem> {\r\n\r\n    private _manager: IMapManager;\r\n\r\n    /********************************************/\r\n\r\n    constructor(config?: IMapItemsViewConfig<TItem, TFilter>) {\r\n        super({ template: \"Attach\", ...config });\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"showCurrentPosition\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.manager)\r\n                this._manager = config.manager;\r\n\r\n            if (config.createMapItem)\r\n                this.createMapItem = config.createMapItem;\r\n        }\r\n\r\n        if (!this._manager)\r\n            this._manager = Services.mapManager();\r\n\r\n        this.prop(\"selectedItem\").subscribe(value => {\r\n            if (!value)\r\n                this._manager.selectedItem = null;\r\n            else\r\n                this._manager.selectedItem = value[\"@mapItem\"];\r\n\r\n            if (config && config.onItemSelected)\r\n                config.onItemSelected(value as TItem);\r\n        });\r\n\r\n        this._manager.onSelectionChanged = () => {\r\n            if (this._manager.selectedItem)\r\n                this.selectedItem = this._manager.selectedItem[\"@item\"];\r\n            else\r\n                this.selectedItem = null;\r\n        };\r\n\r\n\r\n        this.prop(\"showCurrentPosition\").subscribe(value => {\r\n            this.manager.showCurrentPositionAsync(value);\r\n        })\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadItemsAsync(filter?: TFilter): Promise<void> {\r\n\r\n        if (!this.itemsSource)\r\n            return;\r\n\r\n        this.beginUpdate();\r\n\r\n        this.content.clear();\r\n\r\n        this.status = \"loading\";\r\n        const operation = Services.operation.begin({ message: \"Loading items\", type: OperationType.Local });\r\n        try {\r\n\r\n            const items = await this.itemsSource.getItemsAsync(filter);\r\n\r\n            if (items)\r\n                items.forEach(a => this.content.add(a));\r\n\r\n            if (this.mapReady.isSet)\r\n                this.initItems();\r\n        }\r\n        finally {\r\n            operation.end();\r\n            this.status = \"\";\r\n            this.endUpdate();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement): void {\r\n\r\n        Services.operation.progress(\"Map attacched\");\r\n\r\n        if (this._manager)\r\n            this._manager.attach(element);\r\n\r\n        this.mapReady.set();\r\n\r\n        if (this.status != \"loading\")\r\n            this.initItems();\r\n\r\n        this._manager.showCurrentPositionAsync(this.showCurrentPosition);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected initItems() {\r\n\r\n        const mapOptions = linq(this.content).select(a => this.createMapItem(a)).toArray();\r\n        const mapItems = this._manager.addItems(mapOptions);\r\n\r\n        for (let i = 0; i < mapItems.length; i++) {\r\n            set(this.content.get(i), \"@mapItem\", mapItems[i]);\r\n            set(mapItems[i], \"@item\", this.content.get(i));\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createMapItem(item: TItem): ICreateMapItemOptions {\r\n        return undefined;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemAdded(item: TItem) {\r\n\r\n        if (!this.mapReady.isSet)\r\n            return;\r\n\r\n        const options = this.createMapItem(item);\r\n\r\n        if (!options.location || isNaN(options.location.latitude) || isNaN(options.location.longitude)) {\r\n            console.warn(\"Invalid location for \" + options.title);\r\n            return;\r\n        }\r\n\r\n        const mapItem = this._manager.addItems([options]);\r\n\r\n        set(item, \"@mapItem\", mapItem);\r\n        set(mapItem, \"@item\", item);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemRemoved(item: TItem) {\r\n\r\n        if (!this.mapReady.isSet)\r\n            return;\r\n        const mapItem = get<IMapItem>(item, \"@mapItem\");\r\n        if (mapItem)\r\n            this._manager.removeItem(mapItem);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    itemsSource: ItemsSource<TItem, TItem, TFilter> = null;\r\n\r\n    status: ItemsMapViewStatus = \"\";\r\n\r\n    selectedItem: TItem = null;\r\n\r\n    showCurrentPosition: boolean = false;\r\n\r\n    mapReady = new Signal();\r\n\r\n    get manager() { return this._manager; }\r\n}\r\n\r\nregisterType(MapItemsView, \"MapItemsView\");","﻿import { Services } from \"../../Core/Global\";\r\nimport { Signal } from \"../../Core/Types/Signal\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { IMapManager } from \"../Abstraction/IMapManager\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface IMapViewConfig extends IViewComponentConfig {\r\n\r\n    manager?: IMapManager;\r\n\r\n    showCurrentPosition?: Bindable<boolean>;\r\n\r\n    onMapLoaded?: () => void;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class MapView extends ViewComponent implements IHTMLAttach {\r\n\r\n    constructor(config?: IMapViewConfig) {\r\n        super({ template: \"Attach\", ...config });\r\n\r\n        if (config) {\r\n            if (config.onMapLoaded)\r\n                this.onMapLoaded = config.onMapLoaded;\r\n            if (config.manager)\r\n                this.manager = config.manager;\r\n            this.bindConfig(\"showCurrentPosition\", config);\r\n        }\r\n\r\n        if (!this.manager)\r\n            this.manager = Services.mapManager();\r\n\r\n        this.prop(\"showCurrentPosition\").subscribe(value => {\r\n            this.manager.showCurrentPositionAsync(value);\r\n        })\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement): void {\r\n\r\n        if (this.manager)\r\n            this.manager.attach(element);\r\n\r\n        this.mapReady.set();\r\n        this.onMapLoaded();\r\n\r\n        this.manager.showCurrentPositionAsync(this.showCurrentPosition);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    onMapLoaded() {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    showCurrentPosition: boolean = false;\r\n\r\n    manager: IMapManager;\r\n\r\n    mapReady = new Signal();\r\n}\r\n\r\nregisterType(MapView, \"MapView\");","﻿import { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Services } from \"../../Core/Global\";\r\n\r\n export function loadVideoAsync(src: string): Promise < HTMLVideoElement > {\r\n\r\n    const op = Services.operation.begin({ message: \"Loading video: \" + src.substring(0, 50), type: OperationType.Local });\r\n\r\n    return new Promise((res, rej) => {\r\n\r\n        const video = document.createElement(\"video\");\r\n\r\n        video.addEventListener(\"playing\", () => {\r\n            video.pause();\r\n            op.end()\r\n            res(video);\r\n        });\r\n\r\n        video.addEventListener(\"error\", ev => {\r\n            op.end();\r\n            rej(\"error\" in ev ? ev.error : \"video load error\");\r\n        });\r\n\r\n        video.src = src;\r\n        video.muted = true;\r\n        video.play();\r\n        if (video.readyState >= 2)\r\n            res(video);\r\n    });\r\n}\r\n\r\nexport function loadVideoIntoAsync(src: string, video: HTMLVideoElement) {\r\n\r\n    if (!video.paused || video.played)\r\n        return Promise.resolve();\r\n\r\n    const op = Services.operation.begin({ message: \"Loading image: \" + src, type: OperationType.Local });\r\n\r\n    return new Promise((res, rej) => {\r\n\r\n        function removeListeners() {\r\n            video.removeEventListener(\"playing\", loadListener);\r\n            video.removeEventListener(\"error\", errorListener);\r\n        }\r\n\r\n        const loadListener = () => {\r\n            op.end();\r\n            removeListeners();\r\n            res(undefined);\r\n        };\r\n\r\n        const errorListener = ev => {\r\n            op.end();\r\n            removeListeners();\r\n            rej(ev.error);\r\n        };\r\n\r\n        video.addEventListener(\"playing\", loadListener);\r\n        video.addEventListener(\"error\", errorListener);\r\n        video.src = src;\r\n        video.play();\r\n    });\r\n}","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";import { loadVideoAsync, loadVideoIntoAsync } from \"../Helpers/VideoLoader\";\r\n;\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\n\r\nexport interface IVideoViewConfig extends IContentViewConfig<string> {\r\n    isAutoPlay?: Bindable<boolean>;\r\n\r\n    isMuted?: Bindable<boolean>;\r\n\r\n    showControls?: Bindable<boolean>;\r\n\r\n    isLoop?: Bindable<boolean>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class VideoView extends ContentView<string> implements IHTMLAttach, IAsyncLoad {\r\n\r\n    protected _video: HTMLVideoElement;\r\n\r\n    constructor(config?: IVideoViewConfig) {\r\n\r\n        super({ template: \"VideoView\", ...config });\r\n\r\n        this.bindConfig(\"isAutoPlay\", config);\r\n\r\n        this.bindConfig(\"isMuted\", config);\r\n\r\n        this.bindConfig(\"showControls\", config);\r\n\r\n        this.bindConfig(\"isLoop\", config);\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected onContentChanged() {\r\n\r\n        this.updateVideo();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement) {\r\n\r\n        this._video = element as any;\r\n\r\n        this.updateVideo();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    loadAsync() {\r\n\r\n        if (this.content) {\r\n            if (this._video)\r\n                return loadVideoIntoAsync(this.content, this._video);\r\n            else\r\n                return loadVideoAsync(this.content);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected updateVideo() {\r\n\r\n        if (!this._video)\r\n            return;\r\n\r\n        this._video.muted = this.isMuted;\r\n        this._video.autoplay = this.isAutoPlay;\r\n        this._video.controls = this.showControls;\r\n        this._video.loop = this.isLoop;\r\n\r\n        if (this.content)\r\n            this._video.load();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    play() {\r\n        if (this._video)\r\n            this._video.play();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    pause() {\r\n        if (this._video)\r\n            this._video.pause();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    isAutoPlay: boolean = true;\r\n\r\n    isMuted?: boolean = true;\r\n\r\n    showControls: boolean = false;\r\n\r\n    isLoop: boolean = true;\r\n}\r\n\r\nregisterType(VideoView, \"VideoView\");","﻿import { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { IImageViewConfig, ImageView } from \"./ImageView\";\r\nimport { IVideoViewConfig, VideoView } from \"./VideoView\";\r\nimport \"Templates/MediaView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport type MediaType = \"empty\" | \"image\" | \"video\";\r\n\r\nexport interface IMediaContent {\r\n\r\n    type: MediaType;\r\n\r\n    src?: string;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport interface IMediaViewConfig extends IContentViewConfig<IMediaContent> {\r\n\r\n    image?: IImageViewConfig;\r\n\r\n    video?: IVideoViewConfig;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class MediaView extends ContentView<IMediaContent> {\r\n\r\n    private _imageConfig: IImageViewConfig = {};\r\n    private _videoConfig: IVideoViewConfig = {};\r\n\r\n    constructor(config?: IMediaViewConfig) {\r\n\r\n        super({ template: \"MediaView\", ...config });\r\n\r\n        if (config) {\r\n\r\n            if (config.image)\r\n                this._imageConfig = config.image;\r\n\r\n            if (config.video)\r\n                this._videoConfig = config.video;\r\n        }\r\n\r\n        this.updateContent();\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    loadAsync() {\r\n\r\n        if (this.activeView)\r\n            return this.activeView.loadAsync();\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onContentChanged() {\r\n\r\n        this.updateContent();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected updateContent() {\r\n\r\n        if (this.content && this.content.type == \"image\")\r\n            this.activeView = new ImageView({ ...this._imageConfig, content: this.content.src });\r\n\r\n        if (this.content && this.content.type == \"video\")\r\n            this.activeView = new VideoView({ ...this._videoConfig, content: this.content.src });\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    activeView: VideoView | ImageView = null;\r\n}\r\n\r\nregisterType(MediaView, \"MediaView\");","﻿import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority, IAction } from \"../Abstraction/IAction\";\r\nimport { ViewStyle } from \"../Abstraction/IView\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { BasePopUpMessage, IBasePopUpMessageConfig } from \"./BasePopUpMessage\";\r\n\r\nexport interface IMessageBoxConfig extends IBasePopUpMessageConfig {\r\n\r\n    actions?: IAction[];\r\n\r\n    message?: Bindable<LocalString>;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    icon: Bindable<string>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class MessageBox extends BasePopUpMessage {\r\n\r\n\r\n    constructor(config?: IMessageBoxConfig) {\r\n\r\n        super({ template: \"MessageBox\", className: \"message-box\", ...config });\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfigString(\"message\", config, StringUsage.Message);\r\n\r\n        this.bindConfig(\"icon\", config);\r\n\r\n        if (config) {\r\n            if (config.actions)\r\n                config.actions.forEach(a => this.addAction(a));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n\r\n        const styles: ViewStyle[] = action.styles ?? [];\r\n\r\n        if (action.priority == ActionPriority.Evidence)\r\n            styles.push(\"primary\");\r\n\r\n        this.actions.add(ActionView.fromAction(action,\r\n            {\r\n                template: \"ActionButton\",\r\n                styles: styles,\r\n                executeAsync: async () => {\r\n                    await action.executeAsync();\r\n                    this.hide(action.name);\r\n                }\r\n            }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n\r\n    message: string = null;\r\n\r\n    title: string = null;\r\n\r\n    icon: string = null;\r\n}\r\n\r\nregisterType(MessageBox, \"MessageBox\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface IProgressViewConfig extends IViewComponentConfig {\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ProgressView extends ViewComponent {\r\n\r\n    constructor(config?: IProgressViewConfig) {\r\n        super(config);\r\n    }\r\n}\r\n\r\nregisterType(ProgressView, \"ProgressView\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\n\r\nexport type TextEditorTrackMode = \"onchange\" | \"onlostfocus\";\r\n\r\nexport interface IBaseTextEditorConfig<TValue> extends IBaseEditorConfig<TValue> {\r\n\r\n    trackMode?: Bindable<TextEditorTrackMode>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport abstract class BaseTextEditor<TValue> extends BaseEditor<TValue, string> implements IHTMLAttach {\r\n\r\n    protected _element: HTMLElement;\r\n\r\n    constructor(config?: IBaseTextEditorConfig<TValue>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"trackMode\", config);\r\n\r\n        this.prop(\"hasFocus\").subscribe(a => this.onFocusChanged(a));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    attach(element: HTMLElement) {\r\n        this._element = element;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async activateAsync() {\r\n\r\n        if (this._element.nodeName == \"INPUT\" || this._element.nodeName == \"TEXTAREA\") {\r\n            while (true) {\r\n\r\n                const input = <HTMLTextAreaElement>this._element;\r\n                input.selectionStart = 0;\r\n                input.selectionEnd = input.value?.length;\r\n                this._element.focus();\r\n\r\n                if (this.hasFocus)\r\n                    break;\r\n\r\n                await delayAsync(100);\r\n            }\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onFocusChanged(value: boolean) {\r\n\r\n        if (!value && this.trackMode == \"onlostfocus\")\r\n            this.notifyEditValueChangedAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected notifyEditValueChangedAsync() {\r\n\r\n        if (this.hasFocus && this.trackMode == \"onlostfocus\") {\r\n\r\n            this._needValidation = true;\r\n\r\n            this.isDirty = true;\r\n\r\n            return Promise.resolve();\r\n        }\r\n        return super.notifyEditValueChangedAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    trackMode: TextEditorTrackMode = \"onlostfocus\";\r\n}\r\n\r\nregisterType(BaseTextEditor, \"BaseTextEditor\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { BaseTextEditor, IBaseTextEditorConfig } from \"./BaseTextEditor\";\r\n\r\nexport interface INumberEditorConfig extends IBaseTextEditorConfig<number> {\r\n\r\n    placeholder?: Bindable<string>;\r\n\r\n    min?: number;\r\n\r\n    max?: number;\r\n\r\n    precision?: number;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class NumberEditor extends BaseTextEditor<number> {\r\n\r\n    constructor(config?: INumberEditorConfig) {\r\n\r\n        super({ template: \"NumberEditor\", ...config });\r\n\r\n        this.bindConfig(\"placeholder\", config);\r\n\r\n        this.bindConfig(\"precision\", config);\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected valueToEdit(value: number): string {\r\n\r\n        return isNaN(value) ? \"\" : (this.precision != null ? value.toFixed(this.precision) : value.toString()).replace(\".\", \",\");\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: string): number {\r\n\r\n        const result = parseFloat(value?.replace(\",\", \".\"));\r\n        return isNaN(result) ? null : result;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    placeholder: string = null;\r\n\r\n    min?: number = null;\r\n\r\n    max?: number = null;\r\n\r\n    precision: number = null;\r\n}\r\n\r\nregisterType(NumberEditor, \"NumberEditor\");","import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { equals, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IEditor } from \"../Abstraction/IEditor\";\r\nimport { IHasLabel } from \"../Abstraction/IHasLabel\";\r\nimport { IValidationContext, IValidator } from \"../Abstraction/IValidator\";\r\nimport { NumberEditor } from \"../Editors/NumberEditor\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\nimport \"Templates/PropertyView.html\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { IPropertiesHost } from \"../Abstraction/IPropertiesHost\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\n\r\ntype NewType<TValue, TObj extends object> = IValidator<TValue, TObj>;\r\n\r\nexport type PropertyChangeReason = \"editor\" | \"setter\";\r\n\r\nexport interface IPropertyViewConfig<TValue, TObj extends object = any> extends IViewComponentConfig {\r\n\r\n    host?: IPropertiesHost<TObj>;\r\n\r\n    editor: Bindable<IEditor<TValue, any>>;\r\n\r\n    value?: Bindable<TValue>;\r\n\r\n    label?: Bindable<LocalString>;\r\n\r\n    readonly?: Bindable<boolean>;\r\n\r\n    showLabel?: Bindable<boolean>;\r\n\r\n    validators?: NewType<TValue, TObj>[];\r\n\r\n    onChanged?: (newValue: TValue, oldValue: TValue, target: TObj, reason: PropertyChangeReason) => void;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class PropertyView<TValue, TEditor extends IEditor<TValue, any> = IEditor<TValue, any>, TObj extends object = any> extends ViewComponent implements IHasLabel, IAsyncLoad {\r\n\r\n    protected _lastValidationValue: TValue = undefined;\r\n\r\n    constructor(config?: IPropertyViewConfig<TValue, TObj>) {\r\n\r\n        super({ template: \"PropertyView\", ...config });\r\n\r\n        this.bindConfig(\"host\", config);\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        this.bindConfig(\"readonly\", config);\r\n\r\n        this.bindConfig(\"showLabel\", config);\r\n\r\n        this.bindConfig(\"value\", config);\r\n\r\n        this.bindConfigString(\"label\", config, StringUsage.Label);\r\n\r\n        this.prop(\"error\");\r\n\r\n        if (config) {\r\n\r\n            if (config.onChanged)\r\n                this.prop(\"value\").subscribe((o, n) => config.onChanged(o, n, this.host?.editValue, \"editor\"));\r\n\r\n            if (config.validators)\r\n                this.validators = config.validators;\r\n        }\r\n\r\n        this.prop(\"editor\").subscribe(() => this.bindEditor());\r\n\r\n        this.bindEditor();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected bindEditor() {\r\n\r\n        if (this.editor) {\r\n            this.editor.name = this.name;\r\n            this.editor.value = this.value;\r\n\r\n            this.bind(\"value\", this.editor.prop(\"value\"));\r\n\r\n            this.bind(\"isDirty\", this.editor.prop(\"isDirty\"));\r\n\r\n            if (\"label\" in this.editor) {\r\n                this.bind(\"label\", (this.editor as unknown as IHasLabel & IEditor<TValue, any>).prop(\"label\"));\r\n                this.showLabel = false;\r\n            }\r\n\r\n            this.editor.prop(\"isValid\").subscribe(value => {\r\n\r\n                if (!value)\r\n                    this.isValid = false;\r\n\r\n                this.error = this.editor.error;\r\n            });\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clearError() {\r\n\r\n        this.editor.error = null;\r\n        this.error = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async validateAsync(target: TObj, force?: boolean): Promise<boolean> {\r\n\r\n        console.group(\"begin validation: \" + this.label, \" - needValidation: \", this.isDirty);\r\n\r\n        try {\r\n\r\n            await delayAsync(0);\r\n\r\n            //TODO fix this, sometimes is editValue other time value\r\n            const curValue = this.editor instanceof NumberEditor ? this.editor.value : this.editor.editValue;\r\n\r\n            if (!force && this._lastValidationValue !== undefined && equals(this._lastValidationValue, curValue))\r\n                return this.isValid;\r\n\r\n            this.clearError();\r\n\r\n            this._lastValidationValue = curValue;\r\n\r\n            if (!await this.editor.validateAsync(force)) {\r\n\r\n                this.isValid = false;\r\n                this.error = this.editor.error;\r\n                return false;\r\n            }\r\n\r\n            const ctx: IValidationContext<TValue, TObj> = {\r\n                value: curValue,\r\n                fieldName: this.label,\r\n                target: target\r\n            };\r\n\r\n            for (const validator of this.validators) {\r\n                const result = await validator.validateAsync(ctx);\r\n                if (!result.isValid) {\r\n                    this.error = Format.message(result.error);\r\n                    this.isValid = false;\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            this.isValid = true;\r\n            return true;\r\n        }\r\n        finally {\r\n            console.groupEnd();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    loadAsync() {\r\n\r\n        return this.editor.loadAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clear() {\r\n        this.editor.clear();\r\n        this.clearError();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    isDirty: boolean = null;\r\n\r\n    isValid: boolean = true;\r\n\r\n    value: TValue = null;\r\n\r\n    editor: TEditor = null;\r\n\r\n    error: string = null;\r\n\r\n    label: string = null;\r\n\r\n    readonly: boolean = false;\r\n\r\n    showLabel: boolean = true;\r\n\r\n    host: IPropertiesHost<TObj> = null;\r\n\r\n    validators: IValidator<TValue, TObj>[] = [];\r\n}\r\n\r\n\r\nregisterType(PropertyView, \"PropertyView\");","﻿import { linq } from \"../../Core/Linq\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\nimport { TextView } from \"./TextView\";\r\n\r\ninterface ISectionViewConfig<TContent extends IView, THeader extends IView> extends IContentViewConfig<TContent> {\r\n\r\n    header?: LocalString | THeader;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class SectionView<TContent extends IView = any, THeader extends IView = any> extends ContentView<TContent> {\r\n\r\n    constructor(config?: ISectionViewConfig<TContent, THeader>) {\r\n\r\n        super(config)\r\n\r\n        if (typeof config?.header == \"string\")\r\n            this.header = <any>new TextView({ content: config.header });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    header: THeader;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport interface ISectionsViewConfig extends IItemsViewConfig<SectionView<any, any>> {\r\n\r\n    sections?: ISectionViewConfig<any, any>[];\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class SectionsView extends ItemsView<SectionView<IView, IView>> {\r\n\r\n    constructor(config?: ISectionsViewConfig) {\r\n\r\n        super(config);\r\n\r\n        if (config?.sections)\r\n            config.sections.forEach(a => this.content.add(new SectionView(a)));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    section(name: string) {\r\n        return linq(this.content).first(a => a.name == name);\r\n    }\r\n}\r\n\r\nregisterType(SectionsView, \"SectionsView\");","﻿import { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IconTextView, IIconTextViewConfig } from \"./IconTextView\";\r\nimport \"Templates/SimpleItemView.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ISimpleItemViewConfig<TITem, TStatus> extends IIconTextViewConfig {\r\n\r\n    subText?: Bindable<LocalString>;\r\n\r\n    status?: Bindable<TStatus>;\r\n\r\n    item?: Bindable<TITem>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SimpleItemView<TITem = any, TStatus extends string = any> extends IconTextView {\r\n\r\n    constructor(config?: ISimpleItemViewConfig<TITem, TStatus>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfigString(\"subText\", config);\r\n\r\n        this.bindConfig(\"status\", config);\r\n\r\n        this.bindConfig(\"item\", config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    subText: string = null;\r\n\r\n    status: TStatus = null;\r\n\r\n    item: TITem = null;\r\n}\r\n\r\nregisterType(SimpleItemView, \"SimpleItemView\");\r\n","﻿import { App } from \"../../Core/Global\";\r\nimport { TimeSpan } from \"../../Core/Types/TimeSpan\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IViewApplication } from \"../Abstraction/IViewApplication\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface ISnackBarOptions<TContent> {\r\n\r\n    showTime?: TimeSpan;\r\n\r\n    content: TContent;\r\n\r\n    action: IAction | string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SnackBar<TContent> extends ViewComponent {\r\n\r\n    protected _showResolve: (value: string) => void;\r\n\r\n    private constructor() {\r\n\r\n        super({ template: \"SnackBar\" });\r\n\r\n        this.status = \"close\";\r\n\r\n        new TemplateBuilder(this, document.body).content(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync() {\r\n\r\n        if (this.status == \"open\")\r\n            return;\r\n\r\n        (App as IViewApplication).unblock(true);\r\n\r\n        await delayAsync(0);\r\n\r\n        this.status = \"open\";\r\n\r\n        return new Promise<string>(res => this._showResolve = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n\r\n    hide(actionName: string) {\r\n\r\n        if (this.status != \"open\")\r\n            return;\r\n\r\n        this.status = \"close\";\r\n\r\n        (App as IViewApplication).restoreBlock();\r\n\r\n        if (this._showResolve) {\r\n\r\n            this._showResolve(actionName);\r\n            this._showResolve = null;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static showAsync<TContent>(options: ISnackBarOptions<TContent>) {\r\n\r\n        const instanceId = new Date().valueOf();\r\n\r\n        if (!SnackBar.instance)\r\n            SnackBar.instance = new SnackBar();\r\n\r\n        SnackBar.instance.content = options.content;\r\n\r\n        SnackBar.instance.instanceId = instanceId;\r\n\r\n        if (options.action) {\r\n\r\n            let action: IAction;\r\n\r\n            if (typeof options.action == \"string\")\r\n                action = {\r\n                    name: options.action,\r\n                    executeAsync: () => Promise.resolve()\r\n                };\r\n            else\r\n                action = options.action;\r\n\r\n            SnackBar.instance.action = ActionView.fromAction(action, {\r\n                executeAsync: async () => {\r\n                    await action.executeAsync();\r\n                    SnackBar.instance.hide(action.name);\r\n                }\r\n            });\r\n        }\r\n        else\r\n            SnackBar.instance.action = null;\r\n\r\n        if (options.showTime) {\r\n\r\n            setTimeout(() => {\r\n\r\n                if (SnackBar.instance.instanceId == instanceId && SnackBar.instance._isVisible)\r\n                    SnackBar.instance.hide(null);\r\n\r\n            }, options.showTime.totalMilliseconds)\r\n        }\r\n\r\n        return SnackBar.instance.showAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    action: ActionView = null;\r\n\r\n    content: TContent = null;\r\n\r\n    showTime?: TimeSpan = TimeSpan.fromSeconds(0);\r\n\r\n    instanceId: number = null;\r\n\r\n    private static instance = null;\r\n}\r\n\r\nregisterType(SnackBar, \"SnackBar\");","﻿import { Services } from \"../../Core/Global\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IContentView } from \"../Abstraction/IContentView\";\r\nimport { IStaticMapOptions } from \"../Abstraction/IMapManager\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface IStaticMapViewConfig extends IViewComponentConfig {\r\n\r\n    options?: Bindable<IStaticMapOptions>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class StaticMapView extends ViewComponent implements IContentView<string>  {\r\n\r\n    constructor(config?: IStaticMapViewConfig) {\r\n        super({ template: \"ImageView\", ...config });\r\n\r\n        this.bindConfig(\"options\", config);\r\n\r\n        this.update();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    update() {\r\n        this.content = Services.mapManager().staticMap(this.options);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    options: IStaticMapOptions;\r\n\r\n    content: string;\r\n}\r\n\r\nregisterType(StaticMapView, \"StaticMapView\");\r\n","﻿import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { TimeSpan } from \"../../Core/Types/TimeSpan\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { delayAsync } from \"../../Core/Utils/PromiseUtils\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { TemplateBuilder } from \"../../Templating/TemplateBuilder\";\r\nimport { IViewComponentConfig, ViewComponent } from \"./ViewComponent\";\r\n\r\nexport interface IToastConfig extends IViewComponentConfig {\r\n\r\n    showTime?: Bindable<TimeSpan>;\r\n\r\n    message: Bindable<LocalString>;\r\n\r\n    icon?: Bindable<string>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Toast extends ViewComponent {\r\n\r\n    private static _container: HTMLElement;\r\n\r\n    private static _items = observableListOf<Toast>();\r\n\r\n    protected _showResolve: (res?: string) => void;\r\n\r\n    constructor(config?: IToastConfig) {\r\n\r\n        super({ template: \"Toast\", visible: false, ...config });\r\n\r\n        if (Toast._container == null)\r\n            Toast.init();\r\n\r\n        this.bindConfigString(\"message\", config, StringUsage.Tooltip);\r\n\r\n        this.bindConfig(\"showTime\", config);\r\n\r\n        this.bindConfig(\"icon\", config);\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static init() {\r\n\r\n        Toast._container = document.createElement(\"div\");\r\n\r\n        Toast._container.className = \"toast-container\";\r\n\r\n        const builder = new TemplateBuilder(Toast._items, Toast._container);\r\n\r\n        builder.template(\"ToastContainer\", a => a);\r\n\r\n        document.body.appendChild(Toast._container);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showAsync() {\r\n\r\n        Toast._items.add(this);\r\n\r\n        await delayAsync(10);\r\n\r\n        this.visible = true;\r\n\r\n        let showMs = this.showTime.totalMilliseconds;\r\n\r\n        if (showMs == 0)\r\n            showMs = Math.min(Math.max(this.message.length * 70, 2000), 7000);\r\n\r\n        setTimeout(() => this.hideAsync(), showMs);\r\n\r\n        return new Promise<string>(res => this._showResolve = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async hideAsync() {\r\n\r\n        this.visible = false;\r\n\r\n        await delayAsync(600);\r\n\r\n        Toast._items.remove(this);\r\n\r\n        if (this._showResolve) {\r\n\r\n            this._showResolve();\r\n            this._showResolve = null;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    message: string = null;\r\n\r\n    icon: string = null;\r\n\r\n    showTime?: TimeSpan = TimeSpan.fromSeconds(0);\r\n}\r\n\r\n\r\nregisterType(Toast, \"Toast\");","import { IDictionary } from \"../../Core/Abstraction/IDictionary\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IAsyncLoad } from \"../Abstraction/IAsyncLoad\";\r\nimport { IValidable } from \"../Abstraction/IValidator\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { isAsyncLoad, isValidable } from \"../Helpers/TypeCheck\";\r\nimport { ActionView } from \"./ActionView\";\r\nimport { ContentView, IContentViewConfig } from \"./ContentView\";\r\nimport { IconTextView } from \"./IconTextView\";\r\nimport { IItemsViewConfig, ItemsView } from \"./ItemsView\";\r\n\r\n\r\ninterface IWizardStepConfig<TContent extends IView> extends IContentViewConfig<TContent> {\r\n\r\n    loadAsync?(step: WizardStepView<TContent>): Promise<void>;\r\n\r\n    validateAsync?(step: WizardStepView<TContent>): Promise<boolean>;\r\n\r\n    title?: Bindable<LocalString>;\r\n\r\n    actions?: IAction[];\r\n\r\n    nextLabel?: LocalString;\r\n\r\n    coverImage?: string;\r\n\r\n    index?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class WizardStepView<TContent extends IView> extends ContentView<TContent> implements IValidable {\r\n\r\n    constructor(config?: IWizardStepConfig<TContent>) {\r\n\r\n        super({ template: \"ContentView\", ...config });\r\n\r\n        this.bindConfig(\"index\", config);\r\n\r\n        this.bindConfig(\"coverImage\", config);\r\n\r\n        this.bindConfigString(\"title\", config, StringUsage.Title);\r\n\r\n        this.bindConfigString(\"nextLabel\", config, StringUsage.Action);\r\n\r\n        if (config) {\r\n\r\n            if (config.loadAsync)\r\n                this.loadAsync = () => config.loadAsync(this);\r\n\r\n            if (config.validateAsync)\r\n                this.validateAsync = force => config.validateAsync(this);\r\n\r\n            if (config.actions)\r\n                config.actions.forEach(a => this.addAction(a));\r\n\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addAction(action: IAction) {\r\n        const view = ActionView.fromAction(action, { template: \"ActionButton\", styles: [\"primary\"] });\r\n        this.actions.add(view);\r\n        return view;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadAsync(): Promise<void> {\r\n\r\n        if (isAsyncLoad(this.content))\r\n            return this.content.loadAsync();\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async validateAsync(force?: boolean) {\r\n\r\n        if (isValidable(this.content))\r\n            this.isValid = await this.content.validateAsync(force);\r\n        return this.isValid;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select(): void {\r\n\r\n        (this.parentView as WizardView).selectStepAsync(this.index);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    error: string = null;\r\n\r\n    isValid: boolean = true;\r\n\r\n    index: number = 0;\r\n\r\n    title: string = \"\";\r\n\r\n    isActive: boolean = false;\r\n\r\n    nextLabel: string = null;\r\n\r\n    coverImage: string = null;\r\n\r\n    readonly actions: IObservableList<ActionView> = observableListOf();\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IWizardConfig extends IItemsViewConfig<WizardStepView<any>> {\r\n\r\n    steps?: IWizardStepConfig<any>[];\r\n\r\n    finishAsync?: () => Promise<any>;\r\n\r\n    finishLabel?: LocalString;\r\n\r\n    nextLabel?: LocalString;\r\n\r\n    prevLabel?: LocalString;\r\n}\r\n\r\n/****************************************/\r\n/* WizardViewModel\r\n/****************************************/\r\n\r\nexport class WizardView extends ItemsView<WizardStepView<any>> implements IAsyncLoad {\r\n\r\n    constructor(config?: IWizardConfig) {\r\n\r\n        super({ template: \"WizardView\", ...config });\r\n\r\n        this.actions = {\r\n            next: new ActionView({\r\n                name: \"next\",\r\n                template: \"ActionButton\",\r\n                styles: [\"secondary\"],\r\n                content: new IconTextView({\r\n                    template: \"IconTextViewInline\",\r\n                    text: this.prop(\"nextLabel\")\r\n                }),\r\n                executeAsync: () => this.nextAsync()\r\n            }),\r\n            prev: new ActionView({\r\n                name: \"prev\",\r\n                template: \"ActionButton\",\r\n                styles: [\"secondary\"],\r\n                content: new IconTextView({\r\n                    template: \"IconTextViewInline\",\r\n                    text: this.prop(\"prevLabel\")\r\n                }),\r\n                executeAsync: () => this.previousAsync()\r\n            }),\r\n            finish: new ActionView({\r\n                name: \"finish\",\r\n                template: \"ActionButton\",\r\n                styles: [\"secondary\"],\r\n                content: new IconTextView({\r\n                    template: \"IconTextViewInline\",\r\n                    text: this.prop(\"finishLabel\")\r\n                }),\r\n                executeAsync: () => this.finishAsync()\r\n            })\r\n        }\r\n\r\n        this.prop(\"currentStepIndex\").subscribe((value, oldValue) => {\r\n\r\n            if (oldValue != -1)\r\n                this.content.get(oldValue).isActive = false;\r\n\r\n            this.content.get(value).isActive = true;\r\n\r\n            this.currentView = this.content.get(value)\r\n\r\n            this.actions.next.visible = this.hasNextStep();\r\n\r\n            this.actions.prev.visible = this.hasPrevStep();\r\n\r\n            this.actions.finish.visible = !this.hasNextStep();\r\n\r\n            if (this.currentView.nextLabel)\r\n                this.nextLabel = this.currentView.nextLabel;\r\n            else\r\n                this.nextLabel = Format.action(config?.nextLabel ?? \"wizard-next\");\r\n        });\r\n\r\n        this.bindConfigString(\"nextLabel\", config, StringUsage.Action);\r\n\r\n        this.bindConfigString(\"prevLabel\", config, StringUsage.Action);\r\n\r\n        this.bindConfigString(\"finishLabel\", config, StringUsage.Action);\r\n\r\n        if (config) {\r\n\r\n            if (config.steps) {\r\n                config.steps.forEach((step, i) =>\r\n                    this.content.add(new WizardStepView({ ...step, index: i })));\r\n\r\n                this.currentStepIndex = 0;\r\n            }\r\n\r\n            if (config.finishAsync)\r\n                this.doFinishAsync = config.finishAsync;\r\n        }\r\n\r\n        if (!config?.prevLabel)\r\n            this.prevLabel = Format.action(\"wizard-prev\");\r\n\r\n        if (!config?.finishLabel)\r\n            this.prevLabel = Format.action(\"wizard-finish\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async finishAsync() {\r\n\r\n        if (await this.validateUntilAsync(this.content.count - 1) !== true)\r\n            return;\r\n\r\n        await this.doFinishAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async doFinishAsync() {\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clearErrors() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async validateUntilAsync(targetIndex: number): Promise<boolean | number> {\r\n\r\n        let curStep = this.currentStepIndex;\r\n\r\n        while (curStep <= targetIndex) {\r\n            if (! await this.content.get(curStep).validateAsync())\r\n                return curStep;\r\n            curStep++;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadAsync() {\r\n\r\n        if (this.content.count > 0)\r\n            await this.content.get(this.currentStepIndex).loadAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async selectStepAsync(index: number) {\r\n\r\n        if (index == this.currentStepIndex)\r\n            return;\r\n\r\n        this.clearErrors();\r\n\r\n        if (index > this.currentStepIndex) {\r\n\r\n            const result = await this.validateUntilAsync(index - 1);\r\n\r\n            if (result === true) {\r\n                this.currentStepIndex = index;\r\n                await this.content.get(index).loadAsync();\r\n\r\n            }\r\n            else {\r\n\r\n                this.currentStepIndex = result as number;\r\n\r\n                if (result != this.currentStepIndex)\r\n                    await this.content.get(result as number).loadAsync();\r\n            }\r\n        }\r\n        else\r\n            this.currentStepIndex = index;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async nextAsync() {\r\n\r\n        if (this.currentStepIndex + 1 < this.content.count)\r\n            await this.selectStepAsync(this.currentStepIndex + 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async previousAsync() {\r\n\r\n        if (this.currentStepIndex > 0)\r\n            await this.selectStepAsync(this.currentStepIndex - 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async endAsync() {\r\n\r\n        await this.selectStepAsync(this.content.count - 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hasPrevStep(): boolean {\r\n        let curIndex = this.currentStepIndex - 1;\r\n        while (curIndex >= 0) {\r\n            if (this.content.get(curIndex).visible)\r\n                return true;\r\n            curIndex--;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hasNextStep(): boolean {\r\n        let curIndex = this.currentStepIndex + 1;\r\n        while (curIndex <= this.content.count - 1) {\r\n            if (this.content.get(curIndex).visible)\r\n                return true;\r\n            curIndex++\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isComplete(): boolean {\r\n        return !this.hasNextStep();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    currentStepIndex: number = -1;\r\n\r\n    currentView: WizardStepView<any>;\r\n\r\n    actions: IDictionary<ActionView>;\r\n\r\n    nextLabel: string = \"Next\";\r\n\r\n    prevLabel: string = \"Previous\";\r\n\r\n    finishLabel: string = \"Finish\";\r\n}\r\n\r\nregisterType(WizardStepView, \"WizardStepView\");\r\n\r\nregisterType(WizardView, \"WizardView\");","import { INamedContent } from \"../../Core/Abstraction/INamedContent\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { addClass, removeClass } from \"../../Core/Utils/DomUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IRefreshable } from \"../Abstraction/IRefreshable\";\r\nimport { IView, ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewContent } from \"../Abstraction/IViewContent\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentInfo } from \"../Abstraction/IViewContentInfo\";\r\nimport { ActivateContentReason, IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { IListViewConfig, ListView } from \"../Components/ListView\";\r\nimport { NavBar } from \"../Components/NavBar\";\r\nimport { View } from \"../Components/View\";\r\nimport { formatForCss } from \"../Helpers/ViewUtils\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { PagedItemsLoader } from \"../Items/PagedItemsLoader\";\r\n\r\nexport interface IItemListContentOptions<TItem, TItemView extends View, TFilter> {\r\n\r\n    pageSize?: number;\r\n\r\n    title?: string;\r\n\r\n    footer?: IView[];\r\n\r\n    url?: string;\r\n\r\n    itemsSource: ItemsSource<TItem, any, TFilter>;\r\n\r\n    filters: INamedContent<TFilter>[];\r\n\r\n    styles?: ViewStyle[];\r\n\r\n    actions?: IAction[];\r\n\r\n    listView?: IListViewConfig<TItem, TItemView, TFilter>;\r\n\r\n    canSearch?: boolean;\r\n\r\n    isBodyScroll?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class ItemListContent<TItem, TItemView extends View, TFilter> extends BindableObject implements IViewContentProvider, IRefreshable {\r\n\r\n    protected _listView: ListView<TItem, TItemView>;\r\n    protected _tabView: NavBar<TFilter>;\r\n    protected _isRefreshing = false;\r\n    protected _isBodyScroll = false;\r\n\r\n    /****************************************/\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async refreshAsync() {\r\n\r\n        this._isRefreshing = true;\r\n        try {\r\n            if (await this.prepareFilterAsync(this._listView.filter))\r\n                await this._listView.refreshAsync();\r\n        }\r\n        finally {\r\n            this._isRefreshing = false;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected prepareFilterAsync(filter: TFilter) {\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    deactivateAsync() {\r\n\r\n        if (this._isBodyScroll)\r\n            this.removeContent();\r\n\r\n        this._listView?.deactivateListener();\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async activateAsync(reason: ActivateContentReason) {\r\n\r\n        this._listView?.activateListener();\r\n\r\n        if (reason == \"loading\")\r\n            await this.refreshAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    abstract configureAsync(host: IViewContentHost): Promise<IItemListContentOptions<TItem, TItemView, TFilter>>;\r\n\r\n    /****************************************/\r\n\r\n    async getContentAsync(host: IViewContentHost): Promise<IViewContent> {\r\n\r\n        const views: IView[] = [];\r\n\r\n        const options = await this.configureAsync(host);\r\n\r\n        this._listView = new ListView({\r\n            itemsSource: options.itemsSource,\r\n            itemsLoader: options.pageSize ? new PagedItemsLoader({\r\n                pageSize: options.pageSize\r\n            }) : undefined,\r\n            ...options.listView\r\n        });\r\n\r\n        this._listView.loadAsync = () => Promise.resolve();\r\n\r\n        if (options.filters) {\r\n\r\n            if (options.filters.length > 1) {\r\n                this._tabView = new NavBar({\r\n                    styles: [\"tab-view\"],\r\n                    itemTemplate: \"TextView\",\r\n                    itemBehavoirs: [\"ripple\"],\r\n                    onItemSelected: item => {\r\n                        this._listView.filter = item.content;\r\n                        this.refreshAsync();\r\n                    },\r\n                    items: linq(options.filters).select(a => ({\r\n                        name: a.name,\r\n                        text: a.name,\r\n                        content: a.content\r\n                    })).toArray()\r\n                });\r\n\r\n                views.push(this._tabView);\r\n            }\r\n            else if (options.filters.length == 1)\r\n                this._listView.filter = options.filters[0].content;\r\n        }\r\n\r\n        views.push(this._listView);\r\n\r\n        if (this._tabView)\r\n            this._tabView.selectedItem = this._tabView.content.get(0);\r\n\r\n        if (options.footer)\r\n            options.footer.forEach(a => views.push(a));\r\n\r\n        this._listView.activateListener();\r\n\r\n        //await this.refreshAsync();\r\n\r\n        if (options.isBodyScroll) {\r\n            this._isBodyScroll = true;\r\n            setTimeout(() => this.moveContent());\r\n        }\r\n\r\n        return Promise.resolve({\r\n            title: options.title ?? this.info.displayName,\r\n            actions: options.actions,\r\n            styles: options.styles,\r\n            views: views,\r\n            url: options.url,\r\n            searchAsync: options.canSearch ? text=> this.searchAsync(text) : undefined\r\n        } as IViewContent);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected removeContent() {\r\n\r\n        removeClass(document.scrollingElement, \"scroll\");\r\n        removeClass(document.body.parentElement, \"body-scroll\");\r\n        const element = document.querySelector(\".\" + formatForCss(this.info.name));\r\n        if (element)\r\n            element.remove();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected moveContent() {\r\n\r\n        const element = document.querySelector(\".\" + formatForCss(this.info.name));\r\n        let container = document.querySelector(\".scroll-content\") as HTMLDivElement;\r\n        if (!container) {\r\n            container = document.createElement(\"div\");\r\n            container.classList.add(\"scroll-content\");\r\n            document.body.insertBefore(container, document.body.firstChild);\r\n        }\r\n        container.innerHTML = \"\";\r\n        container.appendChild(element);\r\n\r\n        addClass(document.body.parentElement, \"body-scroll\");\r\n        removeClass(element, \"scroll\");\r\n        addClass(document.scrollingElement, \"scroll\");\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    setFilter(name: string, content: TFilter): boolean {\r\n\r\n        this._listView.filter = content;\r\n\r\n        if (this._tabView) {\r\n            let item = this._tabView.getItem(name);\r\n            if (!item) {\r\n                item = this._tabView.addItem({\r\n                    text: name,\r\n                    name: name,\r\n                    content: content\r\n                })\r\n            }\r\n            else {\r\n                item.content = content;\r\n            }\r\n\r\n            const isSelected = this._tabView.selectedItem == item;\r\n            this._tabView.selectedItem = item;\r\n\r\n            return isSelected;\r\n        }\r\n        else \r\n            return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async searchAsync(text: string) {\r\n\r\n        this._listView.filter = { ...this._listView.filter, ...this._listView.itemsSource.getFilter(text)  };\r\n\r\n        await this._listView.refreshAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get listView() {\r\n        return this._listView;\r\n    }\r\n\r\n    abstract info: IViewContentInfo;\r\n}","﻿import { Services } from \"../../Core/Global\";\r\nimport { IMapManager } from \"../Abstraction/IMapManager\";\r\nimport { IRefreshable } from \"../Abstraction/IRefreshable\";\r\nimport { IViewContent } from \"../Abstraction/IViewContent\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentInfo } from \"../Abstraction/IViewContentInfo\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { MapView } from \"../Components/MapView\";\r\nimport { ProgressView } from \"../Components/ProgressView\";\r\n\r\n\r\nexport interface IMapContentConfig {\r\n\r\n    showCurrentPosition?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class MapContent implements IViewContentProvider, IRefreshable {\r\n\r\n    protected _mapView: MapView;\r\n    protected _progress: ProgressView;\r\n    protected _showCurrentPosition: boolean;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: IMapContentConfig) {\r\n        if (config) {\r\n            if (config.showCurrentPosition !== undefined)\r\n                this._showCurrentPosition = config.showCurrentPosition;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    refreshAsync(): Promise<void> {\r\n        return null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getContentAsync(host: IViewContentHost): Promise<IViewContent> {\r\n\r\n        this._mapView = new MapView({\r\n            onMapLoaded: () => this.onMapLoaded(),\r\n            manager: Services.mapManager(),\r\n            showCurrentPosition: this._showCurrentPosition\r\n        });\r\n\r\n        this._progress = new ProgressView();\r\n\r\n        return <IViewContent>{\r\n            views: [this._mapView, this._progress],\r\n            title: this.info.displayName\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createMapAsync(manager: IMapManager): Promise<void> {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async onMapLoaded() {\r\n\r\n        await this.createMapAsync(this._mapView.manager);\r\n        this._progress.visible = false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    abstract info: IViewContentInfo;\r\n}","import { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { IView, ViewStyle } from \"../Abstraction/IView\";\r\nimport { IViewContent } from \"../Abstraction/IViewContent\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentInfo } from \"../Abstraction/IViewContentInfo\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ContentActivity } from \"../Activities/ContentActivity\";\r\nimport { ContentHostView } from \"../Components/ContentHostView\";\r\nimport { IconTextView } from \"../Components/IconTextView\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\n\r\ntype MasterDetailsMode = \"auto\" | \"separate\" | \"split-h\";\r\n\r\n\r\nexport interface IMasterContent<TItem, TDetails extends IViewContentProvider> extends IViewContentProvider {\r\n\r\n    getDetailsAsync(item: TItem): Promise<TDetails>;\r\n\r\n    masterHost: MasterDetailsContent<TItem, this, TDetails>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IMasterDetailsViewConfig<TItem, TMaster extends IMasterContent<TItem, TDetails>, TDetails extends IViewContentProvider> {\r\n\r\n    itemDisplayName?: LocalString;\r\n\r\n    masterContent: TMaster;\r\n\r\n    mode?: MasterDetailsMode;\r\n\r\n    styles?: ViewStyle[];\r\n\r\n    minWidth?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class MasterDetailsContent<TItem, TMaster extends IMasterContent<TItem, TDetails> = any, TDetails extends IViewContentProvider = any> extends BindableObject implements IViewContentProvider {\r\n\r\n    protected _host: IViewContentHost;\r\n\r\n    protected _masterContainer: ContentHostView<TMaster>;\r\n\r\n    protected _detailsContainer: ContentHostView<TDetails>;\r\n\r\n    constructor(config?: IMasterDetailsViewConfig<TItem, TMaster, TDetails>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"mode\", config);\r\n\r\n        this.bindConfig(\"masterContent\", config);\r\n\r\n        this.bindConfig(\"itemDisplayName\", config);\r\n\r\n        this.bindConfig(\"minWidth\", config);\r\n\r\n        if (config != null) {\r\n\r\n            if (config.styles)\r\n                config.styles.forEach(a => this.styles.push(a));\r\n        }\r\n\r\n        if (this.masterContent)\r\n            this.masterContent.masterHost = this;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    activateAsync(reason?) {\r\n\r\n        if (this.masterContent.activateAsync)\r\n            return this.masterContent.activateAsync(reason);\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    deactivateAsync() {\r\n\r\n        if (this.masterContent.deactivateAsync)\r\n            return this.masterContent.deactivateAsync();\r\n        return Promise.resolve();\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getContentAsync(host: IViewContentHost) {\r\n\r\n        this._host = host;\r\n\r\n\r\n        if (this.mode == \"auto\") {\r\n            const curWidth = document.body.clientWidth / window.devicePixelRatio;\r\n            if (curWidth > this.minWidth)\r\n                this.mode = \"split-h\";\r\n            else\r\n                this.mode = \"separate\";\r\n        }\r\n\r\n        if (this.mode != \"separate\") {\r\n\r\n            const views: IView[] = [];\r\n\r\n            this._masterContainer = new ContentHostView({\r\n                name: \"master\",\r\n                contentProvider: this.masterContent\r\n            });\r\n\r\n            this._detailsContainer = new ContentHostView<TDetails>({\r\n                name: \"details\",\r\n                emptyView: new IconTextView({\r\n                    styles: [\"empty-view\"],\r\n                    icon: this.info.icon,\r\n                    text: Format.message(\"msg-select-an-item\", this.itemDisplayName)\r\n                })\r\n            });\r\n\r\n            views.push(this._masterContainer);\r\n\r\n            views.push(this._detailsContainer);\r\n\r\n            return Promise.resolve({\r\n                views: views,\r\n                styles: [...this.styles, this.mode],\r\n                title: this.info.displayName\r\n            } as IViewContent);\r\n        }\r\n        else\r\n            return this.masterContent.getContentAsync(host);\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async showDetailsAsync(item: TItem) {\r\n\r\n        if (this.isDetailsLoading)\r\n            return;\r\n\r\n        try {\r\n\r\n            this.isDetailsLoading = true;\r\n\r\n            if (!item) {\r\n\r\n                if (this.mode != \"separate\")\r\n                    await this._detailsContainer.closeAsync();\r\n            }\r\n            else {\r\n\r\n                const details = await this.masterContent.getDetailsAsync(item);\r\n\r\n                if (!details)\r\n                    return;\r\n\r\n                if (this.mode != \"separate\") {\r\n\r\n                    if (this._detailsContainer.contentProvider?.deactivateAsync)\r\n                        await this._detailsContainer.contentProvider.deactivateAsync();\r\n\r\n                    this._detailsContainer.contentProvider = details;\r\n\r\n                    await this._detailsContainer.loadAsync();\r\n                }\r\n                else {\r\n\r\n                    await Actions.loadPageAsync(new ContentActivity({\r\n                        providers: [details],\r\n                        name: details.info.name,\r\n                    }));\r\n\r\n                }\r\n                this.details = details;\r\n            }\r\n        }\r\n        finally {\r\n            this.isDetailsLoading = false;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isDetailsLoading: boolean = false;\r\n\r\n    details: TDetails = null;\r\n\r\n    minWidth: number = 400;\r\n\r\n    masterContent: TMaster = null;\r\n\r\n    styles: ViewStyle[] = [\"horizontal\", \"fill-v\", \"fill-h\", \"fill-items-v\", \"master-details\"];\r\n\r\n    mode: MasterDetailsMode = \"auto\";\r\n\r\n    itemDisplayName: LocalString = null;\r\n\r\n    get info(): IViewContentInfo { return this.masterContent.info }\r\n}","﻿import { Format } from \"../../Core/Helpers/Format\";\r\nimport { IViewContent } from \"../Abstraction/IViewContent\";\r\nimport { IViewContentHost } from \"../Abstraction/IViewContentHost\";\r\nimport { IViewContentInfo } from \"../Abstraction/IViewContentInfo\";\r\nimport { IViewContentProvider } from \"../Abstraction/IViewContentProvider\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { IconTextView } from \"../Components/IconTextView\";\r\nimport { TextView } from \"../Components/TextView\";\r\nimport { View } from \"../Components/View\";\r\nimport { IMessageOptions } from \"../Helpers/Interaction\";\r\n\r\nexport class MessageContent implements IViewContentProvider {\r\n\r\n    protected _options: IMessageOptions;\r\n\r\n    /****************************************/\r\n\r\n    constructor(options: IMessageOptions) {\r\n\r\n        this._options = options;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getContentAsync(host: IViewContentHost) {\r\n\r\n        const views: View[] = [];\r\n\r\n        views.push(new IconTextView({\r\n            icon: this._options.icon,\r\n            text: this._options.message,\r\n            styles: [\"message-view\"]\r\n        }));\r\n\r\n        if (this._options.customActions) {\r\n            this._options.customActions.forEach(action => views.push(new ActionView({\r\n                name: action.name,\r\n                template: \"ActionButton\",\r\n                styles: [\"primary\"],\r\n                content: new TextView({ content: Format.action(action.displayName) }),\r\n                executeAsync: async () => {\r\n                    await host.closeAsync();\r\n                    await action.executeAsync();\r\n                }\r\n            })));\r\n        }\r\n\r\n        return Promise.resolve({\r\n            views: views,\r\n            title: this._options.title,\r\n            styles: [\"vertical\", \"margin-items-v\", \"scroll\", \"fit-items-h\", \"surface\", \"padding\", \"small\"],\r\n        } as IViewContent);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get info() {\r\n        return {\r\n            name: \"message\",\r\n            icon: null,\r\n            displayName: this._options.title\r\n        } as IViewContentInfo;\r\n    }\r\n}","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\n\r\nexport interface IBaseItemEditorConfig<TItem, TEdit> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class BaseItemEditor<TItem, TEdit> extends BindableObject implements IItemEditor<TItem, TEdit> {\r\n\r\n    constructor(config?: IBaseItemEditorConfig<TItem, TEdit>) {\r\n        super();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    beginEditAsync(item: TItem): Promise<void> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    commitAsync(force?: boolean): Promise<boolean> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly view: IView = null;\r\n\r\n    readonly value: TEdit = null;\r\n\r\n    readonly isValid: boolean = null;\r\n\r\n}\r\n\r\nregisterType(BaseItemEditor, \"BaseItemEditor\");","import { INamedContent } from \"../../Core/Abstraction/INamedContent\";\r\nimport { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ItemSearchMode } from \"../Activities/SearchActivity\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { TextView } from \"../Components/TextView\";\r\nimport { EditableItemsSource } from \"../Items/EditableItemsSource\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\n\r\nexport interface IBasePickerConfig<TItem, TValue, TEditorValue, TFilter, TEdit> extends IBaseEditorConfig<TEditorValue> {\r\n\r\n    itemsSource?: EditableItemsSource<TItem, TValue, TFilter, TEdit>;\r\n\r\n    filters?: INamedContent<TFilter>[];\r\n\r\n    createItemView?: (item: TItem) => IView;\r\n\r\n    createItemListView?: (item: TItem) => IView;\r\n\r\n    createItemEditor?: () => IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit>;\r\n\r\n    pageSize?: number;\r\n\r\n    canAdd?: Bindable<boolean>;\r\n\r\n    addLabel?: LocalString;\r\n\r\n    pickLabel?: LocalString;\r\n\r\n    searchMode?: ItemSearchMode;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class BasePicker<TItem, TValue, TEditorValue, TFilter = any, TEdit = TItem> extends BaseEditor<TEditorValue> {\r\n\r\n    constructor(config?: IBasePickerConfig<TItem, TValue, TEditorValue, TFilter, TEdit>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"canAdd\", config);\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"pageSize\", config);\r\n\r\n        this.bindConfigString(\"addLabel\", config);\r\n\r\n        this.bindConfigString(\"pickLabel\", config);\r\n\r\n        this.bindConfig(\"searchMode\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.filters)\r\n                this.filters.addRange(config.filters);\r\n\r\n            if (config.createItemView)\r\n                this.createItemView = config.createItemView;\r\n\r\n            if (config.createItemListView)\r\n                this.createItemListView = config.createItemListView;\r\n\r\n            if (config.createItemEditor)\r\n                this.createItemEditor = config.createItemEditor;\r\n        }\r\n\r\n        if (!config?.addLabel)\r\n            this.addLabel = Format.title(\"new-item\", this.itemsSource.displayName);\r\n\r\n        if (!config?.pickLabel)\r\n            this.pickLabel = Format.title(\"select-item\", this.itemsSource.displayName);\r\n\r\n        this.createEditValueProp();\r\n\r\n        this.selectAction = ActionView.fromActionIcon({\r\n            name: \"select\",\r\n            icon: \"fas fa-list\",\r\n            operation: OperationType.Local,\r\n            displayName: this.pickLabel,\r\n            executeAsync: () => this.selectAsync()\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    abstract selectAsync(): Promise<void>;\r\n\r\n    /****************************************/\r\n\r\n    protected abstract updateViewAsync(): Promise<void>;\r\n\r\n    /****************************************/\r\n\r\n    protected createItemEditor(): IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem): IView {\r\n\r\n        return new TextView({ content: this.itemsSource.getItemText(item) });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemListView(item: TItem): IView {\r\n\r\n        return this.createItemView(item);\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected async notifyEditValueChangedAsync() {\r\n\r\n        await super.notifyEditValueChangedAsync();\r\n\r\n        await this.updateViewAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canAdd: boolean = false;\r\n\r\n    addLabel: string = \"Add\";\r\n\r\n    pickLabel: string = \"Select\";\r\n\r\n    selectAction: ActionView = null;\r\n\r\n    itemsSource: EditableItemsSource<TItem, TValue, TFilter, TEdit> = null;\r\n\r\n    pageSize: number = 0;\r\n\r\n    searchMode?: ItemSearchMode = \"default\";\r\n\r\n    readonly filters: IObservableList<INamedContent<TFilter>> = observableListOf();\r\n}\r\n\r\nregisterType(BasePicker, \"BasePicker\");","﻿import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IHasLabel } from \"../Abstraction/IHasLabel\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\n\r\nexport interface IBooleanEditorConfig extends IBaseEditorConfig<boolean> {\r\n\r\n    trueLabel?: Bindable<LocalString>;\r\n\r\n    falseLabel?: Bindable<LocalString>;\r\n\r\n    label?: Bindable<LocalString>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class BooleanEditor extends BaseEditor<boolean> implements IHasLabel {\r\n\r\n    constructor(config?: IBooleanEditorConfig) {\r\n\r\n        super({ template: \"CheckBox\", ...config });\r\n\r\n        this.bindConfigString(\"trueLabel\", config);\r\n\r\n        this.bindConfigString(\"falseLabel\", config);\r\n\r\n        this.bindConfigString(\"label\", config, StringUsage.Action);\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    toggle() {\r\n\r\n        if (window.event)\r\n            window.event.stopPropagation();\r\n        this.editValue = !this.editValue;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    trueLabel: string = null;\r\n\r\n    falseLabel: string = null;\r\n\r\n    label: string = null;\r\n}\r\n\r\nregisterType(BooleanEditor, \"BooleanEditor\");","﻿import { formatDate, parseDate } from \"../../Core/Utils/DateUtils\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { BaseTextEditor, IBaseTextEditorConfig } from \"./BaseTextEditor\";\r\n\r\nexport interface IDateEditorConfig extends IBaseTextEditorConfig<Date> {\r\n\r\n    placeholder?: Bindable<string>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class DateEditor extends BaseTextEditor<Date> {\r\n\r\n    constructor(config?: IDateEditorConfig) {\r\n\r\n        super({ template: \"DateEditor\", ...config });\r\n\r\n        this.bindConfig(\"placeholder\", config);\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected valueToEdit(value: Date): string {\r\n\r\n        return value === null || value === undefined ? \"\" : formatDate(value, \"{YYYY}-{MM}-{DD}\");\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: string): Date {\r\n\r\n        if (value === undefined || value === null)\r\n            return null;\r\n        return parseDate(value + \" 00:00\");\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    placeholder: string = null;\r\n}\r\n\r\nregisterType(DateEditor, \"DateEditor\");","﻿import { MONTHS } from \"../../Core/Utils/DateUtils\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\n\r\nexport interface IDateEditorComboConfig extends IBaseEditorConfig<Date> {\r\n\r\n    minYear?: number;\r\n\r\n    maxYear?: number;\r\n}\r\n\r\ninterface IMonthView {\r\n    number: string;\r\n    name: string;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class DateEditorCombo extends BaseEditor<Date> {\r\n\r\n    constructor(config?: IDateEditorComboConfig) {\r\n        super(config)\r\n\r\n        for (let i = 1; i <= 31; i++)\r\n            this.days.push(i.toString());\r\n\r\n        for (let i = 1; i <= 12; i++)\r\n            this.months.push({ number: i.toString(), name: MONTHS[i - 1] });\r\n\r\n        const maxYear = config?.maxYear ?? new Date().getFullYear();\r\n\r\n        const minYear = config?.minYear ?? new Date().getFullYear() - 100;\r\n\r\n        for (let i = minYear; i <= maxYear; i++)\r\n            this.years.push(i.toString());\r\n\r\n        this.prop(\"selectedDay\").subscribe(() => this.tryCommit());\r\n        this.prop(\"selectedMonth\").subscribe(() => this.tryCommit());\r\n        this.prop(\"selectedYear\").subscribe(() => this.tryCommit());\r\n\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected tryCommit() {\r\n        this.commitAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    commitAsync(force?: boolean) {\r\n        if (this.editValue?.getTime() != this.value?.getTime())\r\n            this.value = this.editValue;\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get editValue(): Date {\r\n\r\n        if (!this.selectedDay || !this.selectedMonth || !this.selectedYear)\r\n            return null;\r\n        return new Date(parseInt(this.selectedYear), parseInt(this.selectedMonth) - 1, parseInt(this.selectedDay));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    set editValue(value: Date) {\r\n\r\n        if (value?.getTime() == this.editValue?.getTime())\r\n            return;\r\n\r\n        if (!value) {\r\n            this.selectedDay = null;\r\n            this.selectedMonth = null;\r\n            this.selectedYear = null;\r\n        }\r\n        else {\r\n            this.selectedDay = (value.getDate()).toString();\r\n            this.selectedMonth = (value.getMonth() + 1).toString();\r\n            this.selectedYear = value.getFullYear().toString();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    selectedDay: string = null;\r\n\r\n    selectedMonth: string = null;\r\n\r\n    selectedYear: string = null;\r\n\r\n    days: string[] = [];\r\n\r\n    months: IMonthView[] = [];\r\n\r\n    years: string[] = [];\r\n}\r\n\r\nregisterType(DateEditorCombo, \"DateEditorCombo\");","﻿import { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { IActivable } from \"../Abstraction/IActivable\";\r\nimport { IEditor } from \"../Abstraction/IEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { isActivable } from \"../Helpers/TypeCheck\";\r\n\r\nexport interface IItemEditorConverterConfig<TItem, TEdit> {\r\n\r\n    editor?: IEditor<TEdit, any>;\r\n\r\n    itemToEdit?: (item: TItem) => TEdit;\r\n\r\n    editToItem?: (item: TItem, editValue: TEdit) => void\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ItemEditorConverter<TItem, TEdit> extends BindableObject implements IItemEditor<TItem, TEdit>, IActivable {\r\n\r\n    private _item: TItem;\r\n\r\n    constructor(config?: IItemEditorConverterConfig<TItem, TEdit>) {\r\n\r\n        super();\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.itemToEdit)\r\n                this.itemToEdit = config.itemToEdit;\r\n\r\n            if (config.editToItem)\r\n                this.editToItem = config.editToItem;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    activateAsync() {\r\n\r\n        if (isActivable(this.editor))\r\n            return this.editor.activateAsync();\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    beginEditAsync(item: TItem) {\r\n\r\n        this._item = item;\r\n        return this.editor.beginEditAsync(this.itemToEdit(item));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async commitAsync(force?: boolean) {\r\n\r\n        if (await this.editor.commitAsync(force)) {\r\n            this.editToItem(this._item, this.editor.value);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    itemToEdit(item: TItem): TEdit {\r\n\r\n        throw \"Not supported\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    editToItem(item: TItem, editValue: TEdit): void {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get value() {\r\n        return this.editor.value;\r\n    }\r\n\r\n    get view() {\r\n        return this.editor;\r\n    }\r\n\r\n    get isValid() {\r\n        return this.editor.isValid;\r\n    }\r\n\r\n    editor: IEditor<TEdit, any> = null;\r\n}\r\n\r\nregisterType(ItemEditorConverter, \"ItemEditorConverter\");","﻿import { Format } from \"../../Core/Helpers/Format\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { ContentActivity } from \"../Activities/ContentActivity\";\r\nimport { MessageBox } from \"../Components/MessageBox\";\r\nimport { Toast } from \"../Components/Toast\";\r\nimport { MessageContent } from \"../Content/MessageContent\";\r\nimport { Actions } from \"./Actions\";\r\n\r\nexport type MessageAction = \"yes\" | \"no\" | \"cancel\" | \"retry\" | \"ok\" | \"abort\";\r\n\r\nexport interface IMessageOptions {\r\n\r\n    message: LocalString,\r\n\r\n    title: LocalString;\r\n\r\n    icon?: string;\r\n\r\n    actions?: MessageAction[];\r\n\r\n    customActions?: IAction[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport namespace Interaction {\r\n\r\n    export async function showMessageAsync(options: IMessageOptions): Promise<MessageAction | string> {\r\n\r\n        const msgActions = options.actions ?? (options.customActions ? [] : [\"ok\"]);\r\n\r\n        const msgBox = new MessageBox({ message: options.message, icon: options.icon, title: options.title });\r\n\r\n        msgActions.forEach(a => {\r\n\r\n            msgBox.addAction({\r\n                name: a,\r\n                displayName: Format.action(a),\r\n                executeAsync: () => Promise.resolve()\r\n            })\r\n        })\r\n\r\n        if (options.customActions)\r\n            options.customActions.forEach(a => msgBox.addAction(a));\r\n\r\n        const result = await msgBox.showAsync();\r\n\r\n        return <MessageAction>result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export async function confirmAsync(message: LocalString): Promise<boolean> {\r\n        const result = await showMessageAsync({\r\n            message: message,\r\n            title: \"confirm\",\r\n            actions: [\"yes\", \"no\"]\r\n        });\r\n        return result == \"yes\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function info(message: LocalString) {\r\n\r\n        const toast = new Toast({ message: message });\r\n\r\n        toast.showAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function warning(message: LocalString) {\r\n\r\n        const toast = new Toast({ message: message, styles: [\"warning\"] });\r\n\r\n        toast.showAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function error(message: LocalString) {\r\n\r\n        const toast = new Toast({ message: message, styles: [\"error\"], icon: \"fas fa-exclamation\" });\r\n\r\n        toast.showAsync();\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    export async function succeed(message: IMessageOptions) {\r\n\r\n        const page = await Actions.loadPageAsync(new ContentActivity<string>({\r\n            providers: [new MessageContent({\r\n                icon: \"far fa-smile\",\r\n                customActions: [{\r\n                    name: \"close\",\r\n                    displayName: \"close\",\r\n                    executeAsync: () => Promise.resolve(),\r\n                }],\r\n                ...message\r\n            })],\r\n            name: \"message\"\r\n        }));\r\n\r\n        return await page.result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export async function fail(message: IMessageOptions) {\r\n\r\n        const page = await Actions.loadPageAsync(new ContentActivity<string>({\r\n            providers: [new MessageContent({\r\n                icon: \"far fa-sad-tear\",\r\n                customActions: [{\r\n                    name: \"close\",\r\n                    displayName: \"close\",\r\n                    executeAsync: () => Promise.resolve(),\r\n                }], ...message\r\n            })],\r\n            name: \"message\"\r\n        }));\r\n\r\n        return await page.result;\r\n    }\r\n}","﻿import { IItemsSourceConfig, ItemsSource } from \"./ItemsSource\";\r\n\r\nexport interface IEditableItemsSourceConfig<TItem, TValue, TFilter, TUpdate, TAdd> extends IItemsSourceConfig<TItem, TValue, TFilter> {\r\n\r\n    addItemAsync?: (item: TAdd) => Promise<TItem>;\r\n\r\n    updateItemAsync?: (editItem: TUpdate, item?: TItem) => Promise<TItem>;\r\n\r\n    removeItemAsync?: (item: TItem) => Promise<boolean>;\r\n\r\n    newItem?(): TItem;\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class EditableItemsSource<TItem, TValue = TItem, TFilter = any, TUpdate = TItem, TAdd = TUpdate> extends ItemsSource<TItem, TValue, TFilter>{\r\n\r\n    constructor(config?: IEditableItemsSourceConfig<TItem, TValue, TFilter, TUpdate, TAdd>) {\r\n\r\n        super(config);\r\n\r\n        if (config) {\r\n\r\n\r\n            if (config.addItemAsync)\r\n                this.addItemAsync = config.addItemAsync;\r\n\r\n            if (config.updateItemAsync)\r\n                this.updateItemAsync = config.updateItemAsync;\r\n\r\n            if (config.removeItemAsync)\r\n                this.removeItemAsync = config.removeItemAsync;\r\n\r\n            if (config.newItem)\r\n                this.newItem = config.newItem;\r\n        }\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    newItem(): TItem {\r\n\r\n        return <TItem>{};\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    addItemAsync(item: TAdd): Promise<TItem> {\r\n\r\n        return Promise.resolve(item as unknown as TItem);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    updateItemAsync(editItem: TUpdate, item?: TItem): Promise<TItem> {\r\n\r\n        return Promise.resolve(item);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    removeItemAsync(item: TItem): Promise<boolean> {\r\n\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n\r\n}","import { IList } from \"../../Core/Abstraction/IList\";\r\nimport { OperationType } from \"../../Core/Abstraction/IOperation\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ActionPriority } from \"../Abstraction/IAction\";\r\nimport { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IContentView } from \"../Abstraction/IContentView\";\r\nimport { IItemAction } from \"../Abstraction/IItemAction\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IValidable } from \"../Abstraction/IValidator\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { ContentActivity } from \"../Activities/ContentActivity\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { IItemViewConfig, ItemView } from \"../Components/ItemView\";\r\nimport { TextView } from \"../Components/TextView\";\r\nimport { ItemEditContent } from \"../Content/ItemEditContent\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\nimport { Interaction } from \"../Helpers/Interaction\";\r\nimport { isAsyncEditor, isValidable } from \"../Helpers/TypeCheck\";\r\nimport { EditableItemsSource } from \"../Items/EditableItemsSource\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\nimport \"Templates/ItemsEditor.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport type ItemStatus = \"unchanged\" | \"modified\" | \"removed\" | \"added\";\r\n\r\nexport type ItemEditMode = \"inline\" | \"external\";\r\n\r\ntype ItemCapability<TItem> = boolean | { (item: TItem): boolean };\r\n\r\n/********************************************/\r\n\r\nexport interface IItemsEditorConfig<TItem, TValue, TUpdate, TCreate> extends IBaseEditorConfig<TValue[]> {\r\n\r\n    createItemView?(item: TItem): IView;\r\n\r\n    createItemUpdateEditor?(item: TItem): IItemEditor<TItem, TUpdate> | IAsyncEditor<TItem, TUpdate>;\r\n\r\n    createItemAddEditor?(item: TItem): IItemEditor<TItem, TCreate> | IAsyncEditor<TItem, TCreate>;\r\n\r\n    newItem?: () => TItem;\r\n\r\n    itemsSource?: EditableItemsSource<TItem, any, any, TUpdate, TCreate>;\r\n\r\n    openItem?(item: TItem): void;\r\n\r\n    editMode?: Bindable<ItemEditMode>;\r\n\r\n    canAdd?: boolean;\r\n\r\n    canOpen?: ItemCapability<TItem>;\r\n\r\n    canRemove?: ItemCapability<TItem>;\r\n\r\n    canEdit?: ItemCapability<TItem>;\r\n\r\n    isConfirmRemove?: boolean;\r\n\r\n    addActionLabel?: LocalString;\r\n\r\n    editActionLabel?: LocalString;\r\n\r\n    removeActionLabel?: LocalString;\r\n\r\n    editActionsPriority?: Bindable<ActionPriority>;\r\n\r\n    itemActions?: IItemAction<ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>>[];\r\n\r\n    isAutoLoad?: boolean;\r\n\r\n    attachItem?(item: TItem, isNew: boolean): void;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport interface IItemsEditorItemViewConfig<TItem, TValue, TUpdate, TCreate> extends IItemViewConfig<TItem> {\r\n\r\n    value?: TValue;\r\n\r\n    editActionsPriority: Bindable<ActionPriority>;\r\n\r\n    editActionLabel: LocalString;\r\n\r\n    removeActionLabel: LocalString;\r\n\r\n    addTitle: LocalString;\r\n\r\n    editTitle: LocalString;\r\n\r\n    itemActions: IItemAction<ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>>[];\r\n\r\n    canRemove: boolean;\r\n\r\n    canEdit?: boolean;\r\n\r\n    itemsSource: EditableItemsSource<TItem, any, any, TUpdate, TCreate>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ItemsEditorItemView<TItem, TValue, TUpdate, TCreate> extends ItemView<TItem> {\r\n\r\n\r\n    constructor(config: IItemsEditorItemViewConfig<TItem, TValue, TUpdate, TCreate>) {\r\n\r\n        super({\r\n            ...config\r\n        });\r\n\r\n        if (config.canEdit) {\r\n            this.addAction({\r\n                name: \"edit-item\",\r\n                icon: \"fas fa-edit\",\r\n                operation: OperationType.Local,\r\n                priority: BindableObject.bindValue(config.editActionsPriority),\r\n                displayName: config.editActionLabel,\r\n                executeAsync: () => this.editAsync()\r\n            });\r\n        }\r\n\r\n        if (config.canRemove) {\r\n            this.addAction({\r\n                name: \"remove-item\",\r\n                icon: \"fas fa-trash\",\r\n                operation: OperationType.Local,\r\n                priority: BindableObject.bindValue(config.editActionsPriority),\r\n                displayName: config.removeActionLabel,\r\n                executeAsync: () => this.removeAsync()\r\n            });\r\n        }\r\n\r\n        if (config.itemActions) {\r\n            config.itemActions.forEach(action => this.addAction({\r\n                name: action.name,\r\n                icon: action.icon,\r\n                priority: action.priority,\r\n                operation: action.operation,\r\n                displayName: Format.action(action.displayName, config.itemsSource.displayName),\r\n                canExecute: action.canExecute ? () => action.canExecute(this) : undefined,\r\n                executeAsync: () => action.executeAsync(this)\r\n            }));\r\n        }\r\n\r\n        this.value = config.value;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    updateView() {\r\n\r\n        this.content.clear();\r\n\r\n        if (this.isEdit && this.editMode == \"inline\" && !isAsyncEditor(this.editor))\r\n            this.content.add(this.editor.view);\r\n        else\r\n            this.content.add(this.view);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    updateValueAsync(): Promise<void> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    createUpdateEditor(): IItemEditor<TItem, TUpdate> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    createAddEditor(): IItemEditor<TItem, TCreate> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    executeUpdateAsync(item: TUpdate): Promise<TItem> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    executeAddAsync(item: TCreate): Promise<TItem> {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async editAsync(): Promise<boolean> {\r\n\r\n        if (this.isEdit)\r\n            return false;\r\n\r\n        if (!this.editor) {\r\n\r\n            if (this.status == \"added\")\r\n                this.editor = this.createAddEditor();\r\n            else\r\n                this.editor = this.createUpdateEditor();\r\n        }\r\n\r\n        this.isEdit = true;\r\n\r\n        if (this.editMode == \"external\") {\r\n\r\n            let newItem: TItem = null;\r\n\r\n            if (isAsyncEditor(this.editor)) {\r\n\r\n                const editValue = await this.editor.editAsync(this.item);\r\n\r\n                if (editValue) {\r\n                    if (this.status == \"added\")\r\n                        newItem = await this.executeAddAsync(editValue as TCreate);\r\n                    else\r\n                        newItem = await this.executeUpdateAsync(editValue as TUpdate)\r\n                }\r\n            }\r\n            else {\r\n\r\n                const activity = new ContentActivity<TItem>({\r\n                    providers: [new ItemEditContent({\r\n                        editor: this.editor,\r\n                        title: item => this.status == \"added\" ? this.addTitle : this.editTitle,\r\n                        value: this.item,\r\n                        saveItemAsync: item => this.status == \"added\" ? this.executeAddAsync(item as TCreate) : this.executeUpdateAsync(item as TUpdate)\r\n                    })]\r\n                });\r\n\r\n                newItem = await (await Actions.loadPageAsync(activity)).result;\r\n            }\r\n\r\n            if (newItem) {\r\n\r\n                this.item = newItem;\r\n\r\n                this.status = \"unchanged\";\r\n\r\n                this.isEdit = false;\r\n\r\n                await this.updateValueAsync();\r\n            }\r\n            else\r\n                this.isEdit = false;\r\n\r\n            this.editor = null;\r\n\r\n            return newItem != null;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    cancelEdit(): void {\r\n\r\n        this.isEdit = false;\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    removeAsync(): Promise<void> {\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clearErrors() {\r\n        this.error = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async validateAsync(force?: boolean) {\r\n\r\n        if (this.isEdit) {\r\n\r\n            if (isValidable(this.editor))\r\n                return await this.editor.validateAsync();\r\n        }\r\n        else {\r\n\r\n            if (isValidable(this.view))\r\n                return await this.view.validateAsync();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async loadAsync(): Promise<any> {\r\n        this.updateView();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get itemsEditor() {\r\n        return <ItemsEditor<TItem, TValue, TUpdate, TCreate>>this.parentView;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    error: string = null;\r\n\r\n    addTitle: string = null;\r\n\r\n    editTitle: string = null;\r\n\r\n    editor: IItemEditor<TItem, TUpdate | TCreate> | IAsyncEditor<TItem, TUpdate | TCreate> = null;;\r\n\r\n    view: IView = null;\r\n\r\n    value: TValue = null;\r\n\r\n    status: ItemStatus = \"unchanged\";\r\n\r\n    editMode: ItemEditMode = \"external\";\r\n\r\n    isEdit: boolean = false;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ItemsEditor<TItem, TValue = TItem, TUpdate = TItem, TCreate = TItem> extends BaseEditor<TValue[]> implements IContentView<IList<ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>>>, IValidable {\r\n\r\n    protected _changesCount: number = 0;\r\n    protected _isUpdating: number = 0;\r\n\r\n    constructor(config?: IItemsEditorConfig<TItem, TValue, TUpdate, TCreate>) {\r\n\r\n        super({ template: \"ItemsEditor\", ...config });\r\n\r\n        this.bindConfig(\"editMode\", config);\r\n\r\n        this.bindConfig(\"canAdd\", config);\r\n\r\n        this.bindConfig(\"canOpen\", config);\r\n\r\n        this.bindConfig(\"canRemove\", config);\r\n\r\n        this.bindConfig(\"isConfirmRemove\", config);\r\n\r\n        this.bindConfig(\"canEdit\", config);\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"itemActions\", config);\r\n\r\n        this.bindConfig(\"editActionsPriority\", config);\r\n\r\n        this.bindConfig(\"removeActionLabel\", config);\r\n\r\n        this.bindConfig(\"editActionLabel\", config);\r\n\r\n        if (config) {\r\n\r\n            if (!config.editActionLabel)\r\n                this.editActionLabel = Format.action(\"edit-item\", this.itemsSource?.displayName);\r\n\r\n            if (!config.removeActionLabel)\r\n                this.removeActionLabel = Format.action(\"remove-item\", this.itemsSource?.displayName);\r\n\r\n            if (config.createItemAddEditor)\r\n                this.createItemAddEditor = config.createItemAddEditor;\r\n\r\n            if (config.createItemUpdateEditor)\r\n                this.createItemUpdateEditor = config.createItemUpdateEditor;\r\n\r\n            if (config.createItemView)\r\n                this.createItemView = config.createItemView;\r\n\r\n            if (config.attachItem)\r\n                this.attachItem = config.attachItem;\r\n\r\n            if (config.newItem)\r\n                this.newItem = config.newItem;\r\n\r\n            if (config.openItem) {\r\n                this.openItem = config.openItem;\r\n\r\n                if (config.canOpen == undefined)\r\n                    this.canOpen = true;\r\n            }\r\n        }\r\n\r\n        if (!this.itemsSource)\r\n            this.itemsSource = new EditableItemsSource();\r\n\r\n        this.addAction = ActionView.fromAction({\r\n            name: \"add-item\",\r\n            icon: \"fas fa-plus\",\r\n            operation: OperationType.Local,\r\n            displayName: config?.addActionLabel ?? Format.action(\"add-item\", this.itemsSource.displayName),\r\n            executeAsync: async () => await this.addAsync()\r\n        })\r\n\r\n        if (this.value)\r\n            this.beginEditAsync(this.value,);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async loadAsyncWork(): Promise<any> {\r\n\r\n        const awaiters: Promise<void>[] = [];\r\n\r\n        for (const item of this.content)\r\n            awaiters.push(item.loadAsync());\r\n\r\n        await Promise.all(awaiters);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clear() {\r\n        this.content.clear();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clearErrors() {\r\n        for (const item of this.content)\r\n            item.clearErrors();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    insert() {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async addAsync() {\r\n\r\n        const item = this.newItem();\r\n\r\n        this.attachItem(item, true);\r\n\r\n        const itemView = this.createItem(this.itemToValue(item), item);\r\n\r\n        itemView.item = item;\r\n\r\n        itemView.status = \"added\";\r\n\r\n        if (await itemView.editAsync()) {\r\n\r\n            if (linq(this.content).any(a => this.itemsSource.itemComparer(a.item, itemView.item)))\r\n                return;\r\n\r\n            this.content.add(itemView);\r\n\r\n            await this.notifyEditValueChangedAsync();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected openItem(item: TItem) {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected attachItem(item: TItem, isNew: boolean) {\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected isCapable(selector: ItemCapability<TItem>, item: TItem): boolean {\r\n\r\n        if (typeof selector == \"boolean\")\r\n            return selector;\r\n\r\n        return selector(item);\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createItem(value: TValue, item?: TItem) {\r\n\r\n        const result = new ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>({\r\n            value: value,\r\n            item: item,\r\n            addTitle: Format.title(\"add-item\", this.itemsSource.displayName),\r\n            editTitle: \"\",\r\n            itemsSource: this.itemsSource,\r\n            editActionsPriority: this.editActionsPriority,\r\n            editActionLabel: this.editActionLabel,\r\n            removeActionLabel: this.removeActionLabel,\r\n            itemActions: this.itemActions,\r\n            canRemove: this.isCapable(this.canRemove, item),\r\n            canEdit: this.isCapable(this.canEdit, item),\r\n            canOpen: this.isCapable(this.canOpen, item),\r\n            open: () => this.openItem(result.item)\r\n        });\r\n\r\n        result.parentView = this;\r\n\r\n        result.isConfirmRemove = this.isConfirmRemove;\r\n\r\n        result.createAddEditor = () => this.createItemAddEditor(result.item);\r\n\r\n        result.createUpdateEditor = () => this.createItemUpdateEditor(result.item);\r\n\r\n        result.executeAddAsync = item => this.itemsSource.addItemAsync(item);\r\n\r\n        result.executeUpdateAsync = editItem => this.itemsSource.updateItemAsync(editItem, result.item);\r\n\r\n        result.loadAsync = async () => {\r\n\r\n            if (!result.item) {\r\n\r\n                result.item = await this.valueToItemAsync(result.value);\r\n                result.canOpen = this.isCapable(this.canOpen, result.item);\r\n                result.editTitle = Format.title(\"edit-item\", this.itemsSource.getItemText(result.item));\r\n\r\n                this.attachItem(result.item, result.status != \"added\");\r\n            }\r\n\r\n            result.view = this.createItemView(result.item);\r\n\r\n            result.updateView();\r\n        };\r\n\r\n        result.updateValueAsync = async () => {\r\n\r\n            result.canOpen = this.isCapable(this.canOpen, result.item);\r\n\r\n            result.value = this.itemToValue(result.item);\r\n            result.view = this.createItemView(result.item);\r\n            result.editTitle = Format.title(\"edit-item\", this.itemsSource.getItemText(result.item));\r\n\r\n            result.updateView();\r\n\r\n            await this.notifyEditValueChangedAsync();\r\n        }\r\n\r\n        result.removeAsync = async () => {\r\n\r\n            if (result.status == \"added\")\r\n                this.content.remove(result);\r\n            else {\r\n                if (this.isConfirmRemove) {\r\n                    if (!await Interaction.confirmAsync(Format.message(\"msg-remove-confirm\", this.itemsSource.displayName)))\r\n                        return;\r\n                }\r\n\r\n                if (this.status == \"none\")\r\n                    this.status = \"loaded\";\r\n\r\n                result.status = \"removed\";\r\n                await this.notifyEditValueChangedAsync();\r\n            }\r\n        }\r\n\r\n        result.value = value;\r\n\r\n        if (this.status != \"none\")\r\n            result.loadAsync();\r\n\r\n        return result;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected itemToValue(item: TItem): TValue {\r\n\r\n        return <any>item;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected valueToItemAsync(value: TValue): Promise<TItem> {\r\n\r\n        return Promise.resolve(value as unknown as TItem);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected onItemChanged(oldValue: TValue, newValue: TValue) {\r\n\r\n        this._needValidation = true;\r\n\r\n        if (this._isUpdating) {\r\n            this._changesCount++;\r\n            return;\r\n        }\r\n\r\n        this.notifyEditValueChangedAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    set editValue(value: TValue[]) {\r\n\r\n        if (!this.content || this._isUpdating)\r\n            return;\r\n\r\n        this._isUpdating++;\r\n        this._changesCount = 0;\r\n\r\n        this.content.clear();\r\n\r\n        try {\r\n\r\n            if (value) {\r\n                for (const itemValue of value)\r\n                    this.content.add(this.createItem(itemValue));\r\n            }\r\n        }\r\n        finally {\r\n            this._isUpdating--;\r\n        }\r\n\r\n        if (this._changesCount > 0)\r\n            this.notifyEditValueChangedAsync();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get editValue(): TValue[] {\r\n\r\n        const result: TValue[] = [];\r\n        for (const item of this.content) {\r\n\r\n            if (item.status == \"removed\")\r\n                continue;\r\n\r\n            result.push(item.value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected async validateAsyncWork(force?: boolean): Promise<boolean> {\r\n\r\n        let isValid = true;\r\n\r\n        for (const item of this.content) {\r\n\r\n            if (!await item.validateAsync(force))\r\n                isValid = false;\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected async commitAsyncWork(force?: boolean) {\r\n\r\n        let isValid = true;\r\n        let isChanged = false;\r\n\r\n        /*\r\n        for (var item of this.content) {\r\n            if (item.isEdit) {\r\n                if (!await item.commitAsync())\r\n                    isValid = false;\r\n            }\r\n        }\r\n        */\r\n\r\n        if (!isValid)\r\n            return false;\r\n\r\n        for (let i = this.content.count - 1; i >= 0; i--) {\r\n\r\n            const item = this.content.get(i);\r\n\r\n            item.clearErrors();\r\n\r\n            if (item.status == \"removed\") {\r\n                if (await this.itemsSource.removeItemAsync(item.item))\r\n                    this.content.removeAt(i);\r\n                else {\r\n                    this.error = \"\";\r\n                    isValid = false;\r\n                }\r\n                isChanged = true;\r\n            }\r\n            else if (item.status == \"modified\" && !isAsyncEditor(item.editor)) {\r\n                const updateItem = await this.itemsSource.updateItemAsync(item.editor.value as TUpdate, item.item);\r\n                if (updateItem) {\r\n                    item.item = updateItem;\r\n                    item.status = \"unchanged\";\r\n                    item.updateView();\r\n                }\r\n                else {\r\n                    this.error = \"\";\r\n                    isValid = false;\r\n\r\n                }\r\n                isChanged = true;\r\n            }\r\n            else if (item.status == \"added\" && !isAsyncEditor(item.editor)) {\r\n                const addItem = await this.itemsSource.addItemAsync(item.editor.value as TCreate);\r\n                if (addItem) {\r\n                    item.item = addItem;\r\n                    item.status = \"unchanged\";\r\n                    item.updateView();\r\n                }\r\n                else {\r\n                    this.error = \"\";\r\n                    isValid = false;\r\n                }\r\n                isChanged = true;\r\n            }\r\n\r\n        }\r\n\r\n        if (isValid) {\r\n\r\n            if (isChanged)\r\n                this.onValueChanged(this.editValue);\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected newItem(): TItem {\r\n\r\n        return this.itemsSource.newItem();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected getItemViewContent(item: TItem): any {\r\n\r\n        return this.itemsSource ? this.itemsSource.getItemText(item) : item.toString();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createItemView(item: TItem): IView {\r\n\r\n        return new TextView({ content: this.getItemViewContent(item) });\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createItemUpdateEditor(item: TItem): IItemEditor<TItem, TUpdate> | IAsyncEditor<TItem, TUpdate> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createItemAddEditor(item: TItem): IItemEditor<TItem, TCreate> | IAsyncEditor<TItem, TCreate> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    readonly content: IObservableList<ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>> = observableListOf();\r\n\r\n    editActionsPriority: ActionPriority = ActionPriority.Secondary;\r\n\r\n    editActionLabel: string = \"Edit\";\r\n\r\n    removeActionLabel: string = \"Remove\";\r\n\r\n    canAdd: boolean = true;\r\n\r\n    canRemove: ItemCapability<TItem> = true;\r\n\r\n    canEdit: ItemCapability<TItem> = false;\r\n\r\n    canOpen: ItemCapability<TItem> = false;\r\n\r\n    editMode: ItemEditMode = \"inline\";\r\n\r\n    itemActions: IItemAction<ItemsEditorItemView<TItem, TValue, TUpdate, TCreate>>[] = [];\r\n\r\n    itemsSource: EditableItemsSource<TItem, any, any, TUpdate, TCreate> = null;\r\n\r\n    addAction: ActionView;\r\n\r\n    isConfirmRemove: boolean = true;\r\n}\r\n\r\n\r\nregisterType(ItemsEditor, \"ItemsEditor\");\r\nregisterType(ItemsEditorItemView, \"ItemsEditorItemView\");\r\n","\r\nimport { Guid } from \"../../Core/Types/Types\";\r\nimport { ContextMenu } from \"../Components/ContextMenu\";\r\nimport { FileUploadView } from \"../Components/FileUploadView\";\r\nimport { IMediaViewConfig, MediaType, MediaView } from \"../Components/MediaView\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\nimport \"Templates/MediaEditor.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\n\r\nexport type ImageEditStatus = \"unchanged\" | \"deleted\" | \"new\" | \"empty\";\r\n\r\nexport interface IMediaData {\r\n\r\n    id?: Guid;\r\n\r\n    type?: MediaType;\r\n\r\n    status: ImageEditStatus;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IMediaUploadConfig extends IBaseEditorConfig<IMediaData> {\r\n\r\n    getUploadUrl: (fileName: string) => string;\r\n\r\n    noMediaUrl: string;\r\n\r\n    getMediaUrl?(data: IMediaData): string;\r\n\r\n    maxFileSize?: number;\r\n\r\n    validMedias?: MediaType[];\r\n\r\n    mediaView?: IMediaViewConfig;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class MediaEditor extends BaseEditor<IMediaData> {\r\n\r\n    constructor(config?: IMediaUploadConfig) {\r\n\r\n        super({ template: \"MediaEditor\", ...config });\r\n\r\n        this.bindConfig(\"noMediaUrl\", config);\r\n\r\n        this.bindConfig(\"maxFileSize\", config);\r\n\r\n        this.bindConfig(\"validMedias\", config);\r\n\r\n        if (config) {\r\n\r\n            if (config.getUploadUrl)\r\n                this.getUploadUrl = config.getUploadUrl;\r\n\r\n            if (config.getMediaUrl)\r\n                this.getMediaUrl = () => config.getMediaUrl(this.editValue);\r\n        }\r\n\r\n        this.mediaView = new MediaView({ image: { template: \"ImageInline\" }, video: { template: \"VideoViewInline\" }, ...config?.mediaView });\r\n\r\n        this.fileUpload = new FileUploadView({\r\n\r\n            onChanged: () => this.notifyEditValueChangedAsync()\r\n        });\r\n\r\n        this.fileUpload.visible = false;\r\n\r\n        this.mediaView.content = {\r\n            type: \"empty\"\r\n        };\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected getUploadUrl(fileName: string): string {\r\n\r\n        throw \"Not implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected validateAsyncWork(force?: boolean): Promise<boolean> {\r\n\r\n        if (this.fileUpload.status == \"selected\") {\r\n\r\n            if (this.validMedias.indexOf(\"image\") != -1 && this.fileUpload.file.type.startsWith(\"image/\"))\r\n                this.mediaView.content.type = \"image\";\r\n\r\n            else if (this.validMedias.indexOf(\"video\") != -1 && this.fileUpload.file.type.startsWith(\"video/\"))\r\n                this.mediaView.content.type = \"video\";\r\n\r\n            else\r\n                this.error = Format.message(\"msg-invalid-media\");\r\n\r\n            if (this.maxFileSize && this.fileUpload.file.size > this.maxFileSize)\r\n                this.error = Format.message(\"msg-max-size\", (this.maxFileSize / 1024 / 1024).toString());\r\n        }\r\n\r\n        return Promise.resolve(!this.error);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async commitAsyncWork(force?: boolean) {\r\n\r\n        if (this.fileUpload.status == \"selected\") {\r\n\r\n            const result = await this.fileUpload.uploadAsync<Guid>(this.getUploadUrl(this.fileUpload.file.name));\r\n\r\n            this.editValue.id = result;\r\n            this.editValue.status = \"new\";\r\n            this.editValue.type = this.mediaView.content.type;\r\n\r\n            this.mediaView.content = {\r\n                src: this.getMediaUrl(),\r\n                type: this.mediaView.content.type\r\n            };\r\n\r\n            this.notifyEditValueChangedAsync();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected getMediaUrl(): string {\r\n\r\n        throw \"Not Implemented\";\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async beginEditAsync(value: IMediaData) {\r\n\r\n        await super.beginEditAsync(value);\r\n\r\n        if (!this.editValue)\r\n            this.editValue = {\r\n                id: null,\r\n                type: \"empty\",\r\n                status: \"empty\"\r\n            };\r\n\r\n        if (this.editValue.status == \"empty\")\r\n            this.mediaView.content = {\r\n                type: \"image\",\r\n                src: this.noMediaUrl\r\n            };\r\n\r\n        else {\r\n            this.mediaView.content = {\r\n                type: this.editValue.type,\r\n                src: this.getMediaUrl()\r\n            };\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    change() {\r\n\r\n        this.fileUpload.visible = true;\r\n\r\n        this.fileUpload.select();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove() {\r\n\r\n        this.editValue.status = \"deleted\";\r\n\r\n        this.mediaView.content = {\r\n            type: \"image\",\r\n            src: this.noMediaUrl\r\n        };\r\n\r\n        this.notifyEditValueChangedAsync();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    showMenu() {\r\n\r\n        const menu = new ContextMenu();\r\n\r\n        if (this.editValue.status == \"new\" || this.editValue.id) {\r\n            menu.addAction({\r\n                name: \"remove-item\",\r\n                icon: \"fas fa-trash\",\r\n                displayName: \"delete\",\r\n                executeAsync: async () => this.remove()\r\n            });\r\n        }\r\n\r\n        menu.addAction({\r\n            name: \"edit-item\",\r\n            icon: \"fas fa-edit\",\r\n            displayName: \"change\",\r\n            executeAsync: async () => this.change()\r\n        })\r\n\r\n        menu.showAsync(undefined, <MouseEvent>window.event);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    fileUpload: FileUploadView = null;\r\n\r\n    mediaView: MediaView = null;\r\n\r\n    noMediaUrl: string = null;\r\n\r\n    maxFileSize: number = null;\r\n\r\n    validMedias: MediaType[] = [\"video\", \"image\"];\r\n}\r\n\r\nregisterType(MediaEditor, \"MediaEditor\");","import { linq } from \"../../Core/Linq\";\r\nimport { equalsArray } from \"../../Core/Utils/ArrayUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { SelectMultipleItemsActivity } from \"../Activities/SelectMultipleItemsActivity\";\r\nimport { RemovableItemView } from \"../Components/RemovableItemView\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\nimport { BasePicker, IBasePickerConfig } from \"./BasePicker\";\r\nimport \"Templates/MultiItemPicker.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface IMultiItemPickerConfig<TItem, TValue, TFilter, TEdit> extends IBasePickerConfig<TItem, TValue, TValue[], TFilter, TEdit> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class MultiItemPicker<TItem, TValue, TFilter = any, TEdit = TItem> extends BasePicker<TItem, TValue, TValue[], TFilter, TEdit> {\r\n\r\n    constructor(config?: IMultiItemPickerConfig<TItem, TValue, TFilter, TEdit>) {\r\n\r\n        super(config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async selectAsync() {\r\n\r\n        let mustRefresh = false;\r\n\r\n        if (this.selector == null) {\r\n            this.selector = new SelectMultipleItemsActivity<TItem, TValue, TFilter, TEdit>({\r\n                createItemEditor: () => this.createItemEditor(),\r\n                createItemContentView: item => this.createItemView(item),\r\n                createItemListView: item => this.createItemListView(item),\r\n                itemsSource: this.itemsSource,\r\n                addLabel: this.addLabel,\r\n                searchMode: this.searchMode,\r\n                tooltip: this.pickLabel,\r\n                canAdd: this.canAdd\r\n            });\r\n\r\n            this.selector.filters = this.filters;\r\n        }\r\n        else\r\n            mustRefresh = true;\r\n\r\n        this.selector.setSelectedItems(linq(this.items).select(a => a.item).toArray());\r\n\r\n        if (mustRefresh)\r\n            await this.selector.refreshAsync();\r\n\r\n        const result = await (await Actions.loadPageAsync(this.selector)).result;\r\n\r\n        if (result != null) {\r\n            const newValue = linq(result).select(a => this.itemsSource.getItemValue(a)).toArray();\r\n            if (!equalsArray(newValue, this.editValue))\r\n                this.editValue = newValue;\r\n        }\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    protected valueToEdit(value: TValue[]): TValue[] {\r\n        return value ? value.slice() : [];\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: TValue[]): TValue[] {\r\n        return value ? value.slice() : [];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async updateViewAsync() {\r\n\r\n        if (this.status == \"loading\")\r\n            return;\r\n\r\n        this.items.clear();\r\n\r\n        if (this.editValue) {\r\n            this.status = \"loading\";\r\n            try {\r\n                for (const value of this.editValue) {\r\n\r\n                    const item = await this.itemsSource.getItemByValueAsync(value);\r\n\r\n                    if (!item)\r\n                        continue;\r\n\r\n                    const itemView = new RemovableItemView({\r\n                        item: item,\r\n                        content: this.createItemView(item),\r\n                        removeAsync: async () => {\r\n\r\n                            this.items.remove(itemView);\r\n\r\n                            const value = this.itemsSource.getItemValue(itemView.item);\r\n\r\n                            const index = linq(this.editValue).indexOf(a => this.itemsSource.equals(a, value));\r\n\r\n                            this.editValue.splice(index, 1);\r\n\r\n                            await this.notifyEditValueChangedAsync();\r\n                        }\r\n                    });\r\n\r\n                    this.items.add(itemView);\r\n                }\r\n            }\r\n            finally {\r\n                this.status = \"loaded\";\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    selector: SelectMultipleItemsActivity<TItem, TValue, TFilter, TEdit> = null;\r\n\r\n    readonly items: IObservableList<RemovableItemView<TItem>> = observableListOf();\r\n}\r\n\r\n\r\nregisterType(MultiItemPicker, \"MultiItemPicker\");","import { IList } from \"../../Core/Abstraction/IList\";\r\nimport { equals, isEmpty, registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IContentView } from \"../Abstraction/IContentView\";\r\nimport { IEditor } from \"../Abstraction/IEditor\";\r\nimport { IPropertiesHost } from \"../Abstraction/IPropertiesHost\";\r\nimport { IPropertyViewConfig, PropertyView } from \"../Components/PropertyView\";\r\nimport { View } from \"../Components/View\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\n\r\ntype PropertiesOf<TObj extends object> = {\r\n    [TKey in keyof TObj]: PropertyView<TObj[TKey], IEditor<TObj[TKey], any>, TObj>\r\n};\r\n\r\n\r\n/********************************************/\r\n\r\nexport interface IObjectEditorConfig<TObj extends object> extends IBaseEditorConfig<TObj> {\r\n\r\n    properties?: { [TKey in keyof Partial<TObj>]: IPropertyViewConfig<TObj[TKey], TObj> };\r\n\r\n    propertyTemplateName?: Bindable<string>;\r\n\r\n    defaultProperty?: keyof TObj;\r\n\r\n    emptyView?: View;\r\n\r\n    onPropertyChanged?: <TKey extends keyof TObj>(propName: TKey, value: TObj[TKey], oldValue: TObj[TKey], target: TObj) => void;\r\n}\r\n\r\n/********************************************/\r\n\r\ninterface ICommitPropertyResult {\r\n    isValid: boolean;\r\n    isChanged: boolean;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class ObjectEditor<TObj extends object> extends BaseEditor<TObj> implements IContentView<IList<PropertyView<any>>>, IPropertiesHost<TObj> {\r\n\r\n    protected _proxy: TObj;\r\n    protected _changesCount: number = 0;\r\n    protected _isUpdating: number = 0;\r\n    protected _onPropertyChanged?: <TKey extends keyof TObj>(propName: TKey, value: TObj[TKey], oldValue: TObj[TKey], target: TObj) => void;\r\n\r\n    constructor(config?: IObjectEditorConfig<TObj>) {\r\n\r\n        super({ template: \"ItemsViewForm\", validationMode: \"always\", commitMode: \"manual\", ...config });\r\n\r\n        this.bindConfig(\"propertyTemplateName\", config);\r\n\r\n        this.bindConfig(\"defaultProperty\", config);\r\n\r\n        this.bindConfig(\"emptyView\", config);\r\n\r\n        this.prop(\"content\");\r\n\r\n        if (config) {\r\n            this._onPropertyChanged = config.onPropertyChanged;\r\n\r\n            if (config.properties) {\r\n                for (const propName in config.properties) {\r\n                    config.properties[propName].name = propName;\r\n                    this.addProperty(config.properties[propName]);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.createProxy();\r\n\r\n        if (!isEmpty(this.value))\r\n            this.beginEditAsync(this.value);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    addProperty(config: IPropertyViewConfig<TObj[keyof TObj], TObj>) {\r\n\r\n        const item = new PropertyView({\r\n            name: config.name,\r\n            template: this.prop(\"propertyTemplateName\"),\r\n            ...config,\r\n            host: this\r\n        });\r\n        \r\n\r\n        this.properties[config.name] = item;\r\n\r\n        return item;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async beginEditWorkAsync(value: TObj) {\r\n\r\n        if (!this.value)\r\n            this.value = <any>{};\r\n\r\n        this.isDirty = true\r\n\r\n        for (const propName in this.properties) {\r\n\r\n            const prop = this.properties[propName];\r\n\r\n            if (prop.value != undefined)\r\n                await prop.editor.beginEditAsync(prop.value);\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clearErrors() {\r\n        for (const propName in this.properties)\r\n            this.properties[propName].error = null;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async validateAsyncWork(force?: boolean) {\r\n\r\n        let isValid = true;\r\n\r\n        const curValue = this.editValue;\r\n\r\n        for (const propName in this.properties) {\r\n\r\n            const prop = this.properties[propName];\r\n\r\n            if (!await prop.validateAsync(curValue, force)) {\r\n                this.isValid = false;\r\n                isValid = false;\r\n            }\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected createProxy() {\r\n\r\n        this._proxy = <any>{};\r\n\r\n        this.content.clear();\r\n\r\n        for (const propName in this.properties) {\r\n\r\n            const curProp = this.properties[propName];\r\n\r\n            curProp.prop(\"value\").subscribe((value, oldValue) =>\r\n                this.onPropertyValueChanged(propName, value as any, oldValue as any));\r\n\r\n            curProp.prop(\"isValid\").subscribe(value => {\r\n\r\n                if (!value)\r\n                    this.isValid = false;\r\n            });\r\n\r\n            curProp.prop(\"isDirty\").subscribe(value => {\r\n\r\n                if (value)\r\n                    this.isDirty = true;\r\n            });\r\n\r\n            this.content.add(curProp);\r\n\r\n            Object.defineProperty(this._proxy, propName, {\r\n                enumerable: true,\r\n                get: () => curProp.value,\r\n                set: value => curProp.value = value\r\n            })\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    activateAsync(): Promise<void> {\r\n\r\n        if (this.defaultProperty)\r\n            return this.editor(this.defaultProperty).activateAsync();\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async loadAsyncWork() {\r\n\r\n        const awaiters: Promise<void>[] = [];\r\n\r\n        for (const propName in this.properties)\r\n            awaiters.push(this.properties[propName].loadAsync());\r\n\r\n        await Promise.all(awaiters);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    clear() {\r\n\r\n        this._isUpdating++;\r\n\r\n        try {\r\n\r\n            for (const propName in this.properties)\r\n                this.property(propName).clear();\r\n        }\r\n        finally {\r\n            this._isUpdating--;\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: TObj): TObj {\r\n        return undefined;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async commitAsyncWork(force?: boolean) {\r\n\r\n        let isChanged = false;\r\n\r\n        let isValid = true;\r\n\r\n        if (!this.value)\r\n            this.value = {} as TObj;\r\n\r\n        for (const propName in this.properties) {\r\n\r\n            const commitResult = await this.commitPropertyAsync(propName, false);\r\n\r\n            if (!commitResult.isValid)\r\n                isValid = false;\r\n\r\n            if (!commitResult.isChanged)\r\n                isChanged = true;\r\n        }\r\n\r\n        if (isValid) {\r\n\r\n            if (isChanged)\r\n                this.onValueChanged(this.value);\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async commitPropertyAsync(propName: keyof TObj, validate: boolean) {\r\n\r\n        const result: ICommitPropertyResult = {\r\n            isValid: true,\r\n            isChanged: false\r\n        };\r\n\r\n        const prop = this.property(propName);\r\n\r\n        if (validate && !await prop.validateAsync(this.editValue, false))\r\n            result.isValid = false;\r\n\r\n        else if (!await prop.editor.commitAsync())\r\n            result.isValid = false;\r\n\r\n        else {\r\n\r\n            if (!equals(prop.value, this.value[propName])) {\r\n                this.value[propName] = prop.value;\r\n                result.isChanged = true;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    editor<TKey extends keyof TObj>(propName: TKey): IEditor<TObj[TKey], any> {\r\n        return this.properties[propName].editor;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    property<TKey extends keyof TObj>(propName: TKey): PropertyView<TObj[TKey]> {\r\n        return this.properties[propName];\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async onPropertyValueChanged<TKey extends keyof TObj>(propName: TKey, value: TObj[TKey], oldValue: TObj[TKey]) {\r\n\r\n        this._needValidation = true;\r\n\r\n        if (this._isUpdating || this._isEditing) {\r\n\r\n            this._changesCount++;\r\n            return;\r\n        }\r\n\r\n        if (this.commitMode == \"onchange\") {\r\n\r\n            const commitResult = await this.commitPropertyAsync(propName as any, true);\r\n            if (commitResult.isChanged) {\r\n                this._needValidation = true;\r\n                this.isDirty = true;\r\n            }\r\n        }\r\n        else\r\n            await this.notifyEditValueChangedAsync();\r\n\r\n        if (this._onPropertyChanged)\r\n            this._onPropertyChanged(propName, value, oldValue, this._proxy as TObj);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    set editValue(value: TObj) {\r\n\r\n        if (this._isUpdating)\r\n            return;\r\n\r\n        this._isUpdating++;\r\n\r\n        this._changesCount = 0;\r\n\r\n        try {\r\n\r\n            if (isEmpty(value))\r\n                this.clear();\r\n            else {\r\n\r\n                for (const propName in this.properties)\r\n                    this._proxy[propName] = value[propName];\r\n            }\r\n        }\r\n        finally {\r\n            this._isUpdating--;\r\n        }\r\n\r\n        if (this._changesCount > 0)\r\n            this.notifyEditValueChangedAsync();\r\n\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    get editValue(): TObj {\r\n        return this._proxy;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    properties: PropertiesOf<TObj> = <any>{};\r\n\r\n    defaultProperty: keyof TObj = null;\r\n\r\n    propertyTemplateName = \"PropertyView\";\r\n\r\n    emptyView: View = null;\r\n\r\n    readonly content: IObservableList<PropertyView<any>> = observableListOf();\r\n}\r\n\r\nregisterType(ObjectEditor, \"ObjectEditor\");","\r\nimport { IHTMLAttach } from \"../Abstraction/IHTMLAttach\";\r\nimport { BaseTextEditor, IBaseTextEditorConfig } from \"./BaseTextEditor\";\r\nimport \"Templates/Attach.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\ndeclare var Quill: any;\r\n\r\nexport interface IRichTextEditorConfig extends IBaseTextEditorConfig<string> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class RichTextEditor extends BaseTextEditor<string> implements IHTMLAttach {\r\n\r\n    constructor(config?: IRichTextEditorConfig) {\r\n\r\n        super({ template: \"Attach\", ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attach(element: HTMLElement): void {\r\n\r\n        this.editor = new Quill(element, {\r\n            theme: \"snow\",\r\n        });\r\n\r\n        this.editor.root.innerHTML = this.value;\r\n\r\n        this.editor.on(\"text-change\", () => this.notifyEditValueChangedAsync());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set editValue(value: string) {\r\n        if (this.editor)\r\n            this.editor.root.innerHTML = value;\r\n    }\r\n\r\n    get editValue() {\r\n        if (this.editor)\r\n            return this.editor.root.innerHTML;\r\n        return this.value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    editor: any;\r\n}\r\n\r\nregisterType(RichTextEditor, \"RichTextEditor\");","import { linq } from \"../../Core/Linq\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { IEditor } from \"../Abstraction/IEditor\";\r\nimport { NavBar } from \"../Components/NavBar\";\r\nimport { IViewComponentConfig, ViewComponent } from \"../Components/ViewComponent\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\nimport \"Templates/SectionEditor.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ISectionEditorViewConfig<TValue> extends IViewComponentConfig {\r\n\r\n    editor?: IEditor<TValue, any>;\r\n\r\n    title?: Bindable<LocalString>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport interface ISectionEditorConfig<TValue> extends IBaseEditorConfig<TValue> {\r\n\r\n    sections?: ISectionEditorViewConfig<TValue>[];\r\n\r\n}\r\n\r\n/********************************************/\r\n\r\nclass SectionEditorView<TValue> extends ViewComponent {\r\n\r\n    constructor(config?: ISectionEditorViewConfig<TValue>) {\r\n\r\n        super(config);\r\n\r\n        this.bindConfig(\"editor\", config);\r\n\r\n        this.bindConfigString(\"title\", config);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    title: string = null;\r\n\r\n    editor?: IEditor<TValue, any>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class SectionEditor<TValue, TEdit = TValue> extends BaseEditor<TValue, TEdit> {\r\n\r\n    constructor(config?: ISectionEditorConfig<TValue>) {\r\n\r\n        super({ template: \"SectionEditor\", ...config });\r\n\r\n        this.navBar = new NavBar<SectionEditorView<TValue>>({\r\n            styles: [\"tab-view\", \"surface\"],\r\n            itemTemplate: \"TextView\",\r\n            itemBehavoirs: [\"ripple\"],\r\n            selectedItem: this.prop(\"activeSectionName\")\r\n        });\r\n\r\n        if (config) {\r\n            if (config.sections)\r\n                config.sections.forEach(a => this.addSection(a));\r\n        }\r\n\r\n        if (this.sections.count > 0)\r\n            this.activeSectionName = this.sections.get(0).name;\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async loadAsyncWork() {\r\n\r\n        for (const section of this.sections) {\r\n            if (section.editor)\r\n                await section.editor.loadAsync();\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async beginEditWorkAsync(value: TValue) {\r\n\r\n        for (const section of this.sections) {\r\n            if (section.editor)\r\n                await section.editor.beginEditAsync(value);\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async validateAsyncWork(force?) {\r\n\r\n        let isValid = true;\r\n\r\n        for (const section of this.sections) {\r\n            if (section.editor)\r\n                if (!await section.editor.validateAsync(force)) {\r\n                    isValid = false;\r\n                    this.activeSectionName = section.name;\r\n                }\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected async commitAsyncWork(force?) {\r\n\r\n        let isValid = true;\r\n\r\n        for (const section of this.sections) {\r\n            if (section.editor)\r\n                if (!await section.editor.commitAsync(force))\r\n                    isValid = false;\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    getSection(name: string) {\r\n\r\n        return linq(this.sections).first(a => a.name == name);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    addSection(config: ISectionEditorViewConfig<TValue>) {\r\n        const item = new SectionEditorView(config);\r\n\r\n        this.sections.add(item);\r\n\r\n        this.navBar.addItem({\r\n            text: item.prop(\"title\"),\r\n            name: item.name,\r\n            content: item\r\n        });\r\n\r\n        return item;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    readonly sections: IObservableList<SectionEditorView<TValue>> = observableListOf();\r\n\r\n    readonly navBar: NavBar<SectionEditorView<TValue>>;\r\n\r\n    activeSectionName: string = null;\r\n}\r\n\r\n\r\nregisterType(SectionEditorView, \"SectionEditorView\");\r\n\r\nregisterType(SectionEditor, \"SectionEditor\");","﻿import { IAsyncEditor } from \"../Abstraction/IAsyncEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { SelectSingleItemActivity } from \"../Activities/SelectSingleItemActivity\";\r\nimport { ActionView } from \"../Components/ActionView\";\r\nimport { Actions } from \"../Helpers/Actions\";\r\nimport { BasePicker, IBasePickerConfig } from \"./BasePicker\";\r\nimport \"Templates/SingleItemPicker.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ISingleItemPickerConfig<TItem, TValue, TFilter, TEdit> extends IBasePickerConfig<TItem, TValue, TValue, TFilter, TEdit> {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SingleItemPicker<TItem, TValue, TFilter = any, TEdit = TItem> extends BasePicker<TItem, TValue, TValue, TFilter, TEdit> {\r\n\r\n    constructor(config?: ISingleItemPickerConfig<TItem, TValue, TFilter, TEdit>) {\r\n\r\n        super(config);\r\n\r\n        this.clearAction = ActionView.fromActionIcon({\r\n            name: \"clear\",\r\n            icon: \"fas fa-times\",\r\n            displayName: \"clear\",\r\n            executeAsync: () => Promise.resolve(this.clear())\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async selectAsync() {\r\n\r\n        let mustRefresh = false;\r\n\r\n        if (this.selector == null) {\r\n            this.selector = new SelectSingleItemActivity<TItem, TValue, TFilter, TEdit>({\r\n                itemsSource: this.itemsSource,\r\n                createItemEditor: () => this.createItemEditor(),\r\n                createItemContentView: item => this.createItemListView(item),\r\n                pageSize: this.pageSize,\r\n                addLabel: this.addLabel,\r\n                tooltip: this.pickLabel,\r\n                canAdd: this.canAdd\r\n            });\r\n\r\n            this.selector.filters = this.filters;\r\n        }\r\n        else\r\n            mustRefresh = true;\r\n\r\n        this.selector.selectedValue = this.editValue;\r\n\r\n        if (mustRefresh)\r\n            await this.selector.refreshAsync();\r\n\r\n        const result = await (await Actions.loadPageAsync(this.selector)).result;\r\n\r\n        if (result != null)\r\n            this.editValue = this.itemsSource.getItemValue(result);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemEditor(): IItemEditor<TItem, TEdit> | IAsyncEditor<TItem, TEdit> {\r\n\r\n        throw \"Not Supported\";\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected async updateViewAsync() {\r\n\r\n        if (this.status == \"loading\")\r\n            return;\r\n\r\n        if (this.editValue) {\r\n\r\n            this.status = \"loading\";\r\n            try {\r\n                const item = await this.itemsSource.getItemByValueAsync(this.editValue);\r\n                this.contentView = this.createItemView(item);\r\n            }\r\n            finally {\r\n                this.status = \"loaded\";\r\n            }\r\n        }\r\n        else\r\n            this.contentView = null;\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    selector: SelectSingleItemActivity<TItem, TValue, TFilter, TEdit> = null;\r\n\r\n    contentView: IView = null;\r\n\r\n    clearAction: ActionView = null;\r\n}\r\n\r\n\r\nregisterType(SingleItemPicker, \"SingleItemPicker\");","import { linq } from \"../../Core/Linq\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { IObservableList } from \"../../Templating/Abstraction/IObservableList\";\r\nimport { CatalogTemplate } from \"../../Templating/Abstraction/ITemplateProvider\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { ItemsSource } from \"../Items/ItemsSource\";\r\nimport { BaseEditor, IBaseEditorConfig } from \"./BaseEditor\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { PopUpEditor } from \"./PopupEditor\";\r\nimport { ISelectableItemView } from \"../Abstraction/ISelectableItemView\";\r\nimport \"Templates/ItemSelector.html\";\r\nimport {  SelectableItemView } from \"../Components/SelectableItemView\";\r\nimport { Item } from \"../Items/Item\";\r\n\r\nexport interface IMultiItemSelectorConfig<TItem, TValue> extends IBaseEditorConfig<TValue[]> {\r\n\r\n    itemsSource?: Bindable<ItemsSource<TItem, TValue>>;\r\n\r\n    items?: TItem[];\r\n\r\n    createItemView?: (item: TItem) => ISelectableItemView<TValue>;\r\n\r\n    placeholder?: Bindable<LocalString>;\r\n\r\n    itemTemplate?: CatalogTemplate<ISelectableItemView<TValue>>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class MultiItemSelector<TItem, TValue> extends BaseEditor<TValue[]>  {\r\n\r\n    constructor(config?: IMultiItemSelectorConfig<TItem, TValue>) {\r\n\r\n        super({ template: \"SelectEditor\", ...config });\r\n\r\n        this.bindConfig(\"itemsSource\", config);\r\n\r\n        this.bindConfig(\"itemTemplate\", config);\r\n\r\n        this.bindConfigString(\"placeholder\", config);\r\n\r\n        if (config?.createItemView)\r\n            this.createItemViewWork = config?.createItemView;\r\n\r\n        if (config?.items) {\r\n\r\n            config.items.forEach(a => this.items.add(this.createItemView(a)));\r\n\r\n            this.status = \"loaded\";\r\n        }\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async selectAsync() {\r\n        const editor = new PopUpEditor({\r\n\r\n            editor: new MultiItemSelector({\r\n                template: \"MultiItemSelectorList\",\r\n                itemsSource: this.itemsSource,\r\n                styles: [\"no-padding-items-h\"]\r\n            }),\r\n            saveOnCommit: true,\r\n            saveLabel: \"select\",\r\n            closeLabel: \"cancel\",\r\n            title: \"select-an-item\",\r\n            styles: [\"\"]\r\n        });\r\n\r\n        const result = await editor.editAsync(this.value)\r\n        if (result !== null)\r\n            this.editValue = result;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    findItemByValue(value: TValue) {\r\n\r\n        if (this.itemsSource)\r\n            return linq(this.items).first(a => this.itemsSource.equals(a.item, value));\r\n        return linq(this.items).first(a => a.item == value);\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    set editValue(value: TValue[]) {\r\n\r\n        for (const item of this.items) {\r\n            item.isSelected = value && linq(value).any(a=> Item.getValue(a) == Item.getValue(item.item));\r\n        }\r\n    }\r\n\r\n    get editValue(): TValue[] {\r\n\r\n        return linq(this.items).where(a => a.isSelected).select(a => a.item).toArray();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async loadAsyncWork() {\r\n\r\n        if (this.itemsSource) {\r\n\r\n            this.items.clear();\r\n\r\n            const items = await this.itemsSource.getItemsAsync(this.itemsSource.getFilter());\r\n            if (items)\r\n                items.forEach(a => this.items.add(this.createItemView(a)));\r\n        }\r\n\r\n        this.isDirty = true;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected createItemViewWork(item: TItem): ISelectableItemView<TValue> {\r\n\r\n        if (this.itemsSource)\r\n            return new SelectableItemView({\r\n                item: this.itemsSource.getItemValue(item),\r\n                content: this.itemsSource.getItemText(item),\r\n                template: this.itemTemplate\r\n            });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createItemView(item: TItem) {\r\n\r\n        const itemView = this.createItemViewWork(item);\r\n\r\n        itemView.prop(\"isSelected\").subscribe(value => {\r\n\r\n            if (value)\r\n                this.notifyEditValueChangedAsync();\r\n        });\r\n\r\n        return itemView;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    itemTemplate: CatalogTemplate<ISelectableItemView<TValue>> = \"SelectableItemView\";\r\n\r\n    placeholder: string = null;\r\n\r\n    itemsSource: ItemsSource<TItem, TValue> = null;\r\n\r\n    readonly items: IObservableList<ISelectableItemView<TValue>> = observableListOf();\r\n}\r\n\r\nregisterType(MultiItemSelector, \"MultiItemSelector\");","﻿import { LocalString, StringUsage } from \"../../Core/Types/DynamicString\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { BaseTextEditor, IBaseTextEditorConfig } from \"./BaseTextEditor\";\r\nimport \"Templates/TextEditor.html\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\n\r\nexport interface ITextEditorConfig extends IBaseTextEditorConfig<string> {\r\n\r\n    placeholder?: Bindable<LocalString>;\r\n\r\n    lineCount?: Bindable<number>;\r\n\r\n    maxLength?: Bindable<number>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class TextEditor extends BaseTextEditor<string> {\r\n\r\n    constructor(config?: ITextEditorConfig) {\r\n\r\n        super({ template: \"TextEditor\", ...config });\r\n\r\n        this.bindConfigString(\"placeholder\", config, StringUsage.Tooltip);\r\n\r\n        this.bindConfig(\"lineCount\", config);\r\n\r\n        this.bindConfig(\"maxLength\", config);\r\n\r\n        this.bindConfig(\"trackMode\", config);\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    placeholder: string = null;\r\n\r\n    lineCount: number = 1;\r\n\r\n    maxLength: number = null;\r\n}\r\n\r\nregisterType(TextEditor, \"TextEditor\");","﻿import { TimeSpan } from \"../../Core/Types/TimeSpan\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { Bindable } from \"../../Templating/Properties\";\r\nimport { BaseTextEditor, IBaseTextEditorConfig } from \"./BaseTextEditor\";\r\n\r\nexport interface ITimeEditorConfig extends IBaseTextEditorConfig<TimeSpan> {\r\n\r\n    placeholder?: Bindable<string>;\r\n}\r\n\r\n/********************************************/\r\n\r\nexport class TimeEditor extends BaseTextEditor<TimeSpan> {\r\n\r\n    constructor(config?: ITimeEditorConfig) {\r\n\r\n        super({ template: \"TimeEditor\", ...config });\r\n\r\n        this.bindConfig(\"placeholder\", config);\r\n\r\n        this.createEditValueProp();\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected valueToEdit(value: TimeSpan): string {\r\n\r\n        return value === null || value === undefined ? \"\" : value.format(\"{hh}:{mm}\");\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    protected editToValue(value: string): TimeSpan {\r\n\r\n        if (value === undefined || value === null)\r\n            return null;\r\n        const parts = value.split(':');\r\n        if (parts.length != 2)\r\n            return null;\r\n        return TimeSpan.fromMinutes(parseInt(parts[0]) * 60 + parseInt(parts[1]));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    placeholder: string = null;\r\n}\r\n\r\nregisterType(TimeEditor, \"TimeEditor\");","﻿import { ISectionsViewConfig, SectionsView } from \"../Components/SectionsView\";\r\n\r\nexport namespace Components {\r\n\r\n    export function sections(config: ISectionsViewConfig) {\r\n        return new SectionsView(config);\r\n    }\r\n}","﻿import { BindableObject } from \"../../Templating/BindableObject\";\r\n\r\nexport function observable() {\r\n    return function (target: BindableObject, propertyKey: string) {\r\n    }\r\n}","﻿import { IEditor } from \"../Abstraction/IEditor\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { BooleanEditor, IBooleanEditorConfig } from \"../Editors/BooleanEditor\";\r\nimport { DateEditorCombo, IDateEditorComboConfig } from \"../Editors/DateEditorCombo\";\r\nimport { ItemEditorConverter } from \"../Editors/ItemEditorConverter\";\r\nimport { IItemsEditorConfig, ItemsEditor } from \"../Editors/ItemsEditor\";\r\nimport { INumberEditorConfig, NumberEditor } from \"../Editors/NumberEditor\";\r\nimport { IObjectEditorConfig, ObjectEditor } from \"../Editors/ObjectEditor\";\r\nimport { RichTextEditor } from \"../Editors/RichTextEditor\";\r\nimport { ISingleItemSelectorConfig, SingleItemSelector } from \"../Editors/SingleItemSelector\";\r\nimport { ITextEditorConfig, TextEditor } from \"../Editors/TextEditor\";\r\n\r\nexport namespace Editors {\r\n\r\n    export function richText() {\r\n\r\n        return new RichTextEditor();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function currency() {\r\n        return new NumberEditor({\r\n            allowNull: false,\r\n            min: 0.01,\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function converter<TItem, TEdit>(editor: IEditor<TEdit, any>, itemToEdit: (item: TItem) => TEdit, editToItem?: (item: TItem, editValue: TEdit) => void): IItemEditor<TItem, TEdit> {\r\n\r\n        return new ItemEditorConverter({\r\n            editor: editor,\r\n            editToItem: editToItem,\r\n            itemToEdit: itemToEdit\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function items<TItem, TValue, TUpdate, TCreate>(config?: IItemsEditorConfig<TItem, TValue, TUpdate, TCreate>) {\r\n\r\n        return new ItemsEditor({ ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function text(config?: ITextEditorConfig) {\r\n        return new TextEditor({ ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function textMultiLine(config?: ITextEditorConfig) {\r\n\r\n        return new TextEditor({ template: \"TextEditorMultiLine\", ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function number(config?: INumberEditorConfig) {\r\n        return new NumberEditor({ ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function boolean(config?: IBooleanEditorConfig) {\r\n        return new BooleanEditor({ ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function password(config?: ITextEditorConfig) {\r\n        return new TextEditor({ template: \"PasswordEditor\", ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function object<TObj extends {}>(config?: IObjectEditorConfig<TObj>) {\r\n        return new ObjectEditor(config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function address(config?: ITextEditorConfig) {\r\n        return new TextEditor({ template: \"TextEditorMultiLine\", ...config });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function birthDate(minAge?: number, config?: IDateEditorComboConfig) {\r\n        return new DateEditorCombo({ maxYear: new Date().getFullYear() - (minAge ?? 0), minYear: new Date().getFullYear() - 100 });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export function singleItemSelector<TItem, TValue>(config: ISingleItemSelectorConfig<TItem, TValue>) {\r\n\r\n        return new SingleItemSelector(config);\r\n    }\r\n}","﻿import { IRepository } from \"../../Core/Abstraction/IRepository\";\r\nimport { Format } from \"../../Core/Helpers/Format\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { ISimpleItem } from \"../Abstraction/ISimpleItem\";\r\nimport { IItemsSourceConfig, ItemsSource } from \"../Items/ItemsSource\";\r\n\r\n\r\nexport function repositoryItems<TItem, TValue, TFilter>(repo: IRepository<TItem, TValue, TFilter>, config?: IItemsSourceConfig<TItem, TValue, TFilter>) {\r\n\r\n    return new ItemsSource<TItem, TValue, TFilter>({\r\n        getItemsAsync: async filter => Array.from(await repo.listAsync(filter)),\r\n        getItemByValueAsync: value => repo.getByIdAsync(value),\r\n        ...config\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function staticItems<TValue>(items: ISimpleItem<TValue>[], allowZero: boolean = false) {\r\n\r\n    return new ItemsSource<ISimpleItem<TValue>, TValue>({\r\n        typeName: \"WebApp.ISimpleItem\",\r\n        getItemValue: a => a.value,\r\n        getItemText: a => Format.title(a.text),\r\n        getItemsAsync: () => Promise.resolve(items),\r\n        getItemByValueAsync: value => Promise.resolve(linq(items).first(a => a.value == value)),\r\n        allowZero: allowZero\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function arrayItems<TItem>(items: TItem[]) {\r\n\r\n    return new ItemsSource<TItem, TItem>({\r\n        getItemsAsync: () => Promise.resolve(items)\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function actionItems(items: IAction[]) {\r\n\r\n    return new ItemsSource<IAction, IAction>({\r\n        typeName: \"WebApp.IAction\",\r\n        getItemText: a => Format.text(a.displayName),\r\n        getItemsAsync: () => Promise.resolve(items),\r\n        allowZero: false\r\n    });\r\n}","﻿import { Format } from \"../../Core/Helpers/Format\";\r\nimport { IValidationContext, IValidationResult, IValidator } from \"../Abstraction/IValidator\";\r\n\r\nexport namespace Validators {\r\n\r\n    const EMAIL_REGEXP = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    const PHONE_REGEXP = /^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/;\r\n\r\n    export var required: IValidator<any, any> = {\r\n        validateAsync: ctx => Promise.resolve({\r\n            isValid: ctx.value != null && ctx.value != \"\" && (!Array.isArray(ctx.value) || ctx.value.length > 0),\r\n            error: Format.message(\"msg-specify-value\", ctx.fieldName)\r\n        } as IValidationResult)\r\n    };\r\n\r\n    /****************************************/\r\n\r\n    export function minValue(value: number): IValidator<number, any> {\r\n        return {\r\n            validateAsync: ctx => Promise.resolve(({\r\n                isValid: ctx.value >= value,\r\n                error: Format.message(\"msg-insert-greater-than\", value.toString())\r\n            }))\r\n        }\r\n    };\r\n\r\n    /****************************************/\r\n\r\n    export function maxValue(value: number): IValidator<number, any> {\r\n        return {\r\n            validateAsync: ctx => Promise.resolve(({\r\n                isValid: ctx.value <= value,\r\n                error: Format.message(\"msg-insert-less-than\", value.toString()),\r\n            }))\r\n        }\r\n    };\r\n\r\n/****************************************/\r\n\r\n   \r\n\r\n    export var integer: IValidator<number, any> = {\r\n        validateAsync: ctx => Promise.resolve(({\r\n            isValid: Math.round(ctx.value) == ctx.value,\r\n            error: Format.message(\"msg-insert-int-number\"),\r\n        }))\r\n    };\r\n\r\n\r\n    /****************************************/\r\n\r\n    export var phone: IValidator<string, any> = {\r\n\r\n        validateAsync: ctx => Promise.resolve(({\r\n            isValid: ctx.value && ctx.value.length >= 9 && PHONE_REGEXP.test(ctx.value.toLowerCase()),\r\n            error: Format.message(\"msg-invalid-phone\", ctx.value)\r\n        }))\r\n\r\n    };\r\n\r\n\r\n\r\n    /****************************************/\r\n\r\n    export var email: IValidator<string, any> = {\r\n\r\n        validateAsync: ctx => Promise.resolve(({\r\n            isValid: ctx.value && EMAIL_REGEXP.test(ctx.value.toLowerCase()),\r\n            error: Format.message(\"msg-invalid-email\", ctx.value)\r\n        }))\r\n\r\n    };\r\n\r\n    /****************************************/\r\n\r\n    export function custom<TValue, TTarget>(validator: (ctx: IValidationContext<TValue, TTarget>) => Promise<IValidationResult>) {\r\n        return {\r\n            validateAsync: async ctx => await validator(ctx)\r\n        }\r\n    };\r\n\r\n}","import { Services } from \"../../Core/Global\";\r\nimport { linq } from \"../../Core/Linq\";\r\nimport { Signal } from \"../../Core/Types/Signal\";\r\nimport { EqualityComparer } from \"../../Core/Types/Types\";\r\nimport { EditableItemsSource } from \"./EditableItemsSource\";\r\n\r\nexport interface IValueCache<T> {\r\n\r\n    value?: T;\r\n    lastUpdateTime?: Date;\r\n    updateComplete?: Signal;\r\n    key: string;\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nexport interface ICachedEditableItemsSourceConfig<TItem, TValue, TFilter, TUpdate, TAdd> {\r\n\r\n    source: EditableItemsSource<TItem, TValue, TFilter, TUpdate, TAdd>;\r\n\r\n    filterItem?: (filter: TFilter, item: TItem, items: Map<TValue, TItem>) => boolean;\r\n\r\n    filter?: TFilter;\r\n\r\n    finalize?: (filter: TFilter, items: TItem[]) => void;\r\n\r\n    cache?: IValueCache<Map<TValue, TItem>>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class CachedEditableItemsSource<TItem, TValue, TFilter, TUpdate, TAdd> extends EditableItemsSource<TItem, TValue, TFilter, TUpdate, TAdd> {\r\n\r\n    constructor(config?: ICachedEditableItemsSourceConfig<TItem, TValue, TFilter, TUpdate, TAdd>) {\r\n        super();\r\n\r\n        if (config) {\r\n\r\n            this.source = config.source;\r\n\r\n            this.cache = config.cache;\r\n\r\n            if (config.filterItem)\r\n                this.filterItem = (filter, item) => config.filterItem(filter, item, this.items);\r\n\r\n            if (config.finalize)\r\n                this.finalize = config.finalize;\r\n        }\r\n\r\n        if (!this.cache)\r\n            this.cache = {\r\n                key: new Date().getTime().toString(),\r\n                lastUpdateTime: null,\r\n                value: null\r\n            };\r\n\r\n        if (!this.cache.updateComplete)\r\n            this.cache.updateComplete = new Signal(true);\r\n\r\n        if (!this.cache.value)\r\n            this.cache.value = new Map<TValue, TItem>();\r\n\r\n        else if (this.cache.value.size > 0)\r\n            this.cache.lastUpdateTime = new Date();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemText(item) {\r\n\r\n        return this.source.getItemText(item);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getItemValue(item, bindItem) {\r\n\r\n        return this.source.getItemValue(item, bindItem);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getFilter(text, offset, pageSize) {\r\n\r\n        return this.source.getFilter(text, offset, pageSize);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    equals(a, b) {\r\n\r\n        return this.source.equals(a, b);\r\n    }\r\n\r\n\r\n    /********************************************/\r\n\r\n    newItem() {\r\n        return this.source.newItem();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    finalize(filter: TFilter, items: TItem[]) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async countAsync(filter: TFilter): Promise<number> {\r\n\r\n        return linq(this.items.entries()).select(a => a[1]).where(a => this.filterItem(filter, a)).count();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getItemsAsync(filter) {\r\n\r\n        await this.updateCacheAsync(false);\r\n\r\n        const items = await linq(this.items.entries()).select(a => a[1]).where(a => this.filterItem(filter, a)).toArrayAsync(10);\r\n        this.finalize(filter, items);\r\n        return items;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getItemByValueAsync(value) {\r\n\r\n        await this.updateCacheAsync(false);\r\n\r\n        if (value == null)\r\n            return null;\r\n\r\n        if (typeof value == \"object\" && typeof value[\"valueOf\"] == \"function\")\r\n            value = value[\"valueOf\"]();\r\n\r\n        return Promise.resolve(this.items.get(value));\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async addItemAsync(item) {\r\n\r\n        const newItem = await this.source.addItemAsync(item);\r\n        if (newItem != null)\r\n            this.items.set(this.getItemValue(newItem, false), newItem);\r\n        return newItem;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async updateItemAsync(item) {\r\n        const newItem = await this.source.updateItemAsync(item);\r\n\r\n        if (newItem != null)\r\n            this.items.set(this.getItemValue(newItem, false), newItem);\r\n\r\n        return newItem;\r\n    }\r\n\r\n    /********************************************/\r\n\r\n    async removeItemAsync(item) {\r\n        const result = await this.source.removeItemAsync(item);\r\n        if (result)\r\n            this.items.delete(this.getItemValue(item, false));\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected filterItem(filter: TFilter, item: TItem) {\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async readCacheAsync(): Promise<TItem[]> {\r\n\r\n        if (this.cache.key)\r\n            return await Services.dbStorage.getItem<TItem[]>(this.cache.key);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async writeCacheAsync(items: TItem[]) {\r\n\r\n        if (this.cache.key)\r\n            await Services.dbStorage.setItem(this.cache.key, items);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async updateCacheAsync(force: boolean) {\r\n\r\n        if (this.cache.lastUpdateTime && !force)\r\n            return;\r\n\r\n        if (!this.cache.updateComplete.isSet) {\r\n            await this.cache.updateComplete.waitFor();\r\n            return;\r\n        }\r\n\r\n        this.cache.updateComplete.reset();\r\n\r\n        try {\r\n            let newItems: TItem[];\r\n\r\n            try {\r\n\r\n                newItems = await this.source.getItemsAsync(this.filter);\r\n            }\r\n            catch (ex) {\r\n\r\n                console.error(ex);\r\n            }\r\n\r\n            let mustUpdate = true;\r\n\r\n            if (newItems == null) {\r\n                newItems = await this.readCacheAsync();\r\n                mustUpdate = false;\r\n            }\r\n\r\n            if (newItems != null) {\r\n\r\n                this.items.clear();\r\n\r\n                for (const item of newItems)\r\n                    this.items.set(this.getItemValue(item, false), item);\r\n\r\n                this.cache.lastUpdateTime = new Date();\r\n\r\n                if (mustUpdate)\r\n                    await this.writeCacheAsync(newItems);\r\n            }\r\n        }\r\n        finally {\r\n\r\n            this.cache.updateComplete.set();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get typeName() {\r\n        return this.source.typeName;\r\n    }\r\n\r\n    get allowZero() {\r\n        return this.source.allowZero;\r\n    }\r\n\r\n    get itemComparer(): EqualityComparer<TItem> {\r\n\r\n        return this.source.itemComparer;\r\n    }\r\n\r\n    get items() {\r\n        return this.cache.value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    source: EditableItemsSource<TItem, TValue, TFilter, TUpdate, TAdd> = null;\r\n\r\n    cache: IValueCache<Map<TValue, TItem>> = null;\r\n\r\n    filter: TFilter = null;\r\n}","﻿import { linq } from \"../../Core/Linq\";\r\nimport { IAction } from \"../Abstraction/IAction\";\r\nimport { IAppContent } from \"../Abstraction/IAppContent\";\r\nimport { IAppContentManager } from \"../Abstraction/IAppContentManager\";\r\n\r\nexport class AppContentManager<TName extends string> implements IAppContentManager<TName> {\r\n\r\n    constructor(contents: IAppContent[]) {\r\n\r\n        this.contents = contents;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get(name: TName): IAppContent {\r\n        return linq(this.contents).first(a => a.name == name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    actionFor(name: TName): IAction {\r\n        const content = this.get(name);\r\n        return {\r\n            executeAsync: content.openAsync,\r\n            name: content.name,\r\n            displayName: content.displayName,\r\n            icon: content.icon\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    contents: IAppContent[];\r\n}","import { IDictionary } from \"../../Core/Abstraction/IDictionary\";\r\nimport { LocalString } from \"../../Core/Types/DynamicString\";\r\nimport { registerType } from \"../../Core/Utils/ObjectUtils\";\r\nimport { BindableObject } from \"../../Templating/BindableObject\";\r\nimport { observableListOf } from \"../../Templating/ObservableList\";\r\nimport { ActionPriority } from \"../Abstraction/IAction\";\r\nimport { IItemEditor } from \"../Abstraction/IItemEditor\";\r\nimport { IView } from \"../Abstraction/IView\";\r\nimport { IconTextView } from \"../Components/IconTextView\";\r\nimport { ListView } from \"../Components/ListView\";\r\nimport { Panel } from \"../Components/Panel\";\r\nimport { ViewComponent } from \"../Components/ViewComponent\";\r\nimport { BooleanEditor } from \"../Editors/BooleanEditor\";\r\nimport { PopUpEditor } from \"../Editors/PopupEditor\";\r\n\r\n\r\ndeclare global {\r\n\r\n    export interface IServices {\r\n\r\n        permissionManager: PermissionManager;\r\n    }\r\n}\r\n\r\n\r\nexport interface IPermission {\r\n\r\n    name: string;\r\n\r\n    ask(): Promise<boolean>;\r\n\r\n    isGranted(): Promise<boolean>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPermissionRequest {\r\n\r\n    permission: IPermission;\r\n\r\n    description: LocalString;\r\n\r\n    granted?: boolean;\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nexport class PermissionRequestItemView extends ViewComponent {\r\n\r\n    constructor(request: IPermissionRequest) {\r\n        super();\r\n\r\n        this.request = request;\r\n\r\n        this.switchView = new BooleanEditor({\r\n            label: this.request.permission.name,\r\n            template: \"Switch\",\r\n            styles: [\"primary\"]\r\n        });\r\n\r\n        this.switchView.beginEditAsync(request.granted);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    request: IPermissionRequest = null;\r\n\r\n    switchView: BooleanEditor = null;\r\n\r\n    isShowInfo: boolean = false;\r\n}\r\n\r\n/****************************************/\r\n\r\nclass PermissionEditor extends BindableObject implements IItemEditor<IPermissionRequest[]> {\r\n\r\n    private _listView: ListView<IPermissionRequest, PermissionRequestItemView> = null;\r\n\r\n    beginEditAsync(item: IPermissionRequest[]) {\r\n\r\n        const panel = new Panel({\r\n            styles: [\"vertical\"]\r\n        });\r\n\r\n\r\n        this._listView = panel.addView(new ListView({\r\n            styles: [\"surface\"],\r\n            items: observableListOf(item),\r\n            isAutoLoad: true,\r\n            createItemView: item => new PermissionRequestItemView(item)\r\n        }));\r\n\r\n        panel.addView(new IconTextView({ text: \"msg-permission-request\", styles: [\"message warning\"] }));\r\n\r\n        this.view = panel;\r\n\r\n        this.value = item;\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    commitAsync(force?: boolean) {\r\n\r\n        for (const item of this._listView.content)\r\n            item.request.granted = item.switchView.editValue;\r\n\r\n\r\n        return Promise.resolve(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    view: IView = null;\r\n\r\n    value: IPermissionRequest[] = null;\r\n\r\n    readonly isValid: boolean = true;\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class PermissionManager {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async requireAsync(...permissions: IPermissionRequest[]) {\r\n\r\n        const toAsk: IPermissionRequest[] = [];\r\n\r\n        const result: IDictionary<boolean> = {};\r\n\r\n\r\n        for (const perm of permissions) {\r\n            if (!(await perm.permission.isGranted()))\r\n                toAsk.push(perm);\r\n            else {\r\n                result[perm.permission.name] = true;\r\n                perm.granted = true;\r\n            }\r\n        }\r\n\r\n        if (toAsk.length > 0) {\r\n\r\n            const editor = new PopUpEditor<IPermissionRequest[]>({\r\n                editor: new PermissionEditor(),\r\n                saveLabel: \"accept\",\r\n                savePriority: ActionPriority.Evidence,\r\n                title: \"permission-request\",\r\n            });\r\n\r\n            const editResult = await editor.editAsync(toAsk);\r\n\r\n            if (editResult) {\r\n\r\n                for (const item of editResult) {\r\n\r\n                    if (item.granted)\r\n                        item.granted = await item.permission.ask();\r\n\r\n                    result[item.permission.name] = item.granted;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    geolocation: IPermission = {\r\n\r\n        name: \"geolocation\",\r\n\r\n        ask: () => new Promise(res => {\r\n\r\n            function setResult(result: boolean) {\r\n                localStorage.setItem(\"geolocation\", result ? \"granted\" : \"denied\");\r\n                res(result);\r\n            }\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                () => setResult(true),\r\n                error => setResult(error.code != error.PERMISSION_DENIED)\r\n                , { maximumAge: Infinity, timeout: 2000 });\r\n\r\n        }),\r\n\r\n        isGranted: async () => {\r\n            if (\"permissions\" in navigator)\r\n                return (await navigator.permissions.query({ name: \"geolocation\" })).state == \"granted\";\r\n\r\n            return localStorage.getItem(\"geolocation\") == \"granted\";\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    notification: IPermission = {\r\n\r\n        name: \"notification\",\r\n\r\n        ask: () => new Promise(res => {\r\n\r\n            if (!(\"Notification\" in window)) {\r\n                console.warn(\"Notification not supported\");\r\n                res(false);\r\n            }\r\n\r\n            Notification.requestPermission(p => {\r\n                res(p == \"granted\");\r\n            });\r\n        }),\r\n\r\n        isGranted: () => Promise.resolve(!(\"Notification\" in window) ? true : Notification.permission == \"granted\")\r\n    }\r\n}\r\n\r\nregisterType(PermissionRequestItemView, \"PermissionRequestItemView\");","/**\r\n * @file Automatically generated by barrelsby.\r\n */\r\nimport \"./Language/IT\"\r\n\r\nexport * from \"./Core/Global\"\r\nexport * from \"./Android/IAndroidInterface\";\r\nexport * from \"./Core/Linq\"; \r\nexport * from \"./Core/StringTable\";\r\nexport * from \"./Core/Abstraction/IApplication\"; \r\nexport * from \"./Core/Abstraction/ICacheManager\";\r\nexport * from \"./Core/Abstraction/ICatalog\"; \r\nexport * from \"./Core/Abstraction/ICloneable\";\r\nexport * from \"./Core/Abstraction/IContext\";\r\nexport * from \"./Core/Abstraction/IDictionary\";\r\nexport * from \"./Core/Abstraction/IErrorHandler\";\r\nexport * from \"./Core/Abstraction/IFactory\";\r\nexport * from \"./Core/Abstraction/IHttpClient\";\r\nexport * from \"./Core/Abstraction/IKeyValue\";\r\nexport * from \"./Core/Abstraction/IList\";\r\nexport * from \"./Core/Abstraction/IMap\";\r\nexport * from \"./Core/Abstraction/INamedContent\";\r\nexport * from \"./Core/Abstraction/IOperation\";\r\nexport * from \"./Core/Abstraction/IOperationManager\";\r\nexport * from \"./Core/Abstraction/IStateManager\";\r\nexport * from \"./Core/Abstraction/ITask\";\r\nexport * from \"./Core/Abstraction/ITaskRunner\";\r\nexport * from \"./Core/Abstraction/IAnalytics\";\r\nexport * from \"./Core/Abstraction/IRepository\";\r\nexport * from \"./Core/Helpers/Format\";\r\nexport * from \"./Core/Helpers/Functions\";\r\nexport * from \"./Core/Helpers/Http\";\r\nexport * from \"./Core/Helpers/TypeCheck\";\r\nexport * from \"./Core/Helpers/Uri\";\r\nexport * from \"./Core/Services/DbStorage\";\r\nexport * from \"./Core/Services/LocalStorageCache\";\r\nexport * from \"./Core/Services/XHRHttpClient\";\r\nexport * from \"./Core/Services/GoogleAnalytics\";\r\nexport * from \"./Core/Services/LocalDbRepository\";\r\nexport * from \"./Core/Types/DynamicString\";\r\nexport * from \"./Core/Types/Event\";\r\nexport * from \"./Core/Types/Exception\";\r\nexport * from \"./Core/Types/Signal\";\r\nexport * from \"./Core/Types/TimeSpan\";\r\nexport * from \"./Core/Types/Types\";\r\nexport * from \"./Core/Utils/ArrayUtils\";\r\nexport * from \"./Core/Utils/DateUtils\";\r\nexport * from \"./Core/Utils/DomUtils\";\r\nexport * from \"./Core/Utils/Identifier\";\r\nexport * from \"./Core/Utils/MathUtils\";\r\nexport * from \"./Core/Utils/ObjectUtils\";\r\nexport * from \"./Core/Utils/PromiseUtils\";\r\nexport * from \"./Core/Utils/StringUtils\";\r\nexport * from \"./Core/Utils/PositionUtils\";\r\nexport * from \"./Maps/BingMapManager\";\r\nexport * from \"./Templating/BindableObject\";\r\nexport * from \"./Templating/Binder\";\r\nexport * from \"./Templating/ComputedProperty\";\r\nexport * from \"./Templating/Functions\";\r\nexport * from \"./Templating/ObservableList\";\r\nexport * from \"./Templating/ObservableProperty\";\r\nexport * from \"./Templating/Properties\";\r\nexport * from \"./Templating/TemplateBuilder\";\r\nexport * from \"./Templating/Abstraction/IBehavoir\";\r\nexport * from \"./Templating/Abstraction/IBindable\";\r\nexport * from \"./Templating/Abstraction/IObservableList\";\r\nexport * from \"./Templating/Abstraction/IObservableProperty\";\r\nexport * from \"./Templating/Abstraction/IProperties\";\r\nexport * from \"./Templating/Abstraction/IProperty\";\r\nexport * from \"./Templating/Abstraction/ITemplate\";\r\nexport * from \"./Templating/Abstraction/ITemplateProvider\";\r\nexport * from \"./View/BaseSearch\";\r\nexport * from \"./View/HIstoryPageHost\";\r\nexport * from \"./View/Operation\";\r\nexport * from \"./View/SelectionManager\";\r\nexport * from \"./View/ViewApplication\";\r\nexport * from \"./View/Abstraction/IAction\";\r\nexport * from \"./View/Abstraction/ISimpleItem\";\r\nexport * from \"./View/Abstraction/IActionProvider\";\r\nexport * from \"./View/Abstraction/IActivable\";\r\nexport * from \"./View/Abstraction/IAppContent\";\r\nexport * from \"./View/Abstraction/IAppContentManager\";\r\nexport * from \"./View/Abstraction/IAsyncEditor\";\r\nexport * from \"./View/Abstraction/IAsyncLoad\";\r\nexport * from \"./View/Abstraction/IComponent\";\r\nexport * from \"./View/Abstraction/IContentView\";\r\nexport * from \"./View/Abstraction/IEditable\";\r\nexport * from \"./View/Abstraction/IEditor\";\r\nexport * from \"./View/Abstraction/IHasLabel\";\r\nexport * from \"./View/Abstraction/IHTMLAttach\";\r\nexport * from \"./View/Abstraction/IHTMLContainer\";\r\nexport * from \"./View/Abstraction/IItemAction\";\r\nexport * from \"./View/Abstraction/IItemEditor\";\r\nexport * from \"./View/Abstraction/IItemsLoader\";\r\nexport * from \"./View/Abstraction/IItemView\";\r\nexport * from \"./View/Abstraction/IMapManager\";\r\nexport * from \"./View/Abstraction/IMultiItemSelector\";\r\nexport * from \"./View/Abstraction/IPage\";\r\nexport * from \"./View/Abstraction/IPageHost\";\r\nexport * from \"./View/Abstraction/IPageManager\";\r\nexport * from \"./View/Abstraction/IPanel\";\r\nexport * from \"./View/Abstraction/IPopUpMenu\";\r\nexport * from \"./View/Abstraction/IRefreshable\";\r\nexport * from \"./View/Abstraction/IScrollListener\";\r\nexport * from \"./View/Abstraction/IGestureListener\";\r\nexport * from \"./View/Abstraction/ISelectable\";\r\nexport * from \"./View/Abstraction/ISelectableItemView\";\r\nexport * from \"./View/Abstraction/ISingleItemSelector\";\r\nexport * from \"./View/Abstraction/ITransactionListener\";\r\nexport * from \"./View/Abstraction/IValidator\";\r\nexport * from \"./View/Abstraction/IView\";\r\nexport * from \"./View/Abstraction/IViewApplication\";\r\nexport * from \"./View/Abstraction/IViewComponent\";\r\nexport * from \"./View/Abstraction/IViewContent\";\r\nexport * from \"./View/Abstraction/IViewContentHost\";\r\nexport * from \"./View/Abstraction/IViewContentInfo\";\r\nexport * from \"./View/Abstraction/IViewContentProvider\";\r\nexport * from \"./View/Abstraction/IViewProvider\";\r\nexport * from \"./View/Abstraction/IViewCatalog\";\r\nexport * from \"./View/Activities/Activity\";\r\nexport * from \"./View/Activities/ContentActivity\";\r\nexport * from \"./View/Activities/SearchActivity\";\r\nexport * from \"./View/Activities/SelectMultipleItemsActivity\";\r\nexport * from \"./View/Activities/SelectSingleItemActivity\";\r\nexport * from \"./View/Behavoirs/AttachBehavoir\";\r\nexport * from \"./View/Behavoirs/LongPresssBehavoir\";\r\nexport * from \"./View/Behavoirs/RippleClickBehavoir\";\r\nexport * from \"./View/Behavoirs/ScrollCheckBehavoir\";\r\nexport * from \"./View/Behavoirs/VibrateClickBehavoir\";\r\nexport * from \"./View/Behavoirs/ContextMenuBehavoir\";\r\nexport * from \"./View/Components/ActionBar\";\r\nexport * from \"./View/Components/ActionView\";\r\nexport * from \"./View/Components/BasePopUpMessage\";\r\nexport * from \"./View/Components/Blocker\";\r\nexport * from \"./View/Components/BottomSheet\";\r\nexport * from \"./View/Components/ConsoleView\";\r\nexport * from \"./View/Components/Container\";\r\nexport * from \"./View/Components/ContentHostView\";\r\nexport * from \"./View/Components/ContentView\";\r\nexport * from \"./View/Components/ContextMenu\";\r\nexport * from \"./View/Components/CounterView\";\r\nexport * from \"./View/Components/Drawer\";\r\nexport * from \"./View/Components/FileUploadView\";\r\nexport * from \"./View/Components/GridView\";\r\nexport * from \"./View/Components/HeadedContentView\";\r\nexport * from \"./View/Components/HtmlView\";\r\nexport * from \"./View/Components/IconTextView\";\r\nexport * from \"./View/Components/ImageView\";\r\nexport * from \"./View/Components/ItemsView\";\r\nexport * from \"./View/Components/ItemView\";\r\nexport * from \"./View/Components/ListView\";\r\nexport * from \"./View/Components/LocationView\";\r\nexport * from \"./View/Components/MapItemsView\";\r\nexport * from \"./View/Components/MapView\";\r\nexport * from \"./View/Components/MediaView\";\r\nexport * from \"./View/Components/MessageBox\";\r\nexport * from \"./View/Components/NavBar\";\r\nexport * from \"./View/Components/Page\";\r\nexport * from \"./View/Components/Panel\";\r\nexport * from \"./View/Components/PopUpContent\";\r\nexport * from \"./View/Components/ProgressView\";\r\nexport * from \"./View/Components/PropertyView\";\r\nexport * from \"./View/Components/RemovableItemView\";\r\nexport * from \"./View/Components/SearchView\";\r\nexport * from \"./View/Components/SectionsView\";\r\nexport * from \"./View/Components/SelectableItemView\";\r\nexport * from \"./View/Components/SelfHostedPageHost\";\r\nexport * from \"./View/Components/SimpleItemView\";\r\nexport * from \"./View/Components/SlidePageHost\";\r\nexport * from \"./View/Components/SnackBar\";\r\nexport * from \"./View/Components/StaticMapView\";\r\nexport * from \"./View/Components/TextView\";\r\nexport * from \"./View/Components/Toast\";\r\nexport * from \"./View/Components/VideoView\";\r\nexport * from \"./View/Components/View\";\r\nexport * from \"./View/Components/ViewComponent\";\r\nexport * from \"./View/Components/WebPage\";\r\nexport * from \"./View/Components/WebView\";\r\nexport * from \"./View/Components/WizardView\";\r\nexport * from \"./View/Content/ItemEditContent\";\r\nexport * from \"./View/Content/ItemListContent\";\r\nexport * from \"./View/Content/MapContent\";\r\nexport * from \"./View/Content/MasterDetailsContent\";\r\nexport * from \"./View/Content/MessageContent\";\r\nexport * from \"./View/Editors/ActivityEditor\";\r\nexport * from \"./View/Editors/BaseEditor\";\r\nexport * from \"./View/Editors/BaseItemEditor\";\r\nexport * from \"./View/Editors/BasePicker\";\r\nexport * from \"./View/Editors/BaseTextEditor\";\r\nexport * from \"./View/Editors/BooleanEditor\";\r\nexport * from \"./View/Editors/DateEditor\";\r\nexport * from \"./View/Editors/DateEditorCombo\";\r\nexport * from \"./View/Editors/ItemEditorConverter\";\r\nexport * from \"./View/Editors/ItemsEditor\";\r\nexport * from \"./View/Editors/MediaEditor\";\r\nexport * from \"./View/Editors/MultiItemPicker\";\r\nexport * from \"./View/Editors/NumberEditor\";\r\nexport * from \"./View/Editors/ObjectEditor\";\r\nexport * from \"./View/Editors/PopupEditor\";\r\nexport * from \"./View/Editors/RichTextEditor\";\r\nexport * from \"./View/Editors/SectionEditor\";\r\nexport * from \"./View/Editors/SingleItemPicker\";\r\nexport * from \"./View/Editors/SingleItemSelector\";\r\nexport * from \"./View/Editors/MultiItemSelector\";\r\nexport * from \"./View/Editors/TextEditor\";\r\nexport * from \"./View/Editors/TimeEditor\";\r\nexport * from \"./View/Helpers/Actions\";\r\nexport * from \"./View/Helpers/Animation\";\r\nexport * from \"./View/Helpers/Components\";\r\nexport * from \"./View/Helpers/Decorators\";\r\nexport * from \"./View/Helpers/Editors\";\r\nexport * from \"./View/Helpers/ImageLoade\";\r\nexport * from \"./View/Helpers/Interaction\";\r\nexport * from \"./View/Helpers/ItemsSources\";\r\nexport * from \"./View/Helpers/Loaders\";\r\nexport * from \"./View/Helpers/TypeCheck\";\r\nexport * from \"./View/Helpers/Validators\";\r\nexport * from \"./View/Helpers/VideoLoader\";\r\nexport * from \"./View/Helpers/ViewUtils\";\r\nexport * from \"./View/Items/CachedEditableItemsSource\";\r\nexport * from \"./View/Items/EditableItemsSource\";\r\nexport * from \"./View/Items/FulltemsLoader\";\r\nexport * from \"./View/Items/Item\";\r\nexport * from \"./View/Items/ItemsObserver\";\r\nexport * from \"./View/Items/ItemsSource\";\r\nexport * from \"./View/Items/PagedItemsLoader\";\r\nexport * from \"./View/Layout/ILayout\";\r\nexport * from \"./View/Services/AppContentManager\";\r\nexport * from \"./View/Services/DynamicPageManager\";\r\nexport * from \"./View/Services/IViewStringTable\";\r\nexport * from \"./View/Services/PermissionManager\";\r\nexport * from \"./View/Types/Location\";\r\nexport * from \"./View/Types/Size\";\r\n","﻿export * from \"webapp-core\" ","﻿import { XHRHttpClient, Services, IApplication, IAppArgs } from \"./WebApp\";\r\n\r\nexport class GeoPlotApplication implements IApplication<IAppArgs> {\r\n\r\n    handleError(source: any, error: any, message?: string) {\r\n\r\n    }\r\n\r\n    runAsync(args?: IAppArgs) {\r\n        Services.httpClient = new XHRHttpClient();\r\n        this.baseUrl = args.baseUrl;\r\n        return Promise.resolve();\r\n    }\r\n\r\n    startupArgs: IAppArgs;\r\n\r\n    appName: string;\r\n\r\n    baseUrl: string;\r\n\r\n    isDev: boolean;\r\n\r\n    language: string;\r\n} ","﻿import { IStudioViewModel } from \"./Pages/StudioPage\";\r\nimport { IApiResult } from \"./Types\";\r\nimport { Guid, Http } from \"./WebApp\";\r\n\r\nexport namespace Api {\r\n\r\n    export async function saveState(id: Guid, state: object) {\r\n\r\n        let result = await Http.postJsonAsync<IApiResult<boolean>>(\"~/SaveState/\" + id, state);\r\n        if (!result.isSuccess)\r\n            throw result.error;\r\n        return result.data;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export async function loadState<T>(id: Guid) {\r\n        let result = await Http.getJsonAsync<IApiResult<T>>(\"~/LoadState/\" + id);\r\n        if (!result.isSuccess)\r\n            throw result.error;\r\n        return result.data;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    export async function loadStudioData() {\r\n        return await Http.getJsonAsync<IStudioViewModel>(\"~/StudioData\");\r\n    }\r\n} ","﻿import { IOperation, IOperationConfig, IOperationManager, IOperationProgress, isString, LocalString, OperationType, event } from \"../WebApp\";\r\n\r\nclass BaseOperation implements IOperation {\r\n\r\n    private _progress: IOperationProgress;\r\n    private _type: OperationType;\r\n\r\n    /****************************************/\r\n\r\n    constructor(config: IOperationConfig) {\r\n\r\n        if (!config.type)\r\n            this._type = OperationType.Global;\r\n        else\r\n            this._type = config.type;\r\n\r\n        this.parentOperation = config.parentOperation;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    end(): void {\r\n        Operation.end(this);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get type(): OperationType {\r\n        return this._type;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get progress(): IOperationProgress {\r\n        return this._progress;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    set progress(value: IOperationProgress) {\r\n\r\n        this._progress = value;\r\n\r\n        if (this._progress) {\r\n\r\n            console.log(this.getProgressDescription(this._progress));\r\n\r\n            if (this._progress.message)\r\n                this.message = this._progress.message;\r\n\r\n            Operation.onProgress.raise(this, { operation: this, progress: value });\r\n        }\r\n        else\r\n            this.message = undefined;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addSubOperation(op: IOperation) {\r\n\r\n    }\r\n    /****************************************/\r\n\r\n    removeSubOperation(op: IOperation) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getProgressDescription(value: IOperationProgress): string {\r\n\r\n        let msg = \"Progress (\" + this.message + \"): \";\r\n\r\n        if (value.message)\r\n            msg += \"'\" + value.message + \"'\";\r\n\r\n        if (value.current != null && value.totCount != null)\r\n            msg += \" - \" + value.current + \"/\" + value.totCount + \" (\" + Math.round(100 / value.totCount * value.current) + \"%)\";\r\n        else if (value.current != null)\r\n            msg += value.current;\r\n\r\n        return msg;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    message: LocalString = null;\r\n\r\n    parentOperation: IOperation = null;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class BaseOperationManager implements IOperationManager {\r\n\r\n    private _oprations: IOperation[] = [];\r\n\r\n    progress(progress: IOperationProgress | string) {\r\n\r\n        if (isString(progress))\r\n            progress = <IOperationProgress>{ message: progress };\r\n\r\n        if (this.current)\r\n            this.current.progress = <IOperationProgress>progress;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    begin(configOrMessge: IOperationConfig | string): IOperation {\r\n\r\n        if (isString(configOrMessge))\r\n            configOrMessge = <IOperationProgress>{ message: configOrMessge };\r\n\r\n        let operation = new BaseOperation(configOrMessge);\r\n\r\n        console.group(\"Begin operation: \", $string(<string>operation.message ?? \"\"));\r\n\r\n        operation.progress = configOrMessge;\r\n\r\n        if (operation.parentOperation === undefined)\r\n            operation.parentOperation = this.current;\r\n\r\n        this._oprations.push(operation);\r\n\r\n        if (!operation.parentOperation) {\r\n\r\n            if (operation.type == OperationType.Global) {\r\n\r\n            }\r\n        }\r\n        else\r\n            operation.parentOperation.addSubOperation(operation);\r\n\r\n        this.onBegin.raise(this, operation);\r\n\r\n        return operation;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    end(operation: IOperation) {\r\n\r\n        console.groupEnd();\r\n\r\n        console.log(\"End operation: \", $string(<string>operation.message ?? \"\"));\r\n\r\n        const index = this._oprations.indexOf(operation);\r\n        this._oprations.splice(index, 1);\r\n\r\n        if (operation.parentOperation)\r\n            operation.parentOperation.removeSubOperation(operation);\r\n        else {\r\n            if (operation.type == OperationType.Global) {\r\n            }\r\n        }\r\n        this.onEnd.raise(this, operation);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): IOperation {\r\n        return this._oprations.length > 0 ? this._oprations[this._oprations.length - 1] : null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get operations(): Iterable<IOperation> {\r\n        return this._oprations;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readonly onBegin = event<IOperation>();\r\n    readonly onEnd = event<IOperation>();\r\n    readonly onProgress = event<{ operation: IOperation, progress: IOperationProgress }>();\r\n}\r\n\r\n/****************************************/\r\n\r\n export var Operation: IOperationManager = new BaseOperationManager();\r\n","﻿import { IEnumerator } from \"../WebApp\";\r\n\r\nexport class SplitEnumerator implements IEnumerator<string> {\r\n    protected _separator: string;\r\n    protected _value: string;\r\n    protected _startIndex: number;\r\n    protected _curIndex: number;\r\n    protected _currentStartIndex: number;\r\n    protected _current: string;\r\n\r\n    constructor(value: string, separator: string, startIndex = 0) {\r\n        this._value = value;\r\n        this._separator = separator;\r\n        this._startIndex = startIndex;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): string {\r\n        if (!this._current)\r\n            this._current = this._value.substring(this._currentStartIndex, this._curIndex - this._separator.length);\r\n        return this._current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        if (this._curIndex > this._value.length)\r\n            return false;\r\n\r\n        this._currentStartIndex = this._curIndex;\r\n\r\n        var index = this._value.indexOf(this._separator, this._curIndex);\r\n\r\n        if (index == -1) {\r\n            this._curIndex = this._value.length + 1;\r\n        }\r\n        else\r\n            this._curIndex = index + this._separator.length;\r\n\r\n        this._current = null;\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._curIndex = this._startIndex;\r\n        this._currentStartIndex = this._curIndex;\r\n        this._current = null;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class CsvSplitEnumerator implements IEnumerator<string> {\r\n    protected _state = 0;\r\n    protected _wordLength = 0;\r\n    protected _wordStartIndex: number;\r\n    protected _separator: string;\r\n    protected _value: string;\r\n    protected _startIndex: number;\r\n    protected _curIndex: number;\r\n    protected _current: string;\r\n    protected _hasEscape: boolean;\r\n\r\n    /****************************************/\r\n\r\n    constructor(value: string, separator: string, startIndex = 0) {\r\n        this._value = value;\r\n        this._separator = separator;\r\n        this._startIndex = startIndex;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get current(): string {\r\n        if (!this._current) {\r\n            this._current = this._value.substr(this._wordStartIndex, this._wordLength);\r\n            if (this._hasEscape)\r\n                this._current = this._current.replace(\"\\\"\\\"\", \"\\\"\");\r\n        }\r\n        return this._current;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    moveNext(): boolean {\r\n\r\n        let found = false;\r\n\r\n        while (true) {\r\n            const c = this._curIndex >= this._value.length ? \"\" : this._value[this._curIndex];\r\n            switch (this._state) {\r\n                case 0:\r\n                    if (c == \"\\\"\") {\r\n                        this._state = 1;\r\n                        this._hasEscape = false;\r\n                        this._wordLength = 0;\r\n                        this._wordStartIndex = this._curIndex + 1;\r\n                    }\r\n                    else if (c == this._separator || !c) {\r\n                        this._wordStartIndex = this._curIndex;\r\n                        this._wordLength = 0;\r\n                        found = this._curIndex <= this._value.length;\r\n                    }\r\n                    else {\r\n                        this._state = 2;\r\n                        this._wordLength = 1;\r\n                        this._wordStartIndex = this._curIndex;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (c == \"\\\"\")\r\n                        this._state = 3;\r\n                    else\r\n                        this._wordLength++;\r\n                    break;\r\n                case 2:\r\n                    if (c == this._separator || !c) {\r\n                        this._state = 0;\r\n                        found = true;\r\n                    }\r\n                    else\r\n                        this._wordLength++;\r\n                    break;\r\n                case 3:\r\n                    if (c == \"\\\"\") {\r\n                        this._hasEscape = true;\r\n                        this._wordLength += 2;\r\n                        this._state = 1\r\n                    }\r\n                    else if (c == this._separator || !c) {\r\n                        found = true;\r\n                        this._state = 0;\r\n                    }\r\n                    else\r\n                        this._state = 4;\r\n                    break;\r\n                case 4:\r\n                    if (c == this._separator || !c) {\r\n                        found = true;\r\n                        this._state = 0;\r\n                    }\r\n                    break;\r\n\r\n            }\r\n\r\n            this._curIndex++;\r\n\r\n            if (!c || found)\r\n                break;\r\n        }\r\n\r\n        this._current = null;\r\n\r\n        return found;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset(): void {\r\n        this._hasEscape = false;\r\n        this._curIndex = this._startIndex;\r\n        this._wordStartIndex = this._curIndex;\r\n        this._wordLength = 0;\r\n        this._current = null;\r\n        this._state = 0;\r\n    }\r\n}","﻿/****************************************/\r\n/* IDataAdapter\r\n/****************************************/\r\n\r\nimport { delayAsync } from \"../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts\";\r\nimport { IDictionary, linq } from \"../WebApp\";\r\nimport { Operation } from \"./Operation\";\r\nimport { CsvSplitEnumerator, SplitEnumerator } from \"./SplitEnumerator\";\r\n\r\ntype TextParser<T> = (value: string) => T;\r\n\r\ntype TextFormatter<T> = (value: T) => string;\r\n\r\ninterface IDaColumnAnalisys {\r\n    values: IDictionary<number>;\r\n    booleanCount: number;\r\n    stringCount: number;\r\n    emptyCount: number;\r\n    numberCount: number;\r\n    dateCount: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaSeriePoint {\r\n    x: any;\r\n    y: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaSerie {\r\n    name: string;\r\n    values: IDaSeriePoint[];\r\n    colId: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaGroup {\r\n    name: string;\r\n    colId?: string;\r\n    groups?: IDictionary<IDaGroup>;\r\n    series?: IDictionary<IDaSerie>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaMainGroup extends IDaGroup {\r\n}\r\n\r\n/****************************************/\r\n\r\nexport type IDaTable = IDictionary<any>[];\r\n\r\n/****************************************/\r\n\r\nexport enum DaColumnType {\r\n    Exclude,\r\n    XAxis,\r\n    Serie,\r\n    Group\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaColumnFilter<T> {\r\n\r\n    include?: T[];\r\n    exclude?: T[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaColumn<T> {\r\n\r\n    id: string;\r\n    type: DaColumnType;\r\n    name?: string;\r\n    filter?: IDaColumnFilter<T>;\r\n    parser?: TextParser<T>;\r\n    formatter?: TextFormatter<T>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDaOptions {\r\n    rowsCount?: number;\r\n    columns?: IDaColumn<any>[];\r\n    source?: () => Promise<string>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDataAdapter<TOptions extends IDaOptions> {\r\n\r\n    loadGroupAsync(text: string, options: TOptions): Promise<IDaMainGroup>;\r\n\r\n    loadTableAsync(text: string, options: ITextTableDaOptions, maxItems?: number): Promise<IDaTable>\r\n\r\n    analyzeAsync(text: string, options?: TOptions, maxRows?: number): Promise<TOptions>;\r\n}\r\n\r\n/****************************************/\r\n\r\nabstract class BaseDataAdapter<TOptions extends IDaOptions> implements IDataAdapter<TOptions> {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    abstract loadGroupAsync(text: string, options: TOptions): Promise<IDaMainGroup>;\r\n\r\n    abstract loadTableAsync(text: string, options: TOptions, maxItems?: number): Promise<IDaTable>;\r\n\r\n    abstract analyzeAsync(text: string, options?: TOptions, maxRows?: number): Promise<TOptions>;\r\n}\r\n\r\n/****************************************/\r\n/* TextTableDataAdapter\r\n/****************************************/\r\n\r\nexport interface ITextTableDaOptions extends IDaOptions {\r\n\r\n    hasHeader?: boolean;\r\n    columnSeparator?: string;\r\n    rowSeparator?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class TextTableDataAdapter extends BaseDataAdapter<ITextTableDaOptions> {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createIdentifier(value: string): string {\r\n        let state = 0;\r\n        let result = \"\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            const c = value[i];\r\n            switch (state) {\r\n                case 0:\r\n                    result += c.toLowerCase();\r\n                    state = 1;\r\n                    break;\r\n                case 1:\r\n                    if (c == \" \" || c == \"-\" || c == \"_\")\r\n                        state = 2;\r\n                    else\r\n                        result += c;\r\n                    break;\r\n                case 2:\r\n                    result += c.toUpperCase();\r\n                    state = 1;\r\n                    break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected extractHeader(text: string, options: ITextTableDaOptions) {\r\n\r\n        const firstRow = linq(new SplitEnumerator(text, options.rowSeparator)).first();\r\n        const cols = linq(new CsvSplitEnumerator(firstRow, options.columnSeparator)).toArray();\r\n\r\n        let headers: string[];\r\n\r\n        if (options.hasHeader !== false) {\r\n\r\n            const rowAnal: IDaColumnAnalisys[] = [];\r\n\r\n            this.analyzeRow(cols, rowAnal);\r\n\r\n            const stringCount = linq(rowAnal).sum(a => a.stringCount);\r\n            const emptyCount = linq(rowAnal).sum(a => a.emptyCount);\r\n\r\n            if (stringCount > 0 && stringCount + emptyCount == cols.length) {\r\n                options.hasHeader = true;\r\n\r\n                headers = linq(cols).select((a, i) => {\r\n                    if (a == \"\")\r\n                        return \"col\" + i;\r\n                    return a;\r\n                }).toArray();\r\n            }\r\n        }\r\n\r\n        if (!headers) {\r\n            options.hasHeader = false;\r\n\r\n            headers = linq(cols).select((a, i) => \"col\" + i).toArray();\r\n        }\r\n        if (!options.columns)\r\n            options.columns = linq(headers).select(a => ({ id: this.createIdentifier(a), name: a, type: DaColumnType.Exclude })).toArray();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected extractRowSeparator(text: string, options: ITextTableDaOptions) {\r\n        if (options.rowSeparator)\r\n            return;\r\n\r\n        const items = [\"\\r\\n\", \"\\n\"];\r\n\r\n        for (var item of items) {\r\n            if (text.indexOf(item) != -1) {\r\n                options.rowSeparator = item;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected extractColumnSeparator(text: string, options: ITextTableDaOptions) {\r\n\r\n        if (options.columnSeparator)\r\n            return;\r\n\r\n        const items = [\"\\t\", \";\", \",\", \" \"];\r\n\r\n        const stats = {};\r\n\r\n        const rows = linq(new SplitEnumerator(text, options.rowSeparator)).take(10);\r\n\r\n        for (let row of rows) {\r\n\r\n            if (row.trim().length == 0)\r\n                continue;\r\n\r\n            for (let item of items) {\r\n\r\n                if (stats[item] === false)\r\n                    continue;\r\n\r\n                const cols = linq(new CsvSplitEnumerator(row, item)).count();\r\n\r\n                if (cols > 1 && !(item in stats))\r\n                    stats[item] = cols;\r\n                else {\r\n                    if (stats[item] != cols)\r\n                        stats[item] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (var key in stats) {\r\n            if (stats[key] !== false) {\r\n                options.columnSeparator = key;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected analyzeRow(cols: string[], result: IDaColumnAnalisys[]) {\r\n\r\n        if (result.length == 0) {\r\n            for (let i = 0; i < cols.length; i++) {\r\n                result.push({\r\n                    values: {},\r\n                    booleanCount: 0,\r\n                    dateCount: 0,\r\n                    emptyCount: 0,\r\n                    numberCount: 0,\r\n                    stringCount: 0\r\n                });\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < cols.length; i++)\r\n            this.analyzeColumn(cols[i], result[i]);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected analyzeColumn(value: string, result: IDaColumnAnalisys) {\r\n\r\n        if (!result.values || Object.keys(result.values).length < 150)\r\n            value in result.values ? result.values[value]++ : result.values[value] = 1;\r\n\r\n        if (value == null || value.length == 0 || value.trim().length == 0)\r\n            result.emptyCount++;\r\n\r\n        else if (!isNaN(<any>value))\r\n            result.numberCount++;\r\n\r\n        else if (Date.parse(value))\r\n            result.dateCount++;\r\n\r\n        else if (value == \"true\" || value == \"false\")\r\n            result.booleanCount++;\r\n        else\r\n            result.stringCount++;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createParser(anal: IDaColumnAnalisys): TextParser<any> {\r\n\r\n        if (anal.numberCount > 0 && anal.stringCount == 0)\r\n            return a => isNaN(<any>a) ? null : parseFloat(a);\r\n\r\n        if (anal.booleanCount > 0 && anal.stringCount == 0)\r\n            return a => a == \"true\";\r\n\r\n        if (anal.dateCount > 0 && anal.stringCount == 0)\r\n            return a => !a ? null : new Date(a);\r\n\r\n        if (anal.stringCount > 0)\r\n            return a => {\r\n                if (!a)\r\n                    return \"\";\r\n                if (a.startsWith(\"\\\"\") && a.endsWith(\"\\\"\"))\r\n                    return a.substr(1, a.length - 2);\r\n                return a;\r\n            }\r\n\r\n        return a => null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async analyzeAsync(text: string, options?: ITextTableDaOptions, maxRows?: number): Promise<ITextTableDaOptions> {\r\n\r\n        if (!options)\r\n            options = {};\r\n\r\n        //Separators\r\n        this.extractRowSeparator(text, options);\r\n        this.extractColumnSeparator(text, options);\r\n\r\n        //Header\r\n        this.extractHeader(text, options);\r\n\r\n        //Rows\r\n        let rows = linq(new SplitEnumerator(text, options.rowSeparator));\r\n        if (maxRows)\r\n            rows = rows.take(maxRows);\r\n\r\n        if (options.hasHeader)\r\n            rows = rows.skip(1);\r\n\r\n        let curOp = Operation.begin(\"Analazing rows...\");\r\n\r\n        //col analysis\r\n        const colAnalysis: IDaColumnAnalisys[] = [];\r\n        let rowCount = 0;\r\n\r\n        await rows.foreachAsync(async row => {\r\n            rowCount++;\r\n            this.analyzeRow(linq(new CsvSplitEnumerator(row, options.columnSeparator)).toArray(), colAnalysis);\r\n            if (rowCount % 200 == 0) {\r\n                curOp.progress = { current: rowCount };\r\n                await delayAsync(0);\r\n            }\r\n        });\r\n\r\n        options.rowsCount = rowCount;\r\n\r\n        curOp.end();\r\n\r\n        const columns = linq(options.columns);\r\n\r\n        //Parser\r\n        colAnalysis.forEach((col, i) => {\r\n            if (!options.columns[i].parser)\r\n                options.columns[i].parser = this.createParser(col);\r\n        });\r\n\r\n        //X-axis\r\n        if (!columns.any(a => a.type == DaColumnType.XAxis))\r\n            columns.first(a => a.type == DaColumnType.Exclude).type = DaColumnType.XAxis;\r\n\r\n        //Y-axis\r\n        if (!columns.any(a => a.type == DaColumnType.Serie)) {\r\n            colAnalysis.forEach((col, i) => {\r\n\r\n                if (col.numberCount > 0 && col.stringCount == 0)\r\n                    options.columns[i].type = DaColumnType.Serie;\r\n            });\r\n        }\r\n\r\n        //groups\r\n        if (!columns.any(a => a.type == DaColumnType.Group)) {\r\n\r\n            colAnalysis.forEach((col, i) => {\r\n\r\n                if (col.stringCount > 0 && col.emptyCount == 0) {\r\n                    var values = linq(col.values);\r\n                    if (values.count() > 1 && values.any(a => a.value > 1))\r\n                        options.columns[i].type = DaColumnType.Group;\r\n                }\r\n            });\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    async loadTableAsync(text: string, options: ITextTableDaOptions, maxItems?: number): Promise<IDaTable> {\r\n\r\n        var result: IDaTable = [];\r\n\r\n        var rows = linq(new SplitEnumerator(text, options.rowSeparator));\r\n\r\n        if (options.hasHeader)\r\n            rows = rows.skip(1);\r\n\r\n        for (var row of rows) {\r\n            const cols = linq(new CsvSplitEnumerator(row, options.columnSeparator)).toArray();\r\n\r\n            const item: IDictionary<string> = {};\r\n\r\n            for (let i = 0; i < cols.length; i++) {\r\n                const col = options.columns[i];\r\n                if (col.type == DaColumnType.Exclude)\r\n                    continue;\r\n                item[col.id] = col.parser(cols[i]);\r\n            }\r\n\r\n            result.push(item);\r\n\r\n            if (maxItems && result.length >= maxItems)\r\n                break;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadGroupAsync(text: string, options: ITextTableDaOptions): Promise<IDaMainGroup> {\r\n\r\n        var result: IDaMainGroup = { name: $string(\"$(da-main-group)\") };\r\n        var rows = linq(new SplitEnumerator(text, options.rowSeparator));\r\n\r\n        if (options.hasHeader)\r\n            rows = rows.skip(1);\r\n\r\n        const xColumnIndex = linq(options.columns).where(a => a.type == DaColumnType.XAxis).select((a, i) => i).first();\r\n\r\n        let curOp = Operation.begin(\"Loading groups...\");\r\n        let rowCount = 0;\r\n        let chunkCount;\r\n\r\n        await rows.foreachAsync(async row => {\r\n\r\n            const values = linq(new CsvSplitEnumerator(row, options.columnSeparator)).toArray();\r\n            const xValue = options.columns[xColumnIndex].parser(values[xColumnIndex]);\r\n\r\n            const item: IDictionary<string> = {};\r\n\r\n            let curGroup: IDaGroup = result;\r\n\r\n            for (let i = 0; i < values.length; i++) {\r\n                const col = options.columns[i];\r\n\r\n                if (col.type == DaColumnType.Exclude || col.type == DaColumnType.XAxis)\r\n                    continue;\r\n\r\n                let value = col.parser(values[i]);\r\n\r\n                if (col.type == DaColumnType.Group) {\r\n\r\n                    if (!curGroup.groups)\r\n                        curGroup.groups = {};\r\n\r\n                    if (value === \"\")\r\n                        value = $string(\"<$(empty)>\");\r\n\r\n                    if (!(value in curGroup.groups))\r\n                        curGroup.groups[value] = { name: value, colId: col.id };\r\n\r\n                    curGroup = curGroup.groups[value];\r\n                }\r\n\r\n                else if (col.type == DaColumnType.Serie) {\r\n                    if (!curGroup.series)\r\n                        curGroup.series = {};\r\n\r\n                    if (!(col.id in curGroup.series))\r\n                        curGroup.series[col.id] = { name: col.name, colId: col.id, values: [] };\r\n\r\n                    curGroup.series[col.id].values.push({ x: xValue, y: value });\r\n                }\r\n            }\r\n\r\n            rowCount++;\r\n\r\n            if (rowCount % 200 == 0) {\r\n                curOp.progress = { current: rowCount, totCount: options.rowsCount };\r\n                await delayAsync(0);\r\n            }\r\n        });\r\n\r\n        options.rowsCount = rowCount\r\n\r\n        curOp.end();\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n/* JsonDataAdapter\r\n/****************************************/\r\n\r\nexport interface JsonDaOptions extends IDaOptions {\r\n\r\n    dataPath?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class JsonDataAdapter extends BaseDataAdapter<JsonDaOptions> {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadGroupAsync(text: string, options: JsonDaOptions): Promise<IDaMainGroup> {\r\n\r\n        return null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadTableAsync(text: string, options: JsonDaOptions, maxItems?: number): Promise<IDaTable> {\r\n\r\n        return null;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async analyzeAsync(text: string, options?: JsonDaOptions, maxRows?: number): Promise<JsonDaOptions> {\r\n        return null;\r\n    }\r\n\r\n}","﻿/****************************************/\r\n/* BaseTreeItem\r\n/****************************************/\r\n\r\nimport { addClass, generateId, removeClass } from \"../WebApp\";\r\n\r\nexport class BaseTreeItem implements ITreeItem {\r\n\r\n    constructor() {\r\n        this.canDrag = false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canReadData(transfer: DataTransfer): boolean {\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readData(transfer: DataTransfer) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    writeData(transfer: DataTransfer): boolean {\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachNode(node: TreeNode<ITreeItem>) {\r\n        this.node = node;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove(): void {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onParentChanged(): void {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canAccept(value: object): boolean {\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    name = ko.observable<string>();\r\n    color = ko.observable<string>();\r\n    canDrag: boolean;\r\n    itemType: string;\r\n    icon: string;\r\n    node: TreeNode<ITreeItem>;\r\n}\r\n\r\n/****************************************/\r\n/* ITreeItem\r\n/****************************************/\r\n\r\nexport interface IDataTransferReader {\r\n    canReadData(transfer: DataTransfer): boolean;\r\n    readData(transfer: DataTransfer);\r\n}\r\n\r\nexport interface IDataTransferWriter {\r\n    writeData(transfer: DataTransfer): boolean;\r\n}\r\n\r\nexport interface ITreeItem extends IDataTransferWriter, IDataTransferReader {\r\n\r\n    attachNode(node: TreeNode<ITreeItem>);\r\n    remove(): void;\r\n    onParentChanged(): void;\r\n    canAccept(value: object): boolean;\r\n\r\n    name: KnockoutObservable<string>;\r\n    color?: KnockoutObservable<string>;\r\n\r\n    readonly canDrag: boolean;\r\n    readonly itemType: string;\r\n    readonly icon: string;\r\n    readonly node: TreeNode<ITreeItem>;\r\n}\r\n\r\n/****************************************/\r\n/* ActionViewModel\r\n/****************************************/\r\n\r\nexport class ActionView {\r\n    execute() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    text: string;\r\n    icon: string;\r\n}\r\n\r\n/****************************************/\r\n/* TreeNode\r\n/****************************************/\r\n\r\nexport class TreeNode<T extends ITreeItem> {\r\n\r\n    protected _treeView: TreeView<T>;\r\n    protected _parentNode: TreeNode<T>;\r\n    protected _element: HTMLElement;\r\n    protected _dargEnterCount = 0;\r\n    protected _childLoaded = false;\r\n\r\n    constructor(value?: T) {\r\n\r\n\r\n        this.value(value);\r\n\r\n        this.isExpanded.subscribe(async value => {\r\n\r\n            if (value && !this._childLoaded) {\r\n                await this.loadChildNodes();\r\n                this._childLoaded = true;\r\n            }\r\n        });\r\n\r\n        this.isSelected.subscribe(a => {\r\n\r\n            if (a)\r\n                this._treeView.select(this);\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadChildNodes() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    clear() {\r\n        this._childLoaded = false;\r\n        this.nodes.removeAll();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get element(): HTMLElement {\r\n        return this._element;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachNode(element: HTMLElement) {\r\n\r\n        this._element = element;\r\n        this._element.id = generateId(\"id\");\r\n        this._element[\"$model\"] = this;\r\n\r\n        this._element.addEventListener(\"keydown\", ev => this.onKeyDown(ev));\r\n\r\n        let header = <HTMLElement>this._element.querySelector(\"header\");\r\n\r\n        header.ondragstart = ev => this.onDrag(ev);\r\n        header.ondragover = ev => this.onDragOver(ev);\r\n        header.ondragenter = ev => this.onDragEnter(ev);\r\n        header.ondragleave = ev => this.onDragLeave(ev);\r\n        header.ondrop = ev => this.onDrop(ev);\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected onKeyDown(ev: KeyboardEvent) {\r\n\r\n        if (ev.keyCode == 46 && (<HTMLElement>ev.target).tagName != \"INPUT\") {\r\n            ev.preventDefault();\r\n            if (this.isSelected())\r\n                this.value().remove();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDrag(ev: DragEvent) {\r\n\r\n        if (!this.value().writeData(ev.dataTransfer) || !this.value().canDrag) {\r\n            ev.preventDefault();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragEnter(ev: DragEvent) {\r\n        this._dargEnterCount++;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragLeave(ev: DragEvent) {\r\n        this._dargEnterCount--;\r\n        if (this._dargEnterCount == 0)\r\n            removeClass(this._element, \"drop\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragOver(ev: DragEvent) {\r\n        ev.preventDefault();\r\n\r\n        if (this._dargEnterCount == 1) {\r\n\r\n            let canDrop = true;\r\n\r\n            if (!this.value().canReadData(ev.dataTransfer))\r\n                canDrop = false;\r\n\r\n            if (canDrop) {\r\n                if (ev.ctrlKey)\r\n                    ev.dataTransfer.dropEffect = \"copy\";\r\n                else\r\n                    ev.dataTransfer.dropEffect = \"move\";\r\n\r\n                addClass(this._element, \"drop\");\r\n            }\r\n            else\r\n                ev.dataTransfer.dropEffect = \"move\";\r\n\r\n        }\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected onDrop(ev: DragEvent) {\r\n        ev.preventDefault();\r\n\r\n        this._dargEnterCount = 0;\r\n\r\n        removeClass(this._element, \"drop\");\r\n\r\n        const elId = ev.dataTransfer.getData(\"text/html+id\");\r\n\r\n        if (elId) {\r\n\r\n            const element = document.getElementById(elId);\r\n            const node = <TreeNode<ITreeItem>>element[\"$model\"];\r\n\r\n            if (!this.value().canAccept(node.value()))\r\n                return;\r\n\r\n            if (ev.ctrlKey) {\r\n\r\n            }\r\n            else {\r\n                if (node._parentNode == this)\r\n                    return;\r\n                node._parentNode.nodes.remove(node);\r\n                node._parentNode = this;\r\n                this.nodes.push(<any>node);\r\n                this.isExpanded(true);\r\n                node.value().onParentChanged();\r\n                return;\r\n            }\r\n        }\r\n        else\r\n            this.value().readData(ev.dataTransfer);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove() {\r\n\r\n        if (this._parentNode)\r\n            this._parentNode.nodes.remove(this);\r\n\r\n        if (this._treeView.selectedNode() == this)\r\n            this._treeView.select(null);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addNode(node: TreeNode<T>) {\r\n        node.attach(this._treeView, this);\r\n        this.nodes.push(node);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attach(treeView: TreeView<T>, parent?: TreeNode<T>) {\r\n        this._treeView = treeView;\r\n        this._parentNode = parent;\r\n        for (let childNode of this.nodes())\r\n            childNode.attach(treeView);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get parentNode(): TreeNode<T> {\r\n        return this._parentNode;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toggleVisible() {\r\n        this.isVisible(!this.isVisible());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    select(expand = false) {\r\n        this.isSelected(true);\r\n        if (this._element)\r\n            this._element.focus();\r\n        if (expand) {\r\n            let curNode: TreeNode<ITreeItem> = this;\r\n            while (curNode) {\r\n                curNode.isExpanded(true);\r\n                curNode = curNode.parentNode;\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    expandCollapse() {\r\n        this.isExpanded(!this.isExpanded());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    nodes = ko.observableArray<TreeNode<T>>();\r\n    value = ko.observable<T>();\r\n    isSelected = ko.observable(false);\r\n    isVisible = ko.observable(true);\r\n    isExpanded = ko.observable(false);\r\n    actions = ko.observable<ActionView[]>();\r\n}\r\n\r\n/****************************************/\r\n/* TreeView\r\n/****************************************/\r\n\r\nexport class TreeView<T extends ITreeItem> {\r\n\r\n    private _selectedNode: TreeNode<T>;\r\n\r\n    /****************************************/\r\n\r\n    select(node: TreeNode<T>) {\r\n\r\n        if (this.selectedNode() == node)\r\n            return;\r\n\r\n        if (this.selectedNode())\r\n            this.selectedNode().isSelected(false);\r\n\r\n        this.selectedNode(node);\r\n\r\n        if (this.selectedNode())\r\n            this.selectedNode().isSelected(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setRoot(node: TreeNode<T>) {\r\n        node.attach(this);\r\n        this.root(node);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    root = ko.observable<TreeNode<T>>();\r\n    selectedNode = ko.observable<TreeNode<T>>();\r\n}","﻿\r\n/****************************************/\r\n/* FileDragDrop\r\n/****************************************/\r\n\r\nimport { delayAsync, formatDate, linq } from \"../../../../Eusoft/WebApp/src/Eusoft.WebApp/Scripts\";\r\nimport { DaColumnType, IDaColumn, IDaGroup, IDaOptions, IDaSerie, IDataAdapter, ITextTableDaOptions, TextTableDataAdapter } from \"../Framework/DataAdapter\";\r\nimport { Operation } from \"../Framework/Operation\";\r\nimport { ITextValue } from \"../Types\";\r\nimport { addClass, IOperation, IOperationProgress, removeClass } from \"../WebApp\";\r\nimport { BaseTreeItem, ITreeItem, TreeNode, TreeView } from \"./TreeView\";\r\n\r\nexport class FileDragDrop {\r\n\r\n    protected _element: HTMLElement;\r\n    protected _dargEnterCount = 0;\r\n\r\n    /****************************************/\r\n\r\n    attachNode(element: HTMLElement) {\r\n\r\n        this._element = element;\r\n        element.ondragover = ev => this.onDragOver(ev);\r\n        element.ondrop = ev => this.onDrop(ev);\r\n        element.ondragenter = ev => this.onDragEnter(ev);\r\n        element.ondragleave = ev => this.onDragLeave(ev);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onFileDropped(content: string) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragEnter(ev: DragEvent) {\r\n        this._dargEnterCount++;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragLeave(ev: DragEvent) {\r\n        this._dargEnterCount--;\r\n        if (this._dargEnterCount == 0)\r\n            removeClass(this._element, \"drop\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onDragOver(ev: DragEvent) {\r\n        ev.preventDefault();\r\n\r\n        if (this._dargEnterCount == 1)\r\n            addClass(this._element, \"drop\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async onDrop(ev: DragEvent) {\r\n        ev.preventDefault();\r\n\r\n        this._dargEnterCount = 0;\r\n\r\n        removeClass(this._element, \"drop\");\r\n        if (ev.dataTransfer.files.length == 1) {\r\n            const file = ev.dataTransfer.files[0];\r\n            if (file.name.toLowerCase().endsWith(\".csv\")) {\r\n                const text = await ev.dataTransfer.files[0].text();\r\n                this.onFileDropped(text);\r\n                return;\r\n            }\r\n        }\r\n        M.toast({ html: $string(\"$(msg-not-supported-only-csv)\") })\r\n    }\r\n}\r\n\r\n/****************************************/\r\n/* ProgressViewModel\r\n/****************************************/\r\n\r\ntype ProgressStatus = \"hidden\" | \"indefinite\" | \"show\";\r\n\r\nexport class ProgressViewModel {\r\n\r\n    _showCount = 0;\r\n\r\n    /****************************************/\r\n\r\n    constructor() {\r\n        this.status(\"hidden\");\r\n        Operation.onBegin.add((s, op) => this.show(op));\r\n        Operation.onEnd.add((s, op) => this.hide(op));\r\n        Operation.onProgress.add((s, data) => this.update(data.operation, data.progress));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    show(op: IOperation) {\r\n        if (this._showCount == 0) {\r\n            this.status(\"indefinite\");\r\n            this.percentage(100);\r\n        }\r\n        this.message(<string>op.message);\r\n        this._showCount++;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    update(op: IOperation, progress: IOperationProgress) {\r\n\r\n        this.message(op[\"getProgressDescription\"](progress));\r\n        if (progress.totCount != undefined && progress.current != undefined) {\r\n            this.percentage(Math.min(100, (progress.current / progress.totCount) * 100));\r\n            this.status(\"show\");\r\n        }\r\n        else {\r\n            this.status(\"show\");\r\n            this.percentage(100);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hide(op: IOperation) {\r\n        this._showCount--;\r\n        if (this._showCount == 0) {\r\n            //this.message(\"\");\r\n            this.status(\"hidden\");\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    message = ko.observable<string>();\r\n    percentage = ko.observable<number>();\r\n    status = ko.observable<ProgressStatus>();\r\n}\r\n\r\n/****************************************/\r\n/* DataImportControl\r\n/****************************************/\r\n\r\nexport interface IDataImportSerieSource {\r\n    type: \"data-import\";\r\n    options: IDaOptions;\r\n    groups?: { id: string, value: string }[];\r\n    serie: IDaSerie;\r\n    source?: string;\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\ninterface ITableViewModel {\r\n\r\n    header: string[];\r\n    rows: string[][];\r\n}\r\n\r\n/****************************************/\r\n\r\nclass ColumnViewModel<T> {\r\n\r\n    constructor(value: IDaColumn<T>) {\r\n        this.types = [\r\n            { text: $string(\"$(exclude)\"), value: DaColumnType.Exclude },\r\n            { text: $string(\"$(x-axis)\"), value: DaColumnType.XAxis },\r\n            { text: $string(\"$(serie)\"), value: DaColumnType.Serie },\r\n            { text: $string(\"$(group)\"), value: DaColumnType.Group }\r\n        ];\r\n\r\n        this.value = value;\r\n        this.type(value.type);\r\n        this.alias(value.name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value: IDaColumn<T>;\r\n    alias = ko.observable<string>();\r\n    type = ko.observable();\r\n    types: ITextValue<DaColumnType>[];\r\n}\r\n\r\n/****************************************/\r\n\r\nclass GroupItem extends BaseTreeItem {\r\n\r\n    constructor(value: IDaGroup) {\r\n        super();\r\n        this.value = value;\r\n        this.icon = \"folder\";\r\n        this.itemType = \"group\";\r\n        this.color(\"#ffc107\");\r\n        this.name(value.name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachNode(node: TreeNode<ITreeItem>) {\r\n        super.attachNode(node);\r\n        node.isVisible.subscribe(value => {\r\n            for (var childNode of this.node.nodes())\r\n                childNode.isVisible(value);\r\n        })\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    value: IDaGroup;\r\n}\r\n\r\n/****************************************/\r\n\r\nclass SerieItem extends BaseTreeItem {\r\n\r\n    constructor(value: IDaSerie) {\r\n        super();\r\n        this.value = value;\r\n        this.icon = \"insert_chart\";\r\n        this.itemType = \"serie\";\r\n        this.color(\"#4caf50\");\r\n        this.name(value.name);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value: IDaSerie;\r\n    colId: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class DataImportControl {\r\n\r\n    private _model: M.Modal;\r\n    private _adapter: IDataAdapter<IDaOptions>;\r\n    private _text: string;\r\n    private _options: ITextTableDaOptions;\r\n    private _onGetData: (data: IDataImportSerieSource[]) => void;\r\n\r\n    constructor() {\r\n\r\n        this.columnSeparators = [\r\n            { text: $string(\"$(tab-key)\"), value: \"\\t\" },\r\n            { text: \",\", value: \",\" },\r\n            { text: \";\", value: \";\" },\r\n            { text: $string(\"$(sapce-key)\"), value: \" \" }\r\n        ];\r\n\r\n        this.treeView.setRoot(new TreeNode<any>());\r\n        this.treeView.selectedNode.subscribe(a => this.onNodeSelected(a));\r\n\r\n        this.fileDrop.onFileDropped = text => this.importText(text);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async importText(text: string, options?: ITextTableDaOptions): Promise<boolean> {\r\n\r\n        M.toast({ html: $string(\"$(msg-start-analysis)\") })\r\n\r\n        this.hasData(true);\r\n\r\n        await delayAsync(0);\r\n\r\n        this._text = text;\r\n        this._adapter = new TextTableDataAdapter();\r\n        this._options = await this._adapter.analyzeAsync(this._text, options, 5000);\r\n\r\n        if (!this._options.columnSeparator || !this._options.rowSeparator || !this._options.columns || this._options.columns.length < 2)\r\n            return false;\r\n\r\n        this.hasHeader(this._options.hasHeader);\r\n        this.columnSeparator(this._options.columnSeparator);\r\n\r\n        const cols: ColumnViewModel<any>[] = [];\r\n\r\n        for (let col of this._options.columns) {\r\n            var model = new ColumnViewModel(col);\r\n            cols.push(model);\r\n        }\r\n\r\n        this.columns(cols);\r\n\r\n        await this.updatePreview();\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async getSelectedData(): Promise<IDataImportSerieSource[]> {\r\n\r\n        const result: IDataImportSerieSource[] = [];\r\n        await this.getSelectedDataWork(this.treeView.root(), [], result);\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async getSelectedDataWork(node: TreeNode<ITreeItem>, groups: { id: string, value: string }[], result: IDataImportSerieSource[]) {\r\n\r\n        if (!node.isVisible())\r\n            return;\r\n\r\n        if (node.value() instanceof SerieItem) {\r\n            const serie = (<SerieItem>node.value()).value;\r\n            const source: IDataImportSerieSource = {\r\n                type: \"data-import\",\r\n                options: this._options,\r\n                serie: serie,\r\n                groups: groups\r\n            };\r\n            result.push(source);\r\n            return;\r\n        }\r\n\r\n        if (!node.isExpanded())\r\n            await node.loadChildNodes();\r\n\r\n        if (node.value() instanceof GroupItem) {\r\n\r\n            const group = (<GroupItem>node.value()).value;\r\n\r\n            let newGroups = groups.slice(0, groups.length);\r\n            newGroups.push({ id: group.colId, value: group.name });\r\n\r\n            groups = newGroups;\r\n        }\r\n\r\n        for (let childNode of node.nodes())\r\n            await this.getSelectedDataWork(childNode, groups, result);\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    async executeImport() {\r\n        const data = await this.getSelectedData();\r\n        if (this._onGetData) {\r\n            this._onGetData(data);\r\n            this._onGetData = null;\r\n        }\r\n        this._model.close();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async applyChanges() {\r\n        this._options.hasHeader = this.hasHeader();\r\n        this._options.columnSeparator = this.columnSeparator();\r\n        this._options.columns.forEach((col, i) => {\r\n            col.name = this.columns()[i].alias();\r\n            col.type = this.columns()[i].type();\r\n        });\r\n\r\n        await this.updatePreview(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async updateGroups() {\r\n\r\n        const group = await this._adapter.loadGroupAsync(this._text, this._options);\r\n\r\n        let childNode = new TreeNode<ITreeItem>(new GroupItem(group));\r\n\r\n        this.treeView.root().clear();\r\n        this.treeView.root().addNode(childNode);\r\n        childNode.value().attachNode(childNode);\r\n\r\n        this.updateNode(childNode, group);\r\n\r\n        childNode.isExpanded(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateNode(node: TreeNode<ITreeItem>, group: IDaGroup) {\r\n\r\n        node.clear();\r\n\r\n        if (group.groups) {\r\n            for (let item of linq(group.groups)) {\r\n                let childNode = new TreeNode<ITreeItem>(new GroupItem(item.value));\r\n                childNode.loadChildNodes = async () => this.updateNode(childNode, item.value);\r\n                node.addNode(childNode);\r\n                childNode.value().attachNode(childNode);\r\n            }\r\n        }\r\n\r\n        if (group.series) {\r\n            for (let item of linq(group.series)) {\r\n                let childNode = new TreeNode<ITreeItem>(new SerieItem(item.value));\r\n                node.addNode(childNode);\r\n                childNode.value().attachNode(childNode);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async updateTable() {\r\n\r\n        const result = await this._adapter.loadTableAsync(this._text, this._options, 50);\r\n\r\n        const table: ITableViewModel = {\r\n            header: linq(this._options.columns).where(a => a.type != DaColumnType.Exclude).select(a => a.name).toArray(),\r\n            rows: linq(result).select(a => linq(a).select(b => this.format(b.value)).toArray()).toArray()\r\n        }\r\n\r\n        this.table(table);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected format(value: any): string {\r\n        if (typeof value == \"number\")\r\n            return formatNumber(value);\r\n        if (typeof value == \"boolean\")\r\n            return $string(value ? \"$(yes)\" : \"$(no)\");\r\n        if (value instanceof Date)\r\n            return formatDate(value, $string(\"$(date-format)\"));\r\n        return value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async updatePreview(force = false) {\r\n\r\n        if (force || this._options.rowsCount < 5000 - 1)\r\n            await this.updateGroups();\r\n        else\r\n            this.treeView.root().clear();\r\n\r\n        await this.updateTable();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onNodeSelected(node: TreeNode<ITreeItem>) {\r\n\r\n        if (node && node.value() instanceof SerieItem) {\r\n\r\n            const serie = (<SerieItem>node.value()).value;\r\n            const xColumn = linq(this._options.columns).where(a => a.type == DaColumnType.XAxis).select(a => a.name).first();\r\n\r\n            const table: ITableViewModel = {\r\n                header: [xColumn, serie.name],\r\n                rows: linq(serie.values).take(50).select(a => [this.format(a.x), this.format(a.y)]).toArray()\r\n            }\r\n            this.table(table);\r\n        }\r\n        else\r\n            this.table(null);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    show(): Promise<IDataImportSerieSource[]> {\r\n\r\n        if (!this._model) {\r\n            this._model = M.Modal.init(document.getElementById(\"dataImport\"), {\r\n                onCloseEnd: el => {\r\n                    if (this._onGetData)\r\n                        this._onGetData([]);\r\n                    this.reset();\r\n                }\r\n            });\r\n        }\r\n\r\n        this._model.open();\r\n\r\n        return new Promise(res => this._onGetData = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    reset() {\r\n        this._text = null;\r\n        this._options = null;\r\n        this._onGetData = null;\r\n        this.hasData(false);\r\n        this.treeView.root().clear();\r\n        this.table(null);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async importUrl() {\r\n        const op = Operation.begin($string(\"$(msg-download-progress)\"));\r\n        try {\r\n            let request = await fetch(this.sourceUrl());\r\n            if (request.ok) {\r\n                const text = await request.text();\r\n                if (text) {\r\n                    this.importText(text);\r\n                    return;\r\n                }\r\n            }\r\n            M.toast({ html: $string(\"$(msg-download-error): \" + request.statusText) });\r\n        }\r\n        finally {\r\n            op.end();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    hasHeader = ko.observable<boolean>();\r\n    columnSeparator = ko.observable<string>();\r\n    columns = ko.observable<ColumnViewModel<any>[]>();\r\n    columnSeparators: ITextValue<string>[];\r\n    table = ko.observable<ITableViewModel>();\r\n    treeView = new TreeView<ITreeItem>();\r\n    progress = new ProgressViewModel();\r\n    hasData = ko.observable(false);\r\n    sourceUrl = ko.observable<string>();\r\n    fileDrop = new FileDragDrop();\r\n}","﻿import { IInfectionData } from \"../Data/InfectionDataSet\";\r\nimport { IndicatorCalculator } from \"../Indicators\";\r\nimport { IFunctionPoint } from \"../Types\";\r\nimport { IDictionary, linq } from \"../WebApp\";\r\nimport { ITreeItem } from \"./TreeView\";\r\n\r\ntype TData = IInfectionData;\r\n\r\ntype GraphVarMap = IDictionary<string>;\r\n\r\nexport interface IGraphItem {\r\n\r\n    attachGraph(ctx: GraphContext);\r\n    updateGraphVisibility(recursive?: boolean);\r\n    updateGraph(recursive?: boolean);\r\n    folderId: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class GraphContext {\r\n\r\n    setExpressions(values: Desmos.Expression[]) {\r\n\r\n        const state = this.calculator.getState();\r\n\r\n        for (let value of values) {\r\n\r\n            const curExp = <Desmos.IFolderExpression>linq(state.expressions.list).first(a => a.id == value.id);\r\n            if (!curExp)\r\n                state.expressions.list.push(value);\r\n            else {\r\n                for (let prop of Object.getOwnPropertyNames(value))\r\n                    curExp[prop] = value[prop];\r\n            }\r\n        }\r\n\r\n        const groups = linq(state.expressions.list).where(a => a.type != \"folder\").groupBy(a => a.folderId ? a.folderId : \"\").toDictionary(a => a.key, a => a.values.toArray());\r\n\r\n        const newList = [];\r\n\r\n        for (let folder of linq(state.expressions.list).where(a => a.type == \"folder\")) {\r\n            newList.push(folder);\r\n            const items = groups[folder.id];\r\n            if (items)\r\n                for (let item of items)\r\n                    newList.push(item);\r\n        }\r\n\r\n        const items = groups[\"\"];\r\n        if (items)\r\n            for (let item of items)\r\n                newList.push(item);\r\n\r\n        state.expressions.list = newList;\r\n\r\n        this.calculator.setState(state);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setSelectedId(id: string) {\r\n        if (this.calculator.controller.listModel.selectedItem && this.calculator.controller.listModel.selectedItem.id == id)\r\n            return;\r\n        this.calculator.controller.dispatch({ type: \"set-selected-id\", id: id });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setColor(id: string, color: string) {\r\n        this.calculator.controller.dispatch({ type: \"set-item-color\", id: id, color: color });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateTable(id: string, values: IFunctionPoint[]) {\r\n        const exp = <Desmos.ITableExpression>linq(this.calculator.getExpressions()).where(a => a.id == id).first();\r\n        if (exp) {\r\n            exp.columns[0].values = linq(values).select(a => a.x.toString()).toArray();\r\n            exp.columns[1].values = linq(values).select(a => a.y.toString()).toArray();\r\n            this.calculator.setExpression(exp);\r\n        }\r\n        /*\r\n\r\n        this.calculator.setExpression({\r\n            id: id,\r\n            type: \"table\",\r\n            columns: [\r\n                {\r\n                    values: linq(values).select(a => a.x.toString()).toArray()\r\n                },\r\n                {\r\n                    values: linq(values).select(a => a.y.toString()).toArray(),\r\n                    hidden: false\r\n                },\r\n            ]\r\n        });*/\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateExpression(value: Desmos.Expression) {\r\n        //const exp = <Desmos.IMathExpression>linq(this.calculator.getExpressions()).where(a => a.id == value.id).first();\r\n        /*if (exp) {\r\n            for (let prop of Object.getOwnPropertyNames(value))\r\n                exp[prop] = value[prop];\r\n            this.calculator.setExpression(exp);\r\n        }*/\r\n        this.calculator.setExpression(value);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateVariable(id: string, varName, value: number) {\r\n        if (!varName)\r\n            return;\r\n        this.updateExpression(<Desmos.IMathExpression>{ id: id, latex: varName + \"=\" + value.toString() });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    expressionZoomFit(id: string) {\r\n        this.calculator.controller.dispatch({ type: \"expression-zoom-fit\", id: id });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setItemVisibile(id: string, value: boolean) {\r\n        this.updateExpression(<any>{ id: id, hidden: !value });\r\n        //this.calculator.controller._setItemHidden(id, !value);\r\n        //this.calculator.updateSettings({});\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    generateVars(map: GraphVarMap) {\r\n\r\n        for (let key in map) {\r\n            if (!map[key])\r\n                map[key] = this.generateVar(key);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    generateVar(prefix = \"a\"): string {\r\n        if (!this.vars[prefix[0]])\r\n            this.vars[prefix[0]] = 0;\r\n        this.vars[prefix[0]]++;\r\n        return prefix[0] + \"_{\" + this.vars[prefix[0]] + \"}\";\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    serieCalculator: IndicatorCalculator<TData>;\r\n    calculator: Desmos.IGraphingCalculator;\r\n    vars: IDictionary<number> = {};\r\n    treeItems: IDictionary<ITreeItem> = {};\r\n}\r\n","﻿import { ParameterViewModel } from \"../Pages/StudioPage\";\r\nimport { apply, IDictionary, linq, Linq, uuidv4 } from \"../WebApp\";\r\nimport { GraphContext, IGraphItem } from \"./GraphContext\";\r\nimport { ActionView, BaseTreeItem, ITreeItem, TreeNode } from \"./TreeView\";\r\n\r\nexport interface IStudioItemConfig {\r\n    name?: string;\r\n    color?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioItemState extends IStudioItemConfig {\r\n    folderId?: string;\r\n    visible?: boolean;\r\n    opened?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport abstract class BaseStudioItem<TState extends IStudioItemState, TParent extends ITreeItem & IGraphItem, TChild extends ITreeItem & IGraphItem> extends BaseTreeItem implements IGraphItem {\r\n\r\n    protected _graphCtx: GraphContext;\r\n    protected _varsMap: IDictionary<string>;\r\n    protected _isUpdating = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createActions(result: ActionView[]) {\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(delete)\");\r\n            action.icon = \"delete\";\r\n            action.execute = () => this.remove();\r\n        }))\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setState(state: TState) {\r\n\r\n        this._isUpdating++;\r\n\r\n        if (state.name)\r\n            this.name(state.name);\r\n\r\n        if (state.visible != undefined)\r\n            this.node.isVisible(state.visible);\r\n\r\n        if (state.color)\r\n            this.color(state.color);\r\n\r\n        if (state.opened != undefined)\r\n            this.node.isExpanded(state.opened);\r\n\r\n        if (state.folderId)\r\n            this.folderId = state.folderId;\r\n\r\n        this.setStateWork(state);\r\n\r\n        this.updateGraph();\r\n\r\n        this.setChildrenStateWork(state);\r\n\r\n        this._isUpdating--;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): TState {\r\n\r\n        return <TState>{\r\n            name: this.name(),\r\n            visible: this.node.isVisible(),\r\n            folderId: this.folderId,\r\n            color: this.color(),\r\n            opened: this.node.isExpanded()\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getVar(name: string): string {\r\n\r\n        return this._varsMap[name];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    remove(recursive = true) {\r\n\r\n        if (this._graphCtx) {\r\n            this._graphCtx.calculator.removeExpression({ id: this.getGraphId(\"private\") });\r\n            this._graphCtx.calculator.removeExpression({ id: this.getGraphId(\"public\") });\r\n        }\r\n        this.node.remove();\r\n\r\n        if (recursive)\r\n            this.children.foreach(a => a.remove());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachNode(node: TreeNode<ITreeItem>) {\r\n        this.node = node;\r\n        this.node.isVisible.subscribe(value => this.updateGraphVisibility());\r\n        this.node.isSelected.subscribe(value => {\r\n            if (value)\r\n                this.onSelected();\r\n        })\r\n        const actions: ActionView[] = [];\r\n        this.createActions(actions);\r\n        this.node.actions(actions);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachGraph(ctx: GraphContext) {\r\n        this._graphCtx = ctx;\r\n\r\n        this._graphCtx.calculator.observe(\"expressionAnalysis\", () => this.onGraphChanged());\r\n        this.color.subscribe(value => this.updateColor());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isFullVisible(): boolean {\r\n        let curNode = this.node;\r\n\r\n        while (curNode) {\r\n            if (!curNode.isVisible())\r\n                return false;\r\n            curNode = curNode.parentNode;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateGraphVisibility(recorsive = true): boolean {\r\n\r\n        const visible = this.isFullVisible();\r\n\r\n        this._graphCtx.setItemVisibile(this.getGraphId(\"public\"), visible);\r\n        this._graphCtx.setItemVisibile(this.getGraphId(\"private\"), visible);\r\n\r\n        if (recorsive)\r\n            this.children.foreach(a => a.updateGraphVisibility());\r\n\r\n        return visible;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateGraph(recursive = true) {\r\n\r\n        if (!this._graphCtx)\r\n            return;\r\n\r\n        if (!this.folderId)\r\n            this.folderId = uuidv4();\r\n\r\n        this._graphCtx.treeItems[this.folderId] = this;\r\n\r\n        const values = this.getExpressions();\r\n\r\n        this._graphCtx.setExpressions(values);\r\n\r\n        this.updateGraphWork();\r\n\r\n        this.updateGraphVisibility();\r\n\r\n        this.updateParameters();\r\n\r\n        if (recursive)\r\n            this.children.foreach(a => a.updateGraph(recursive));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onParentChanged() {\r\n        this.updateGraphVisibility();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get parent(): TParent {\r\n        return <TParent>this.node.parentNode.value();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get children(): Linq<TChild> {\r\n        return linq(this.node.nodes()).select(a => <TChild>a.value());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected abstract setStateWork(state: TState);\r\n\r\n    protected abstract getExpressions(): Desmos.Expression[];\r\n\r\n    /****************************************/\r\n\r\n    protected replaceVars(value: string): string {\r\n        for (let item in this._varsMap) {\r\n            const reg = new RegExp(\"\\\\$\" + item, \"g\");\r\n            value = value.replace(reg, this._varsMap[item]);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getGraphId(section: string) {\r\n        return this.folderId + \"/\" + section;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected addChildrenWork(value: TChild, updateGraph = true): TChild {\r\n\r\n        const node = new TreeNode(value);\r\n\r\n        this.node.addNode(node);\r\n\r\n        value.attachNode(node);\r\n\r\n        value.attachGraph(this._graphCtx);\r\n\r\n        if (updateGraph)\r\n            value.updateGraph();\r\n\r\n        value.onParentChanged();\r\n\r\n        return value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createParameters(result: ParameterViewModel[]): boolean {\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateParameters() {\r\n        const values: ParameterViewModel[] = [];\r\n        if (this.createParameters(values)) {\r\n            this.parameters.removeAll();\r\n            values.forEach(a => this.parameters.push(a));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateGraphWork() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setChildrenStateWork(state: TState) {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onSelected() {\r\n        if (this.mainExpression && this._graphCtx)\r\n            this._graphCtx.setSelectedId(this.mainExpression);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onGraphChanged() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateColor() {\r\n\r\n    }\r\n\r\n    get mainExpression(): string {\r\n        return undefined;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    folderId: string;\r\n    time = ko.observable(0);\r\n    optionsTemplateName: string;\r\n    parameters = ko.observableArray<ParameterViewModel>();\r\n}","﻿import { linq } from \"../WebApp\";\r\n\r\ntype Color = string;\r\n\r\nexport interface IGeometry {\r\n\r\n}\r\n\r\nexport interface IRect2D extends IGeometry {\r\n    x: number;\r\n    y: number\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPoint2D extends IGeometry {\r\n    x: number;\r\n    y: number\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IPoly2D extends IGeometry {\r\n    points: IPoint2D[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDrawGeometry<T extends IGeometry> {\r\n    id: string;\r\n    geometry: T;\r\n    fillColor?: Color;\r\n    strokeColor?: Color;\r\n    strokeSize?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IGradientColor {\r\n    value: string | RgbColor;\r\n    position?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class LinearGradient {\r\n\r\n    constructor(...values: (string | RgbColor)[]) {\r\n        if (values.length > 0) {\r\n\r\n            if (typeof values[0] == \"string\")\r\n                this.colors = linq(values).select(a => new RgbColor(<string>a)).toArray();\r\n            else\r\n                this.colors = <RgbColor[]>values;\r\n        }\r\n        else\r\n            this.colors = [];\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    valueAt(pos: number): RgbColor {\r\n\r\n        if (pos < 0)\r\n            return this.colors[0];\r\n        if (pos > 1)\r\n            this.colors[this.colors.length - 1];\r\n\r\n        const stepSize = 1 / (this.colors.length - 1);\r\n        const minX = Math.floor(pos / stepSize);\r\n        const maxX = Math.ceil(pos / stepSize);\r\n        const minOfs = (pos - minX * stepSize) / stepSize;\r\n\r\n        const c1 = this.colors[minX];\r\n        const c2 = this.colors[maxX];\r\n\r\n        const c3 = new RgbColor();\r\n        c3.r = c1.r + (c2.r - c1.r) * minOfs;\r\n        c3.g = c1.g + (c2.g - c1.g) * minOfs;\r\n        c3.b = c1.b + (c2.b - c1.b) * minOfs;\r\n        return c3;\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    colors: RgbColor[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class RgbColor {\r\n\r\n    constructor(value?: string) {\r\n        if (value)\r\n            this.fromHex(value);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    fromHex(value: string) {\r\n        if (value.length == 4) {\r\n            this.r = parseInt(\"0x\" + value[1] + value[1]) / 255;\r\n            this.g = parseInt(\"0x\" + value[2] + value[2]) / 255;\r\n            this.b = parseInt(\"0x\" + value[3] + value[3]) / 255;\r\n        }\r\n        else {\r\n            this.r = parseInt(\"0x\" + value[1] + value[2]) / 255;\r\n            this.g = parseInt(\"0x\" + value[3] + value[4]) / 255;\r\n            this.b = parseInt(\"0x\" + value[5] + value[6]) / 255;\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    toString() {\r\n        function toHex(value: number) {\r\n            let res = Math.round(value * 255).toString(16);\r\n            if (res.length == 1)\r\n                return \"0\" + res;\r\n            return res;\r\n        }\r\n        return \"#\" + toHex(this.r) + toHex(this.g) + toHex(this.b);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    r: number = 0;\r\n    g: number = 0;\r\n    b: number = 0;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class Graphics {\r\n\r\n    _svg: SVGSVGElement;\r\n\r\n    constructor(svg: SVGSVGElement) {\r\n\r\n        this._svg = svg;\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setViewPort(minX: number, minY: number, maxX: number, maxY: number) {\r\n        this._svg.viewBox.baseVal.x = minX;\r\n        this._svg.viewBox.baseVal.y = minY;\r\n        this._svg.viewBox.baseVal.width = maxX - minX;\r\n        this._svg.viewBox.baseVal.height = maxY - minY;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    drawPoly(poly: IDrawGeometry<IPoly2D>) {\r\n\r\n        var polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\r\n        polygon.style.fill = poly.fillColor;\r\n        polygon.style.stroke = poly.strokeColor;\r\n        polygon.style.strokeWidth = poly.strokeSize + \"%\";\r\n        polygon.id = poly.id;\r\n\r\n        for (let i = 0; i < poly.geometry.points.length; i++) {\r\n            let point = this._svg.createSVGPoint();\r\n            point.x = poly.geometry.points[i].x;\r\n            point.y = poly.geometry.points[i].y\r\n            polygon.points.appendItem(point);\r\n        }\r\n\r\n        this._svg.appendChild(polygon);\r\n    }\r\n}","﻿import { RangeDayAreaDataSet } from \"./Data/RangeDayAreaDataSet\";\r\nimport { IDataSet, IDayAreaSerieSource, IFactorFunction, IFunctionPoint, IGeoArea, IGeoAreaSet, IIndicatorFunction } from \"./Types\";\r\nimport { DictionaryOf, IDictionary, linq, sumNull } from \"./WebApp\";\r\n\r\nexport class ConstIndicatorFunction<TData> implements IIndicatorFunction<TData> {\r\n    private readonly _value: (value: TData, area?: IGeoArea) => number;\r\n\r\n    constructor(value: (value: TData, area?: IGeoArea) => number) {\r\n        this._value = value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(main: TData, delta: TData, exMain: TData[], exDelta: TData[], area: IGeoArea): number {\r\n        let result = this._value(main, area);\r\n        if (exMain) {\r\n            for (var i in exMain)\r\n                result = sumNull(result, -this.value(exMain[i], exDelta[i], null, null, area));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SimpleIndicatorFunction<TData> implements IIndicatorFunction<TData> {\r\n    private readonly _value: (value: TData, area?: IGeoArea) => number;\r\n\r\n    constructor(value: (value: TData, area?: IGeoArea) => number) {\r\n        this._value = value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(main: TData, delta: TData, exMain: TData[], exDelta: TData[], area: IGeoArea): number {\r\n        var result = this._value(main, area);\r\n        if (delta)\r\n            result -= this._value(delta, area);\r\n        if (exMain) {\r\n            for (var i in exMain)\r\n                result -= this.value(exMain[i], exDelta[i], null, null, area);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class CombineIndicatorFunction<TData, TDic extends IDictionary<IIndicatorFunction<TData>>> implements IIndicatorFunction<TData> {\r\n\r\n    private readonly _value: (values: DictionaryOf<TDic, number>) => number\r\n    private readonly _indicators: TDic;\r\n\r\n    constructor(indicators: TDic, value: (values: DictionaryOf<TDic, number>) => number) {\r\n        this._value = value;\r\n        this._indicators = indicators;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(main: TData, delta: TData, exMain: TData[], exDelta: TData[], area: IGeoArea): number {\r\n\r\n        const value: DictionaryOf<TDic, number> = <any>{};\r\n\r\n        for (var key in this._indicators)\r\n            value[key] = this._indicators[key].value(main, delta, exMain, exDelta, area);\r\n\r\n        return this._value(value);\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class SimpleFactorFunction<TData> implements IFactorFunction<TData> {\r\n    private readonly _value: (indicator: number, value?: TData, area?: IGeoArea) => number;\r\n\r\n    constructor(value: (indicator: number, value?: TData, area?: IGeoArea) => number) {\r\n        this._value = value;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(main: TData[], delta: TData[], exMain: TData[][], exDelta: TData[][], area: IGeoArea, indicator: IIndicatorFunction<TData>): number {\r\n        let curValue: number;\r\n        for (var i in main)\r\n            curValue = sumNull(curValue, indicator.value(main[i], delta[i], exMain[i], exDelta[i], area));\r\n        return this._value(curValue, main[0], area);\r\n    }\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class DoubleFactorFunction<TData> implements IFactorFunction<TData> {\r\n    private readonly _value: (indicator: number, factor: number) => number;\r\n    private readonly _factor: IIndicatorFunction<TData>;\r\n\r\n    constructor(value: (indicator: number, factor: number) => number, factor: IIndicatorFunction<TData>) {\r\n        this._value = value;\r\n        this._factor = factor;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value(main: TData[], delta: TData[], exMain: TData[][], exDelta: TData[][], area: IGeoArea, indicator: IIndicatorFunction<TData>): number {\r\n        let curValue: number;\r\n        let curFactor: number;\r\n        for (var i in main) {\r\n            curValue = sumNull(curValue, indicator.value(main[i], delta[i], exMain[i], exDelta[i], area));\r\n            curFactor = sumNull(curFactor, this._factor.value(main[i], delta[i], exMain[i], exDelta[i], area));\r\n        }\r\n        return this._value(curValue, curFactor);\r\n    }\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\ninterface IComputeIndicatorOptions<TData> {\r\n    dayNumber: number;\r\n    areaOrId: string | IGeoArea;\r\n    indicatorId: keyof TData | string;\r\n    isDayDelta?: boolean;\r\n    execludedAreas?: string[];\r\n}\r\n\r\ninterface IComputeFactorOptions<TData> {\r\n    factorId: string;\r\n    indicatorId: string;\r\n    dayNumberOrGroup: number | number[];\r\n    areaOrId: string | IGeoArea;\r\n    isDayDelta?: boolean;\r\n    execludedAreas?: string[];\r\n    isAvg?: boolean;\r\n}\r\n\r\n\r\nexport class IndicatorCalculator<TData> {\r\n\r\n    constructor(data: RangeDayAreaDataSet<TData>, dataSet: IDataSet<TData>, geo: IGeoAreaSet) {\r\n        this.data = data;\r\n        this.dataSet = dataSet;\r\n        this.geo = geo;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getDataAtDay(number: number, curAreaId: string): TData {\r\n        if (number < 0)\r\n            return undefined;\r\n        const day = this.data.get(number);\r\n        if (day) {\r\n            const data = day.values[curAreaId]\r\n            if (data)\r\n                return data;\r\n        }\r\n        return this.dataSet.empty;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getFactorValue(options: IComputeFactorOptions<TData>) {\r\n\r\n\r\n        if (options.isAvg && typeof (options.dayNumberOrGroup) == \"number\") {\r\n            let sum: number = 0;\r\n            \r\n            const startVal = this.getFactorValue({ ...options, isAvg: false })\r\n\r\n            for (let d = options.dayNumberOrGroup - 6; d <= options.dayNumberOrGroup; d++) {\r\n                const value = d < 1 ? 0 : this.getFactorValue({ ...options, dayNumberOrGroup: d, isAvg: false });\r\n                sum += value;\r\n            }\r\n            return sum / 7;\r\n        }\r\n       \r\n        const areaId = (typeof options.areaOrId == \"string\" ? options.areaOrId : options.areaOrId.id).toLowerCase();\r\n\r\n        let dayGroup: number[];\r\n        if (!Array.isArray(options.dayNumberOrGroup))\r\n            dayGroup = [options.dayNumberOrGroup];\r\n        else\r\n            dayGroup = options.dayNumberOrGroup;\r\n\r\n        let main: TData[] = [];\r\n        let delta: TData[] = [];\r\n        let exMain: TData[][] = [];\r\n        let exDelta: TData[][] = [];\r\n\r\n        for (var dayNumber of dayGroup) {\r\n\r\n            main.push(this.getDataAtDay(dayNumber, areaId));\r\n\r\n            if (options.isDayDelta)\r\n                delta.push(this.getDataAtDay(dayNumber - 1, areaId));\r\n\r\n            if (options.execludedAreas) {\r\n                var curExMain = [];\r\n                var curExDelta = [];\r\n                for (var exAreaId of options.execludedAreas) {\r\n                    curExMain.push(this.getDataAtDay(dayNumber, exAreaId.toLowerCase()));\r\n                    if (options.isDayDelta)\r\n                        curExDelta.push(this.getDataAtDay(dayNumber - 1, exAreaId.toLowerCase()));\r\n                }\r\n                exMain.push(curExMain)\r\n                exDelta.push(curExDelta)\r\n            }\r\n        }\r\n\r\n        const factor = linq(this.dataSet.factors).first(a => a.id == options.factorId);\r\n        const indicator = linq(this.dataSet.indicators).first(a => a.id == options.indicatorId);\r\n\r\n        return factor.compute.value(main, delta, exMain, exDelta, this.geo.areas[areaId], indicator.compute);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getIndicatorValue(options: IComputeIndicatorOptions<TData>) {\r\n\r\n        const areaId = (typeof options.areaOrId == \"string\" ? options.areaOrId : options.areaOrId.id).toLowerCase();\r\n\r\n        const indicator = linq(this.dataSet.indicators).first(a => a.id == options.indicatorId);\r\n\r\n        let main = this.getDataAtDay(options.dayNumber, areaId);\r\n        let delta: TData;\r\n        let exMain: TData[];\r\n        let exDelta: TData[];\r\n\r\n        if (options.isDayDelta)\r\n            delta = this.getDataAtDay(options.dayNumber - 1, areaId);\r\n\r\n        if (options.execludedAreas) {\r\n            exMain = [];\r\n            exDelta = [];\r\n            for (var exAreaId of options.execludedAreas) {\r\n                exMain.push(this.getDataAtDay(options.dayNumber, exAreaId.toLowerCase()));\r\n                if (options.isDayDelta)\r\n                    exDelta.push(this.getDataAtDay(options.dayNumber - 1, exAreaId.toLowerCase()));\r\n            };\r\n        }\r\n\r\n        return indicator.compute.value(main, delta, exMain, exDelta, this.geo.areas[areaId]);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getSerie<TX extends Date | number>(source: IDayAreaSerieSource): IFunctionPoint[] {\r\n\r\n        const result: IFunctionPoint[] = [];\r\n\r\n        let index = source.startDay + (source.isDelta ? 1 : 0);\r\n\r\n        let lastItem: IFunctionPoint;\r\n\r\n        if (source.groupSize > 1) {\r\n\r\n            let count = source.groupSize;\r\n            let group: number[] = [];\r\n            this.data.days.skip(index).foreach((day) => {\r\n                group.push(index);\r\n                count--;\r\n                if (count == 0) {\r\n                    const item: IFunctionPoint = {\r\n                        x: (source.xAxis == \"date\" ? new Date(day.date) : index),\r\n                        y: this.getFactorValue({\r\n                            dayNumberOrGroup: source.isDelta ? group : index,\r\n                            areaOrId: source.areaId,\r\n                            factorId: source.factorId,\r\n                            indicatorId: source.indicatorId,\r\n                            execludedAreas: source.exeludedAreaIds,\r\n                            isDayDelta: source.isDelta\r\n                        })\r\n                    };\r\n                    result.push(<any>item);\r\n                    count = source.groupSize;\r\n                    group = [];\r\n                }\r\n                index++;\r\n            });\r\n        }\r\n        else {\r\n\r\n            this.data.days.skip(index).foreach((day) => {\r\n\r\n                const item: IFunctionPoint = {\r\n                    x: (source.xAxis == \"date\" ? new Date(day.date) : index),\r\n                    y: this.getFactorValue({\r\n                        dayNumberOrGroup: index,\r\n                        areaOrId: source.areaId,\r\n                        factorId: source.factorId,\r\n                        indicatorId: source.indicatorId,\r\n                        execludedAreas: source.exeludedAreaIds,\r\n                        isDayDelta: source.isDelta,\r\n                        isAvg: source.isAvg\r\n                    })\r\n                };\r\n\r\n                result.push(<any>item);\r\n                index++;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n    data: RangeDayAreaDataSet<TData>;\r\n    dataSet: IDataSet<TData>;\r\n    geo: IGeoAreaSet;\r\n}","﻿import { LinearGradient } from \"../Framework/Graphics\";\r\nimport { CombineIndicatorFunction, ConstIndicatorFunction, DoubleFactorFunction, SimpleFactorFunction, SimpleIndicatorFunction } from \"../Indicators\";\r\nimport { IDataSet } from \"../Types\";\r\nimport { Dictionary, divideNull, isNaNOrNull, round } from \"../WebApp\";\r\n\r\nexport interface IInfectionData {\r\n    totalPositive: number;\r\n    currentPositive: number;\r\n    totalDeath: number;\r\n    totalSevere: number;\r\n    totalHospedalized: number;\r\n    totalHealed: number;\r\n    toatlTests: number;\r\n    totalCaseTested: number;\r\n    historicDeaths: Dictionary<number>;\r\n    newICU: number;\r\n    totalAntigenicPositive: number;\r\n    totalAntigenicTests: number;\r\n    totalMolecularPositive: number;\r\n    totalMolecularTests: number;\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nexport var InfectionDataSet: IDataSet<IInfectionData> = {\r\n\r\n    name: \"COVID-19\",\r\n    empty: {\r\n        currentPositive: undefined,\r\n        historicDeaths: { \"2015\": undefined, \"2016\": undefined, \"2017\": undefined, \"2018\": undefined, \"2019\": undefined, \"2020\": undefined },\r\n        toatlTests: undefined,\r\n        totalDeath: undefined,\r\n        totalHealed: undefined,\r\n        totalHospedalized: undefined,\r\n        totalPositive: undefined,\r\n        totalSevere: undefined,\r\n        totalCaseTested: undefined,\r\n        newICU: undefined,\r\n        totalAntigenicPositive: undefined,\r\n        totalAntigenicTests: undefined,\r\n        totalMolecularPositive: undefined,\r\n        totalMolecularTests: undefined,\r\n    },\r\n    indicators: [\r\n        {\r\n            id: \"totalPositive\",\r\n            name: $string(\"$(total-positive)\"),\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            validFor: [\"region\", \"country\", \"district\"],\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalPositive)\r\n        },\r\n        {\r\n            id: \"totalAntigenicPositive\",\r\n            name: $string(\"$(antigenic-positive)\"),\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            validFor: [\"region\", \"country\"],\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalAntigenicPositive)\r\n        },\r\n        {\r\n            id: \"totalMolecularPositive\",\r\n            name: $string(\"$(molecular-positive)\"),\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            validFor: [\"region\", \"country\"],\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalMolecularPositive)\r\n        },\r\n        {\r\n            id: \"currentPositive\",\r\n            name: $string(\"$(current-positive)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#e91e63\",\r\n            colorDark: \"#880e4f\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.currentPositive)\r\n        },\r\n        {\r\n            id: \"totalDeath\",\r\n            name: $string(\"$(death)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalDeath)\r\n        },\r\n        {\r\n            id: \"totalSevere\",\r\n            name: $string(\"$(severe)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#ff9800\",\r\n            colorDark: \"#e65100\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalSevere)\r\n        },\r\n        {\r\n            id: \"newICU\",\r\n            name: $string(\"$(newICU)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#ff9800\",\r\n            colorDark: \"#e65100\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.newICU)\r\n        },\r\n        {\r\n            id: \"totalHospedalized\",\r\n            name: $string(\"$(hospedalized)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#fdd835\",\r\n            colorDark: \"#fbc02d\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalHospedalized)\r\n        },\r\n        {\r\n            id: \"totalHealed\",\r\n            name: $string(\"$(healed)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#4caf50\",\r\n            colorDark: \"#1b5e20\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalHealed)\r\n        },\r\n        {\r\n            id: \"toatlTests\",\r\n            name: $string(\"$(tested)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#03a9f4\",\r\n            colorDark: \"#01579b\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.toatlTests)\r\n        },\r\n        {\r\n            id: \"totalCaseTested\",\r\n            name: $string(\"$(caseTested)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#03a9f4\",\r\n            colorDark: \"#01579b\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalCaseTested)\r\n        },\r\n        {\r\n            id: \"totalMolecularTests\",\r\n            name: $string(\"$(molecularTests)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#03a9f4\",\r\n            colorDark: \"#01579b\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalMolecularTests)\r\n        },\r\n        {\r\n            id: \"totalAntigenicTests\",\r\n            name: $string(\"$(antigenicTests)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            colorLight: \"#03a9f4\",\r\n            colorDark: \"#01579b\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a => a.totalAntigenicTests)\r\n        },\r\n        {\r\n            id: \"surface\",\r\n            name: $string(\"$(surface) ($(geo))\"),\r\n            validFor: [\"region\", \"district\"],\r\n            colorLight: \"#777\",\r\n            colorDark: \"#222\",\r\n            showInFavorites: false,\r\n            compute: new ConstIndicatorFunction((v, a) => round(a.surface, 0))\r\n        },\r\n        {\r\n            id: \"density\",\r\n            name: $string(\"$(density) ($(geo))\"),\r\n            validFor: [\"region\", \"district\"],\r\n            colorLight: \"#777\",\r\n            colorDark: \"#222\",\r\n            showInFavorites: false,\r\n            compute: new ConstIndicatorFunction((v, a) => round(a.demography.total / a.surface, 0))\r\n        },\r\n\r\n        {\r\n            id: \"death2021\",\r\n            name: $string(\"$(total-death) +60 (2021)*\"),\r\n            validFor: [\"details\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a =>\r\n                a.historicDeaths ? a.historicDeaths[\"2021\"] : undefined)\r\n        },\r\n        {\r\n            id: \"death2020\",\r\n            name: $string(\"$(total-death) +60 (2020)\"),\r\n            validFor: [\"details\", \"region\", \"district\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a =>\r\n                a.historicDeaths ? a.historicDeaths[\"2020\"] : undefined)\r\n        },\r\n        {\r\n            id: \"death2019\",\r\n            name: $string(\"$(total-death) +60 (2019)\"),\r\n            validFor: [\"region\", \"district\", \"details\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: true,\r\n            compute: new SimpleIndicatorFunction(a =>\r\n                a.historicDeaths ? a.historicDeaths[\"2019\"] : undefined)\r\n        },\r\n        {\r\n            id: \"death2018\",\r\n            name: $string(\"$(total-death) +60 (2018)\"),\r\n            validFor: [\"region\", \"district\", \"details\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: false,\r\n            compute: new SimpleIndicatorFunction(a =>\r\n                a.historicDeaths ? a.historicDeaths[\"2018\"] : undefined)\r\n        },\r\n        {\r\n            id: \"death2017\",\r\n            name: $string(\"$(total-death) +60 (2017)\"),\r\n            validFor: [\"region\", \"district\", \"details\"],\r\n            colorLight: \"#9c27b0\",\r\n            colorDark: \"#4a148c\",\r\n            showInFavorites: false,\r\n            compute: new SimpleIndicatorFunction(a =>\r\n                a.historicDeaths ? a.historicDeaths[\"2017\"] : undefined)\r\n        },\r\n        {\r\n            id: \"death-diff-2020-2019\",\r\n            name: $string(\"DIff. decessi 2020-19\"),\r\n            validFor: [\"details\"],\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            gradient: new LinearGradient(\"#00c853\", \"#bdbdbd\", \"#ff1744\"),\r\n            canBeNegative: true,\r\n            compute: new CombineIndicatorFunction({\r\n                death2019: new SimpleIndicatorFunction(a => a.historicDeaths[2019]),\r\n                death2020: new SimpleIndicatorFunction(a => a.historicDeaths[2020]),\r\n            }, values => isNaNOrNull(values.death2020) || isNaNOrNull(values.death2019) ? undefined : (values.death2020 - values.death2019))\r\n        },\r\n        {\r\n            id: \"death-diff-2021-2020\",\r\n            name: $string(\"DIff. decessi 2021-20\"),\r\n            validFor: [\"details\"],\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            gradient: new LinearGradient(\"#00c853\", \"#bdbdbd\", \"#ff1744\"),\r\n            canBeNegative: true,\r\n            compute: new CombineIndicatorFunction({\r\n                death2020: new SimpleIndicatorFunction(a => a.historicDeaths[2020]),\r\n                death2021: new SimpleIndicatorFunction(a => a.historicDeaths[2021]),\r\n            }, values => isNaNOrNull(values.death2021) || isNaNOrNull(values.death2020) ? undefined : (values.death2021 - values.death2020))\r\n        },\r\n        {\r\n            id: \"population\",\r\n            name: $string(\"$(population) ($(geo))\"),\r\n            validFor: [\"region\", \"district\", \"details\", \"country\"],\r\n            colorLight: \"#777\",\r\n            colorDark: \"#222\",\r\n            showInFavorites: false,\r\n            compute: new ConstIndicatorFunction((v, a) => a.demography.total)\r\n        },\r\n        {\r\n            id: \"populationOld\",\r\n            name: $string(\"$(population) +65 ($(geo))\"),\r\n            validFor: [\"region\", \"district\", \"country\"],\r\n            colorLight: \"#777\",\r\n            colorDark: \"#222\",\r\n            showInFavorites: false,\r\n            compute: new ConstIndicatorFunction((v, a) => a.demography.over65)\r\n        },\r\n\r\n        /*,\r\n        {\r\n            id: \"extimated-death\",\r\n            name: $string(\"Morti stimati\"),\r\n            validFor: [\"country\"],\r\n            colorLight: \"#f44336\",\r\n            colorDark: \"#b71c1c\",\r\n            compute: new CombineIndicatorFunction({\r\n                totalPositive: new SimpleIndicatorFunction(a => a.totalPositive),\r\n                toatlTests: new SimpleIndicatorFunction(a => a.toatlTests),\r\n                dailyDeath: new ConstIndicatorFunction((v, a) => 1450)\r\n            }, values => Math.round((values.totalPositive / values.toatlTests) * values.dailyDeath))\r\n        },\r\n        {\r\n            id: \"healed-death\",\r\n            name: $string(\"$(death) + $(healed)\"),\r\n            validFor: [\"country\", \"region\"],\r\n            colorLight: \"#4caf50\",\r\n            colorDark: \"#1b5e20\",\r\n            compute: new CombineIndicatorFunction({\r\n                totalHealed: new SimpleIndicatorFunction(a => a.totalHealed),\r\n                totalDeath: new SimpleIndicatorFunction(a => a.totalDeath)\r\n            }, values => values.totalHealed + values.totalDeath)\r\n        }*/\r\n    ],\r\n    factors: [\r\n        {\r\n            id: \"none\",\r\n            name: $string(\"$(none)\"),\r\n            compute: new SimpleFactorFunction((i, v, a) => i),\r\n            format: a => formatNumber(a),\r\n            reference: (v, a) => \"N/A\",\r\n            description: $string(\"[indicator]\")\r\n        },\r\n        {\r\n            id: \"population\",\r\n            validFor: [\"region\", \"country\", \"details\", \"district\"],\r\n            name: $string(\"$(population)\"),\r\n            compute: new SimpleFactorFunction((i, v, a) => divideNull(i, a.demography.total) * 100000),\r\n            format: a => formatNumber(a),\r\n            reference: (v, a) => formatNumber(a.demography.total),\r\n            description: $string(\"[indicator] $(every-100k)\")\r\n        },\r\n        {\r\n            id: \"populationOld\",\r\n            validFor: [\"region\", \"country\", \"district\"],\r\n            name: $string(\"$(population) +65\"),\r\n            compute: new SimpleFactorFunction((i, v, a) => divideNull(i, a.demography.over65) * 100000),\r\n            format: a => formatNumber(round(a, 1)),\r\n            reference: (v, a) => formatNumber(a.demography.over65),\r\n            description: $string(\"[indicator] $(every-100k) +65\")\r\n        },\r\n        {\r\n            id: \"density\",\r\n            name: $string(\"$(density)\"),\r\n            validFor: [\"region\", \"country\", \"district\"],\r\n            compute: new SimpleFactorFunction((i, v, a) => divideNull(i, divideNull(a.demography.total, a.surface)) * 100000),\r\n            format: a => formatNumber(round(a, 1)),\r\n            reference: (v, a) => formatNumber(round(a.demography.total / a.surface, 1)),\r\n            description: $string(\"[indicator] $(over-density)\")\r\n        },\r\n        {\r\n            id: \"totalPositive\",\r\n            name: $string(\"$(total-positive)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.totalPositive)),\r\n            format: a => round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.totalPositive),\r\n            description: $string(\"% [indicator] $(over-total-positive)\")\r\n        },\r\n        {\r\n            id: \"currentPositive\",\r\n            name: $string(\"$(current-positive)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.currentPositive)),\r\n            format: a => round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.totalPositive),\r\n            description: $string(\"% [indicator] $(over-current-positive)\")\r\n        },\r\n        {\r\n            id: \"severe\",\r\n            name: $string(\"$(severe)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.totalSevere)),\r\n            format: a => round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.totalSevere),\r\n            description: $string(\"% [indicator] $(over-severe)\")\r\n        },\r\n        {\r\n            id: \"test\",\r\n            name: $string(\"$(tested)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.toatlTests)),\r\n            format: a => round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.toatlTests),\r\n            description: $string(\"% [indicator] $(over-tested)\")\r\n        },\r\n        {\r\n            id: \"caseTested\",\r\n            name: $string(\"$(caseTested)\"),\r\n            validFor: [\"region\", \"country\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.totalCaseTested)),\r\n            format: a => round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.totalCaseTested),\r\n            description: $string(\"% [indicator] $(over-case-tested)\")\r\n        },\r\n        {\r\n            id: \"death2019Perc\",\r\n            name: $string(\"$(total-death) +60 (2019)\"),\r\n            validFor: [\"details\"],\r\n            compute: new DoubleFactorFunction((i, f) => isNaNOrNull(i) ? undefined : (i / f) * 100, new SimpleIndicatorFunction(v => v.historicDeaths[2019])),\r\n            format: a => isNaNOrNull(a) ? \"N/A\" : (a > 0 ? \"+\" : \"\") + round(a, 1) + \"%\",\r\n            reference: (v, a) => formatNumber(v.historicDeaths[2019]),\r\n            description: $string(\"% [indicator] $(over-tested)\")\r\n        },\r\n    ]\r\n};","﻿import { IDayAreaDataSet, IDayAreaGroupItem } from \"../Types\";\r\nimport { linq, Linq } from \"../WebApp\";\r\n\r\nexport class RangeDayAreaDataSet<TData>  {\r\n\r\n    protected _days: IDayAreaGroupItem<TData>[];\r\n\r\n    constructor(data: IDayAreaDataSet<TData>) {\r\n        this._days = data.days;\r\n    }\r\n\r\n    get days(): Linq<IDayAreaGroupItem<TData>> {\r\n        const startIndex = this.startDay ?? 0;\r\n        const endIndex = this.endDay ?? this._days.length - 1;\r\n        return linq(this._days).skip(startIndex).take(endIndex - startIndex + 1);\r\n    }\r\n\r\n    get(index: number | string): IDayAreaGroupItem<TData> {\r\n        index = typeof index == \"string\" ? parseInt(index) : index;\r\n        return this._days[(this.startDay ?? 0) + index];\r\n    }\r\n\r\n    get count(): number {\r\n        const startIndex = this.startDay ?? 0;\r\n        const endIndex = this.endDay ?? this._days.length - 1;\r\n        return endIndex - startIndex + 1;\r\n    }\r\n\r\n    startDay?: number;\r\n    endDay?: number;\r\n}","﻿import { IDataImportSerieSource } from \"./Components/DataImport\";\r\nimport { ViewMode } from \"./Data/ViewModes\";\r\nimport { IPoly2D, IRect2D, LinearGradient } from \"./Framework/Graphics\";\r\nimport { IDictionary } from \"./WebApp\";\r\n\r\nexport enum AggregationFunc {\r\n    SUm,\r\n    Avg\r\n}\r\n\r\nexport interface IGeoPoint {\r\n    lat: number;\r\n    lng: number;\r\n}\r\n\r\nexport interface IDayAreaGroupItem<TValue> {\r\n    date: string;\r\n    values: IDictionary<TValue>;\r\n}\r\n\r\nexport interface IDayAreaDataSet<TData> {\r\n    days: IDayAreaGroupItem<TData>[];\r\n}\r\n\r\nexport enum GeoAreaType {\r\n    Continent = 0,\r\n    CountryGroup = 1,\r\n    Country = 2,\r\n    State = 3,\r\n    Region = 4,\r\n    District = 5,\r\n    Municipality = 6\r\n}\r\n\r\nexport enum Gender {\r\n    All,\r\n    Male,\r\n    Female\r\n}\r\n\r\nexport interface IAggregateDemography {\r\n    total: number;\r\n    male?: number;\r\n    female?: number;\r\n    over65?: number;\r\n}\r\n\r\nexport interface IGeoArea {\r\n    id: string;\r\n    name: string;\r\n    demography: IAggregateDemography;\r\n    surface: number;\r\n    type: GeoAreaType;\r\n    geography: IPoly2D[];\r\n    parentId: string;\r\n}\r\n\r\nexport interface IGeoAreaSet {\r\n    viewBox: IRect2D;\r\n    areas: IDictionary<IGeoArea>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IIndicatorFunction<TData> {\r\n    value(main: TData, delta: TData, exMain: TData[], exDelta: TData[], area: IGeoArea): number;\r\n}\r\n\r\nexport interface IFactorFunction<TData> {\r\n    value(main: TData[], delta: TData[], exMain: TData[][], exDelta: TData[][], area: IGeoArea, indicator: IIndicatorFunction<TData>): number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IIndicator<TData> {\r\n    id: keyof TData | string;\r\n    name: string;\r\n    description?: string;\r\n    validFor?: ViewMode[];\r\n    colorLight?: string;\r\n    colorDark?: string;\r\n    gradient?: LinearGradient;\r\n    canBeNegative?: boolean;\r\n    showInFavorites?: boolean;\r\n    compute: IIndicatorFunction<TData>;\r\n}\r\n\r\nexport interface IFactor<TData> {\r\n    id: string;\r\n    name: string;\r\n    validFor?: ViewMode[];\r\n    compute: IFactorFunction<TData>;\r\n    format: (value: number) => string,\r\n    reference: (value: TData, area: IGeoArea) => any;\r\n    description: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IDataSet<TData> {\r\n    name: string;\r\n    empty: TData;\r\n    indicators: IIndicator<TData>[];\r\n    factors: IFactor<TData>[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport type SerieSource = IDayAreaSerieSource | IDataImportSerieSource;\r\n\r\n/****************************************/\r\n\r\nexport interface IDayAreaSerieSource {\r\n    type: \"geoplot\";\r\n    areaId: string;\r\n    exeludedAreaIds?: string[];\r\n    indicatorId: string;\r\n    factorId?: string;\r\n    groupSize?: number;\r\n    startDay?: number;\r\n    endDay?: number;\r\n    isDelta?: boolean;\r\n    isAvg?: boolean;\r\n    xAxis: \"dayNumber\" | \"date\";\r\n    range?: {\r\n        start: number,\r\n        end: number\r\n    };\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IFunctionPoint {\r\n    x: number | Date;\r\n    y: number;\r\n    xLabel?: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IApiResult<T> {\r\n    error: string;\r\n    data: T;\r\n    isSuccess: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface ITextValue<TValue> {\r\n    text: string;\r\n    value: TValue;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport const MATERIAL_COLORS = {\r\n    \"red\": { \"600\": \"#f44336\" },\r\n    \"pink\": { \"600\": \"#e91e63\" },\r\n    \"purple\": { \"600\": \"#9c27b0\" },\r\n    \"deep_purple\": { \"600\": \"#673ab7\" },\r\n    \"indigo\": { \"600\": \"#3f51b5\" },\r\n    \"blue\": { \"600\": \"#2196f3\" },\r\n    \"light_blue\": { \"600\": \"#03a9f4\" },\r\n    \"cyan\": { \"600\": \"#00bcd4\" },\r\n    \"teal\": { \"600\": \"#009688\" },\r\n    \"green\": { \"600\": \"#4caf50\" },\r\n    \"light_green\": { \"600\": \"#8bc34a\" },\r\n    \"lime\": { \"600\": \"#cddc39\" },\r\n    \"yellow\": { \"600\": \"#ffeb3b\" },\r\n    \"amber\": { \"600\": \"#ffc107\" },\r\n    \"orange\": { \"600\": \"#ff9800\" },\r\n    \"depp_orange\": { \"600\": \"#ff5722\" },\r\n    \"brown\": { \"600\": \"#795548\" },\r\n    \"grey\": { \"600\": \"#9e9e9e\" },\r\n    \"blue_gray\": { \"600\": \"#607d8b\" },\r\n};\r\n\r\n\r\ndeclare function gtag(...args: any);","﻿import { MATERIAL_COLORS } from \"../Types\";\r\n\r\ninterface IColorViewModel {\r\n    select(): void;\r\n    value: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ColorPicker {\r\n\r\n    private _onSelected: (color: string) => void;\r\n    private _element: HTMLElement;\r\n    private _mouseDown: (ev: MouseEvent) => void;\r\n\r\n    /****************************************/\r\n\r\n    constructor() {\r\n        for (var color in MATERIAL_COLORS)\r\n            this.addColor(MATERIAL_COLORS[color][600]);\r\n        this._mouseDown = ev => this.onMouseDown(ev);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachNode(element: HTMLElement) {\r\n        this._element = element;\r\n        document.body.appendChild(this._element);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async pick(): Promise<string> {\r\n        await this.open();\r\n        return new Promise(res => this._onSelected = res);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addColor(color: string) {\r\n        this.colors.push({\r\n            value: color,\r\n            select: () => {\r\n                if (this._onSelected)\r\n                    this._onSelected(color);\r\n                this._onSelected = null;\r\n                this.close();\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async open() {\r\n\r\n        if (this.isOpened())\r\n            return;\r\n\r\n        this.isOpened(true);\r\n\r\n        if (window.event) {\r\n            const mouseEvent = <MouseEvent>window.event;\r\n            const coords = { x: mouseEvent.pageX, y: mouseEvent.pageY };\r\n            //await PromiseUtils.delay(0);\r\n            this._element.style.left = coords.x + \"px\";\r\n            this._element.style.top = (coords.y - this._element.clientHeight) + \"px\";\r\n        }\r\n        document.body.addEventListener(\"mousedown\", this._mouseDown);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    close() {\r\n        if (!this.isOpened())\r\n            return;\r\n\r\n        this.isOpened(false);\r\n\r\n        document.body.removeEventListener(\"mousedown\", this._mouseDown);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onMouseDown(ev: MouseEvent) {\r\n\r\n        if ((<HTMLElement>ev.target).parentElement != this._element) {\r\n            if (this._onSelected)\r\n                this._onSelected(undefined);\r\n            this._onSelected = null;\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    isOpened = ko.observable(false);\r\n    colors: IColorViewModel[] = [];\r\n\r\n    static readonly instance = new ColorPicker();\r\n}","﻿import { ParameterViewModel } from \"../Pages/StudioPage\";\r\nimport * as Desmos from \"desmos\";\r\nimport { apply, IDictionary, linq, round } from \"../WebApp\";\r\nimport { BaseStudioItem, IStudioItemConfig, IStudioItemState } from \"./BaseStudioItem\";\r\nimport { StudioSerie } from \"./StudioSerie\";\r\n\r\nexport type RegressionFunctionType = \"linear\" | \"exponential\" | \"normal\" | \"log-normal\";\r\n\r\nfunction pSBCr(d) {\r\n    let r, g, b, a: string;\r\n    let m = Math.round;\r\n    let i = parseInt;\r\n    let n = d.length, x: any = {};\r\n    if (n > 9) {\r\n        [r, g, b, a] = d = d.split(\",\"), n = d.length;\r\n        if (n < 3 || n > 4) return null;\r\n        x.r = i(r[3] == \"a\" ? r.slice(5) : r.slice(4)), x.g = i(g), x.b = i(b), x.a = a ? parseFloat(a) : -1\r\n    } else {\r\n        if (n == 8 || n == 6 || n < 4) return null;\r\n        if (n < 6) d = \"#\" + d[1] + d[1] + d[2] + d[2] + d[3] + d[3] + (n > 4 ? d[4] + d[4] : \"\");\r\n        d = i(d.slice(1), 16);\r\n        if (n == 9 || n == 5) x.r = d >> 24 & 255, x.g = d >> 16 & 255, x.b = d >> 8 & 255, x.a = m((d & 255) / 0.255) / 1000;\r\n        else x.r = d >> 16, x.g = d >> 8 & 255, x.b = d & 255, x.a = -1\r\n    } return x\r\n}\r\n\r\nfunction blendColor(p, c0, c1, l) {\r\n    let r, g, b, P, f, t, h, i = parseInt, m = Math.round, a: any = typeof (c1) == \"string\";\r\n    if (typeof (p) != \"number\" || p < -1 || p > 1 || typeof (c0) != \"string\" || (c0[0] != 'r' && c0[0] != '#') || (c1 && !a)) return null;\r\n    h = c0.length > 9, h = a ? c1.length > 9 ? true : c1 == \"c\" ? !h : false : h, f = pSBCr(c0), P = p < 0, t = c1 && c1 != \"c\" ? pSBCr(c1) : P ? { r: 0, g: 0, b: 0, a: -1 } : { r: 255, g: 255, b: 255, a: -1 }, p = P ? p * -1 : p, P = 1 - p;\r\n    if (!f || !t) return null;\r\n    if (l) r = m(P * f.r + p * t.r), g = m(P * f.g + p * t.g), b = m(P * f.b + p * t.b);\r\n    else r = m((P * f.r ** 2 + p * t.r ** 2) ** 0.5), g = m((P * f.g ** 2 + p * t.g ** 2) ** 0.5), b = m((P * f.b ** 2 + p * t.b ** 2) ** 0.5);\r\n    a = f.a, t = t.a, f = a >= 0 || t >= 0, a = f ? a < 0 ? t : t < 0 ? a : a * P + t * p : 0;\r\n    if (h) return \"rgb\" + (f ? \"a(\" : \"(\") + r + \",\" + g + \",\" + b + (f ? \",\" + m(a * 1000) / 1000 : \"\") + \")\";\r\n    else return \"#\" + (4294967296 + r * 16777216 + g * 65536 + b * 256 + (f ? m(a * 255) : 0)).toString(16).slice(1, f ? undefined : -2)\r\n}\r\n\r\nfunction toSafeString(value: any): string {\r\n    if (value == null || value == undefined)\r\n        return undefined;\r\n    return value.toString();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioRegressionConfig extends IStudioItemConfig {\r\n    function?: IRegressionFunction;\r\n    showIntegration?: boolean;\r\n    startDay?: number;\r\n    endDay?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioRegressionState extends IStudioRegressionConfig, IStudioItemState {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IRegressionFunctionVar {\r\n    name: string;\r\n    label?: string;\r\n    autoCompute: boolean;\r\n    minValue?: number;\r\n    maxValue?: number;\r\n    precision?: number;\r\n    step?: number;\r\n    value?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IRegressionFunction {\r\n    type: RegressionFunctionType\r\n    name: string;\r\n    value: string;\r\n    vars: IRegressionFunctionVar[];\r\n}\r\n\r\n/****************************************/\r\n\r\nclass RegressionFunctionViewModel {\r\n\r\n    select() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    icon: string;\r\n    value: IRegressionFunction;\r\n    vars = ko.observable<RegressionFunctionVarViewModel[]>();\r\n}\r\n\r\n/****************************************/\r\n\r\nclass RegressionFunctionVarViewModel {\r\n\r\n    value: IRegressionFunctionVar;\r\n    curValue = ko.observable<number>();\r\n    autoCompute = ko.observable<boolean>();\r\n    min = ko.observable<number>();\r\n    max = ko.observable<number>();\r\n    step = ko.observable<number>();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class StudioSerieRegression extends BaseStudioItem<IStudioRegressionState, StudioSerie, any> {\r\n\r\n    protected _varsMap: IDictionary<string> = {};\r\n\r\n    /****************************************/\r\n\r\n    constructor(config?: IStudioRegressionConfig) {\r\n\r\n        super();\r\n\r\n        this._varsMap = {\r\n            \"fun\": null,\r\n            \"sum\": null,\r\n            \"n1\": null,\r\n            \"n2\": null,\r\n            \"value\": null,\r\n            \"time\": null,\r\n            \"tend\": null,\r\n            \"tstart\": null,\r\n            \"xp\": null,\r\n            \"s\": null,\r\n            \"n3\": null,\r\n        };\r\n\r\n        this.itemType = \"regression\";\r\n        this.icon = \"show_chart\";\r\n        this.optionsTemplateName = \"RegressionOptionsTemplate\";\r\n\r\n        this.functions = [];\r\n\r\n        this.addFunction({\r\n            name: $string(\"$(log-normal)\"),\r\n            type: \"log-normal\",\r\n            value: \"$s\\\\sim $c\\\\cdot\\\\frac{ e^ {-\\\\frac{ \\\\left(\\\\ln\\\\ \\\\left($x - $a\\\\right) \\\\ -$u\\\\right)^ { 2}} { 2$o^ { 2} }}}{ \\\\left($x - $a\\\\right) \\\\sqrt{ 2\\\\pi } $o }\",\r\n            vars: [{\r\n                name: \"a\",\r\n                label: $string(\"$(offset)\"),\r\n                autoCompute: true,\r\n                precision: 0\r\n            },\r\n            {\r\n                name: \"c\",\r\n                label: $string(\"$(total)\"),\r\n                autoCompute: true,\r\n                precision: 0\r\n            },\r\n            {\r\n                name: \"o\",\r\n                label: $string(\"$(variance)\"),\r\n                autoCompute: true,\r\n                precision: 5\r\n            },\r\n            {\r\n                name: \"u\",\r\n                label: $string(\"$(average)\"),\r\n                autoCompute: true,\r\n                precision: 5\r\n            }]\r\n        });\r\n\r\n        this.addFunction({\r\n            name: $string(\"$(normal)\"),\r\n            type: \"normal\",\r\n            value: \"$s\\\\sim $c\\\\cdot\\\\ \\\\left(\\\\frac{1}{\\\\sqrt{2\\\\cdot\\\\pi}\\\\cdot $o}\\\\right)\\\\cdot e^{-\\\\frac{1}{2}\\\\cdot\\\\left(\\\\frac{\\\\left($x-$u\\\\right)}{$o}\\\\right)^{2}}\",\r\n            vars: [\r\n                {\r\n                    name: \"c\",\r\n                    label: $string(\"$(total)\"),\r\n                    autoCompute: true,\r\n                    precision: 0\r\n                },\r\n                {\r\n                    name: \"o\",\r\n                    label: $string(\"$(variance)\"),\r\n                    autoCompute: true,\r\n                    precision: 5\r\n                },\r\n                {\r\n                    name: \"u\",\r\n                    label: $string(\"$(avg-peak)\"),\r\n                    autoCompute: true,\r\n                    precision: 0\r\n                }]\r\n        });\r\n\r\n        this.addFunction({\r\n            name: $string(\"$(exponential)\"),\r\n            type: \"exponential\",\r\n            value: \"$s\\\\sim $a^{\\\\left($x-$b\\\\right)}\",\r\n            vars: [\r\n                {\r\n                    name: \"a\",\r\n                    label: $string(\"$(base)\"),\r\n                    autoCompute: true,\r\n                    precision: 5\r\n                },\r\n                {\r\n                    name: \"b\",\r\n                    label: $string(\"$(offset)\"),\r\n                    autoCompute: true,\r\n                    precision: 5\r\n                }]\r\n        });\r\n\r\n        this.addFunction({\r\n            name: $string(\"$(linear)\"),\r\n            type: \"linear\",\r\n            value: \"$s\\\\sim $a+$m$x\",\r\n            vars: [\r\n                {\r\n                    name: \"a\",\r\n                    label: $string(\"$(offset)\"),\r\n                    autoCompute: true,\r\n                    precision: 5\r\n                },\r\n                {\r\n                    name: \"m\",\r\n                    label: $string(\"$(slope)\"),\r\n                    autoCompute: true,\r\n                    precision: 5\r\n                }]\r\n        });\r\n\r\n        this.showIntegration.subscribe(() => {\r\n            this._graphCtx.setItemVisibile(this.getGraphId(\"sum-serie\"), this.isFullVisible() && this.showIntegration());\r\n            this._graphCtx.setItemVisibile(this.getGraphId(\"sum-point\"), this.isFullVisible() && this.showIntegration());\r\n\r\n        });\r\n\r\n        this.selectedFunction.subscribe(a => {\r\n            if (!this.name() && a)\r\n                return this.name(a.value.name);\r\n\r\n        });\r\n\r\n        this.startDay.subscribe(a => this.updateStartDay());\r\n        this.endDay.subscribe(a => this.updateEndDay());\r\n        this.maxDay.subscribe(a => {\r\n            this.updateEndDay();\r\n            this.updateStartDay();\r\n        });\r\n\r\n        this.selectedFunction(this.functions[0]);\r\n\r\n        if (config)\r\n            this.setState(config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get mainExpression(): string {\r\n        return this.getGraphId(\"main-func\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected addFunction(value: IRegressionFunction): RegressionFunctionViewModel {\r\n        const model = new RegressionFunctionViewModel();\r\n        model.value = value;\r\n        model.select = () => {\r\n            this.selectedFunction(model);\r\n            this.name(model.value.name);\r\n            this.updateGraph()\r\n        };\r\n\r\n        const vars: RegressionFunctionVarViewModel[] = [];\r\n        for (let item of value.vars) {\r\n            const vModel = new RegressionFunctionVarViewModel();\r\n            vModel.value = item;\r\n\r\n            vModel.curValue(item.value);\r\n            vModel.autoCompute(item.autoCompute);\r\n            vModel.min(item.minValue);\r\n            vModel.max(item.maxValue);\r\n            vModel.step(item.step);\r\n\r\n            vModel.min.subscribe(a => item.minValue = a);\r\n            vModel.max.subscribe(a => item.maxValue = a);\r\n            vModel.step.subscribe(a => item.step = a);\r\n            vModel.curValue.subscribe(a => item.value = a);\r\n            vModel.autoCompute.subscribe(a => {\r\n                item.autoCompute = a;\r\n                this.updateGraph();\r\n            });\r\n\r\n            vModel.curValue.subscribe(value => {\r\n                if (!vModel.autoCompute()) {\r\n                    this._graphCtx.updateVariable(this.getGraphId(item.name + \"-value\"), this.getVar(item.name), value);\r\n                }\r\n            });\r\n\r\n            vars.push(vModel);\r\n        }\r\n\r\n        model.vars(vars);\r\n\r\n        this.functions.push(model);\r\n        return model;\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected onGraphChanged() {\r\n        /*\r\n        const item = this._graphCtx.calculator.expressionAnalysis[this.getGraphId(\"end-day\")];\r\n        if (item && item.evaluation)\r\n            this.endDay(item.evaluation.value);*/\r\n\r\n        this.updateRegressionVars();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateRegressionVars() {\r\n        let model = this._graphCtx.calculator.controller.getItemModel(this.getGraphId(\"main\"));\r\n        if (model && model.regressionParameters) {\r\n            for (let item of this.selectedFunction().vars()) {\r\n                const varName = this.getVar(item.value.name).replace(\"{\", \"\").replace(\"}\", \"\");\r\n                let value = model.regressionParameters[varName];\r\n                if (value != undefined) {\r\n                    if (item.value.precision != undefined)\r\n                        value = round(value, item.value.precision);\r\n                    item.curValue(value);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createParameters(result: ParameterViewModel[]): boolean {\r\n        result.push(apply(new ParameterViewModel({ value: this.startDay, name: $string(\"$(start-day)\") }), p => {\r\n            p.max = this.maxDay;\r\n            p.min(1);\r\n            p.step(1);\r\n        }));\r\n        result.push(apply(new ParameterViewModel({ value: this.endDay, name: $string(\"$(end-day)\") }), p => {\r\n            p.max = this.maxDay;\r\n            p.min(1);\r\n            p.step(1);\r\n        }));\r\n\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setStateWork(state: IStudioRegressionState) {\r\n        if (state.function) {\r\n            const func = linq(this.functions).first(a => a.value.type == state.function.type);\r\n            if (func) {\r\n                for (let item of state.function.vars) {\r\n                    const funcVar = linq(func.vars()).first(a => a.value.name == item.name);\r\n                    if (funcVar) {\r\n                        funcVar.autoCompute(item.autoCompute);\r\n                        funcVar.max(item.maxValue);\r\n                        funcVar.min(item.minValue);\r\n                        funcVar.step(item.step);\r\n                        funcVar.curValue(item.value);\r\n                    }\r\n                }\r\n                this.selectedFunction(func);\r\n            }\r\n        }\r\n        if (state.showIntegration != undefined)\r\n            this.showIntegration(state.showIntegration);\r\n\r\n        if (state.startDay != undefined)\r\n            this.startDay(state.startDay);\r\n\r\n        if (state.endDay != undefined)\r\n            this.endDay(state.endDay);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): IStudioRegressionState {\r\n        const state = super.getState();\r\n        state.function = this.selectedFunction().value;\r\n        state.showIntegration = this.showIntegration();\r\n        state.startDay = this.startDay();\r\n        state.endDay = this.endDay();\r\n\r\n        for (let item of this.selectedFunction().vars()) {\r\n            item.value.value = item.curValue();\r\n            item.value.maxValue = item.max();\r\n            item.value.minValue = item.min();\r\n            item.value.step = item.step();\r\n            item.value.autoCompute = item.autoCompute();\r\n        }\r\n        return state;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onParentChanged() {\r\n        super.onParentChanged();\r\n        this.color(this.parent.color());\r\n        this.maxDay(linq(this.parent.values).max(a => a.x as number));\r\n        if (this.endDay() == undefined)\r\n            this.endDay(this.maxDay());\r\n        if (this.startDay() == undefined)\r\n            this.startDay(1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateEndDay() {\r\n        if (!this._varsMap[\"tend\"])\r\n            return;\r\n        this._graphCtx.updateExpression({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"end-day\"),\r\n            latex: this._varsMap[\"tend\"] + \"=\" + this.endDay(),\r\n            slider: {\r\n                min: \"0\",\r\n                step: \"1\",\r\n                max: (this.maxDay()).toString(),\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateStartDay() {\r\n        if (!this._varsMap[\"tstart\"])\r\n            return;\r\n        this._graphCtx.updateExpression({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"start-day\"),\r\n            latex: this._varsMap[\"tstart\"] + \"=\" + this.startDay(),\r\n            slider: {\r\n                min: \"0\",\r\n                step: \"1\",\r\n                max: (this.maxDay()).toString(),\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateColor() {\r\n        this._graphCtx.setColor(this.getGraphId(\"main-func\"), this.color());\r\n        this._graphCtx.setColor(this.getGraphId(\"sum-serie\"), this.color());\r\n        this._graphCtx.setColor(this.getGraphId(\"sum-point\"), this.color());\r\n        this._graphCtx.setColor(this.getGraphId(\"end-day-line\"), this.color());\r\n        this._graphCtx.setColor(this.getGraphId(\"start-day-line\"), this.color());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateGraphWork() {\r\n        this.updateRegressionVars();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getExpressions(): Desmos.Expression[] {\r\n\r\n        const values: Desmos.Expression[] = [];\r\n\r\n        values.push({\r\n            type: \"folder\",\r\n            id: this.getGraphId(\"public\"),\r\n            title: this.parent.name() + \" - \" + this.name(),\r\n            collapsed: true\r\n        });\r\n        values.push({\r\n            type: \"folder\",\r\n            id: this.getGraphId(\"private\"),\r\n            secret: true,\r\n            title: this.parent.name() + \" - \" + this.name(),\r\n            collapsed: true\r\n        });\r\n\r\n        const func = this.selectedFunction().value;\r\n\r\n        this._varsMap[\"x\"] = \"\";\r\n        this._varsMap[\"y\"] = this.parent.getVar(\"y\");\r\n        this._varsMap[\"time\"] = this.parent.parent.getVar(\"time\");\r\n\r\n        for (let item of func.vars) {\r\n            if (!this._varsMap[item.name])\r\n                this._varsMap[item.name] = null;\r\n        }\r\n\r\n        this._graphCtx.generateVars(this._varsMap);\r\n        this._varsMap[\"x\"] = this.getVar(\"xp\");\r\n\r\n        const regColor = blendColor(-0.3, this.color(), false, true);\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"main\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(func.value),\r\n            hidden: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"main-func\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(func.value.replace(\"$s\\\\sim \", \"$fun\\\\left(x\\\\right)=\").replace(/\\$x/g, \"x\")),\r\n            color: regColor,\r\n            lineStyle: Desmos.Styles.DASHED\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"sum-func\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(\"$sum\\\\left(x\\\\right)=\\\\sum_{$n1=1}^{x}\\\\operatorname{round}\\\\left($fun\\\\left($n1\\\\right)\\\\right)\"),\r\n            hidden: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"subserie-func\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(\"$s=\\\\sum_{$n3=$xp}^{$xp}{$y}[$n3+1]\"),\r\n            hidden: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"subserie-hl\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(\"($xp, $s)\"),\r\n            color: regColor,\r\n            lines: false,\r\n            lineStyle: Desmos.Styles.POINT,\r\n            pointStyle: \"NONE\",\r\n            points: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"sum-x-time\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(\"$n2=\\\\left[1,...,$time\\\\right]\"),\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"sum-serie\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            latex: this.replaceVars(\"\\\\left($n2,\\\\ $sum\\\\left($n2\\\\right)\\\\right)\"),\r\n            color: this.parent.color(),\r\n            lines: true,\r\n            hidden: !this.showIntegration(),\r\n            lineStyle: Desmos.Styles.SOLID,\r\n            pointStyle: \"NONE\",\r\n            points: false\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"sum-value\"),\r\n            folderId: this.getGraphId(\"public\"),\r\n            latex: this.replaceVars(\"$value=$sum\\\\left($time\\\\right)\"),\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"sum-point\"),\r\n            folderId: this.getGraphId(\"private\"),\r\n            hidden: !this.showIntegration(),\r\n            latex: this.replaceVars(\"\\\\left($time,$value\\\\right)\"),\r\n            color: this.parent.color(),\r\n            label: this.parent.name(),\r\n            dragMode: \"XY\",\r\n            showLabel: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"end-day\"),\r\n            latex: this._varsMap[\"tend\"] + \"=\" + this.endDay(),\r\n            folderId: this.getGraphId(\"public\"),\r\n            label: \"Fine Previsione\",\r\n            slider: {\r\n                min: (0).toString(),\r\n                max: (this.maxDay()).toString(),\r\n                hardMax: true,\r\n                hardMin: true,\r\n                step: \"1\"\r\n            }\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"start-day\"),\r\n            latex: this._varsMap[\"tstart\"] + \"=\" + this.startDay(),\r\n            folderId: this.getGraphId(\"public\"),\r\n            label: \"Inizio Previsione\",\r\n            slider: {\r\n                min: (0).toString(),\r\n                max: (this.maxDay()).toString(),\r\n                hardMax: true,\r\n                hardMin: true,\r\n                step: \"1\"\r\n            }\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"end-day-line\"),\r\n            color: regColor,\r\n            latex: \"x=\" + this._varsMap[\"tend\"],\r\n            folderId: this.getGraphId(\"private\"),\r\n            lines: true\r\n        });\r\n\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"start-day-line\"),\r\n            color: regColor,\r\n            latex: \"x=\" + this._varsMap[\"tstart\"],\r\n            folderId: this.getGraphId(\"private\"),\r\n            lines: true\r\n        });\r\n\r\n        values.push({\r\n            type: \"expression\",\r\n            id: this.getGraphId(\"end-day-serie\"),\r\n            latex: this.replaceVars(\"$xp=[$tstart,...,$tend]+\" + this.parent.getVar(\"ofs\")),\r\n            folderId: this.getGraphId(\"private\"),\r\n            hidden: true\r\n        });\r\n\r\n        for (let item of this.selectedFunction().vars()) {\r\n            if (item.autoCompute())\r\n                this._graphCtx.calculator.removeExpression({ id: this.getGraphId(item.value.name + \"-value\") });\r\n            else {\r\n                values.push({\r\n                    type: \"expression\",\r\n                    id: this.getGraphId(item.value.name + \"-value\"),\r\n                    latex: this.getVar(item.value.name) + \"=\" + (item.curValue() ? item.curValue().toString() : \"0\"),\r\n                    folderId: this.getGraphId(\"public\"),\r\n                    label: item.value.name,\r\n                    slider: {\r\n                        min: toSafeString(item.value.minValue),\r\n                        max: toSafeString(item.value.maxValue),\r\n                        hardMax: true,\r\n                        hardMin: true,\r\n                        step: toSafeString(item.value.step)\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        return values;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    functions: RegressionFunctionViewModel[];\r\n    selectedFunction = ko.observable<RegressionFunctionViewModel>();\r\n    showIntegration = ko.observable<boolean>(true);\r\n    maxDay = ko.observable<number>();\r\n    endDay = ko.observable<number>();\r\n    startDay = ko.observable<number>();\r\n}","﻿\r\nimport { Api } from \"../Api\";\r\nimport { InfectionDataSet } from \"../Data/InfectionDataSet\";\r\nimport { RangeDayAreaDataSet } from \"../Data/RangeDayAreaDataSet\";\r\nimport { IDaSeriePoint } from \"../Framework/DataAdapter\";\r\nimport { IndicatorCalculator } from \"../Indicators\";\r\nimport { ParameterViewModel, StudioData } from \"../Pages/StudioPage\";\r\nimport { IDayAreaSerieSource, IFunctionPoint, SerieSource } from \"../Types\";\r\nimport { apply, dateDiff, linq } from \"../WebApp\";\r\nimport { BaseStudioItem, IStudioItemConfig, IStudioItemState } from \"./BaseStudioItem\";\r\nimport { ColorPicker } from \"./ColorPicker\";\r\nimport { GraphContext } from \"./GraphContext\";\r\nimport { StudioProject } from \"./StudioProject\";\r\nimport { IStudioRegressionConfig, IStudioRegressionState, StudioSerieRegression } from \"./StudioRegression\";\r\nimport { ActionView } from \"./TreeView\";\r\n\r\ninterface IFunction {\r\n\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IDiscreteFunction extends IFunction {\r\n    readonly values: IFunctionPoint[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioSerieConfig extends IStudioItemConfig {\r\n    source?: SerieSource;\r\n    values?: IFunctionPoint[];\r\n    offsetX?: number;\r\n    children?: IStudioRegressionConfig[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioSerieState extends IStudioSerieConfig, IStudioItemState {\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class StudioSerie extends BaseStudioItem<IStudioSerieState, StudioProject, StudioSerieRegression> implements IDiscreteFunction {\r\n\r\n    constructor(config?: IStudioSerieConfig) {\r\n        super();\r\n\r\n        this.canDrag = true;\r\n        this.itemType = \"serie\";\r\n        this.icon = \"insert_chart\";\r\n        this.optionsTemplateName = \"StudioOptionsTemplate\";\r\n\r\n        this._varsMap = {\r\n            \"x\": null,\r\n            \"y\": null,\r\n            \"ofs\": null,\r\n            \"xofs\": null,\r\n        };\r\n\r\n        if (config) {\r\n            this.setState(config);\r\n        }\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    importValues(points: IDaSeriePoint[]) {\r\n\r\n        if (points && points.length > 0) {\r\n\r\n            if (points[0].x instanceof Date) {\r\n                const startDate = <Date>points[0].x;\r\n                this.values = linq(points).select(a => (<IFunctionPoint>{\r\n                    x: Math.round(dateDiff(a.x, startDate).totalDays),\r\n                    xLabel: a.x,\r\n                    y: a.y\r\n                })).toArray();\r\n            }\r\n\r\n            else if (isNaN(points[0].x)) {\r\n                this.values = linq(points).select((a, i) => (<IFunctionPoint>{\r\n                    x: i,\r\n                    xLabel: a.x,\r\n                    y: a.y\r\n                })).toArray();\r\n                return;\r\n            }\r\n            else\r\n                this.values = points;\r\n        }\r\n        else\r\n            this.values = [];\r\n\r\n        this.onSerieChanged();\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    writeData(transfer: DataTransfer): boolean {\r\n        var data: StudioData = {\r\n            version: 1,\r\n            type: \"serieState\",\r\n            state: this.getState()\r\n        };\r\n        transfer.setData(\"application/json+studio\", JSON.stringify(data));\r\n        transfer.setData(\"text/html+id\", this.node.element.id);\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createActions(result: ActionView[]) {\r\n\r\n        super.createActions(result);\r\n\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(update)\");\r\n            action.icon = \"autorenew\";\r\n            action.execute = () => this.updateSerie();\r\n        }));\r\n\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(new-regression)\");\r\n            action.icon = \"add_box\";\r\n            action.execute = () => {\r\n                const reg = this.addRegression(null, false);\r\n                reg.updateGraph();\r\n                this.node.isExpanded(true);\r\n                reg.node.isSelected(true);\r\n            }\r\n        }));\r\n\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(zoom)\");\r\n            action.icon = \"zoom_in\";\r\n            action.execute = () => this.zoom();\r\n\r\n        }));\r\n\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(align-with-this)\");\r\n            action.icon = \"compare_arrows\";\r\n            action.execute = () => {\r\n                let answer = prompt($string(\"$(tollerance)\"), \"10\");\r\n                this.alignOthers(isNaN(<any>answer) ? 10 : parseInt(answer));\r\n            };\r\n        }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    static fromText(text: string): StudioSerie {\r\n        try {\r\n            const obj = <StudioData>JSON.parse(text);\r\n            if (obj) {\r\n\r\n                if (obj.type == \"serie\")\r\n                    return new StudioSerie({\r\n                        name: obj.title,\r\n                        values: obj.values,\r\n                        source: obj.serie,\r\n                        color: obj.color\r\n                    });\r\n\r\n                if (obj.type == \"serieState\")\r\n                    return new StudioSerie(obj.state);\r\n            }\r\n        }\r\n        catch {\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getExpressions(): Desmos.Expression[] {\r\n\r\n        if (!this.color())\r\n            this.color(\"#0000ff\");\r\n\r\n        this._graphCtx.generateVars(this._varsMap);\r\n\r\n        const values: Desmos.Expression[] = [\r\n            {\r\n                type: \"folder\",\r\n                id: this.getGraphId(\"public\"),\r\n                title: this.parent.name() + \" - \" + this.name(),\r\n                collapsed: true\r\n            }, {\r\n                type: \"folder\",\r\n                id: this.getGraphId(\"private\"),\r\n                title: this.parent.name() + \" - \" + this.name(),\r\n                secret: true,\r\n                collapsed: true\r\n            }, {\r\n                type: \"expression\",\r\n                id: this.getGraphId(\"offset\"),\r\n                latex: this._varsMap[\"ofs\"] + \"=\" + this.offsetX(),\r\n                folderId: this.getGraphId(\"public\"),\r\n                label: \"Scostamento\",\r\n                slider: {\r\n                    min: (-this.values.length).toString(),\r\n                    max: (this.values.length).toString(),\r\n                    hardMax: true,\r\n                    hardMin: true,\r\n                    step: \"1\"\r\n                }\r\n            }, {\r\n                type: \"expression\",\r\n                id: this.getGraphId(\"offset-x\"),\r\n                latex: this._varsMap[\"xofs\"] + \"=\" + this._varsMap[\"x\"] + \"+\" + this._varsMap[\"ofs\"],\r\n                folderId: this.getGraphId(\"private\"),\r\n            }, {\r\n                type: \"expression\",\r\n                id: this.getGraphId(\"offset-x-serie\"),\r\n                latex: \"(\" + this._varsMap[\"xofs\"] + \",\" + this._varsMap[\"y\"] + \")\",\r\n                folderId: this.getGraphId(\"private\"),\r\n                points: true,\r\n                lines: true,\r\n                color: this.color()\r\n            }, {\r\n                type: \"table\",\r\n                id: this.getGraphId(\"table\"),\r\n                folderId: this.getGraphId(\"private\"),\r\n                columns: [\r\n                    {\r\n                        id: this.getGraphId(\"table/x\"),\r\n                        latex: this._varsMap[\"x\"],\r\n                    },\r\n                    {\r\n                        id: this.getGraphId(\"table/y\"),\r\n                        latex: this._varsMap[\"y\"],\r\n                        hidden: true\r\n                    }\r\n                ]\r\n            }];\r\n        return values;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    alignOthers(tollerance: number, ...series: StudioSerie[]) {\r\n        if (!series || series.length == 0)\r\n            series = this.parent.children.where(a => a != this).toArray();\r\n        for (let serie of series)\r\n            serie.alignWith(this, tollerance);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    alignWith(other: StudioSerie, tollerance: number) {\r\n\r\n        let minOfs = 0;\r\n        let minValue = Number.NEGATIVE_INFINITY;\r\n        for (let ofs = -this.values.length; ofs < this.values.length; ofs++) {\r\n\r\n            let value = 0;\r\n            for (let i = 0; i < this.values.length; i++) {\r\n                const ofsX = i - ofs;\r\n\r\n                if (ofsX < 0 || ofsX >= this.values.length)\r\n                    continue;\r\n\r\n                if (i >= other.values.length)\r\n                    continue;\r\n\r\n                if (Math.abs(this.values[ofsX].y - other.values[i].y) < tollerance)\r\n                    value++;\r\n            }\r\n            if (value > minValue) {\r\n                minValue = value;\r\n                minOfs = ofs;\r\n            }\r\n        }\r\n\r\n        other.offsetX(0);\r\n        this.offsetX(minOfs);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get mainExpression(): string {\r\n        return this.getGraphId(\"offset-x-serie\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createParameters(result: ParameterViewModel[]): boolean {\r\n        result.push(apply(new ParameterViewModel({ value: this.offsetX, name: $string(\"$(shift)\") }), p => {\r\n            p.max(this.values.length);\r\n            p.min(-this.values.length);\r\n            p.step(1);\r\n        }));\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateGraphWork() {\r\n        this._graphCtx.updateTable(this.getGraphId(\"table\"), this.values);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onGraphChanged() {\r\n        /*\r\n        const item = this._graphCtx.calculator.expressionAnalysis[this.getGraphId(\"offset\")];\r\n        if (item && item.evaluation)\r\n            this.offsetX(item.evaluation.value);*/\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onSelected() {\r\n        super.onSelected();\r\n        //this._graphCtx.expressionZoomFit(this.getGraphId(\"table\"));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateColor() {\r\n        this._graphCtx.setColor(this.getGraphId(\"offset-x-serie\"), this.color());\r\n        this.children.foreach(a => a.onParentChanged());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachGraph(ctx: GraphContext) {\r\n        super.attachGraph(ctx);\r\n\r\n        this.offsetX.subscribe(value => {\r\n            this._graphCtx.updateVariable(this.getGraphId(\"offset\"), this._varsMap[\"ofs\"], value);\r\n            this.onSerieChanged();\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onSerieChanged() {\r\n        if (this._isUpdating == 0)\r\n            this.parent.updateAggregate();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setChildrenStateWork(state: IStudioSerieState) {\r\n        if (state.children != undefined) {\r\n\r\n            this.children.foreach(a => a.remove());\r\n\r\n            state.children.forEach(a => {\r\n                const reg = this.addRegression(null, false);\r\n                reg.setState(a);\r\n            });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setStateWork(state: IStudioSerieState) {\r\n\r\n        if (state.offsetX != undefined)\r\n            this.offsetX(state.offsetX);\r\n\r\n        if (state.source)\r\n            this.source = this.upgradeSource(state.source);\r\n\r\n        if (state.values != undefined)\r\n            this.importValues(state.values);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected upgradeSource(source: SerieSource): SerieSource {\r\n\r\n        if (!source.type)\r\n            source.type = \"geoplot\";\r\n\r\n        if (source.type == \"geoplot\") {\r\n\r\n            source.areaId = this.upgradeAreaId(source.areaId);\r\n            if (source.exeludedAreaIds)\r\n                for (let i = 0; i < source.exeludedAreaIds.length; i++)\r\n                    source.exeludedAreaIds[i] = this.upgradeAreaId(source.exeludedAreaIds[i]);\r\n\r\n        }\r\n        return source;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected upgradeAreaId(id: string): string {\r\n\r\n        if (id) {\r\n            if (id.startsWith(\"R\") && id.length == 2)\r\n                return \"R0\" + id.substring(1);\r\n            if (id.startsWith(\"D\") && id.length == 2)\r\n                return \"D00\" + id.substring(1);\r\n            if (id.startsWith(\"D\") && id.length == 3)\r\n                return \"D0\" + id.substring(1);\r\n        }\r\n\r\n        return id;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): IStudioSerieState {\r\n        const state = super.getState();\r\n        state.offsetX = this.offsetX();\r\n        state.source = this.source;\r\n        state.values = this.values;\r\n        state.children = this.children.select(a => a.getState()).toArray();\r\n        return state;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addRegression(configOrState?: IStudioRegressionState | StudioSerieRegression, updateGraph = true): StudioSerieRegression {\r\n        return this.addChildrenWork(configOrState instanceof StudioSerieRegression ? configOrState : new StudioSerieRegression(configOrState), updateGraph);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async changeColor() {\r\n\r\n        const color = await ColorPicker.instance.pick();\r\n        if (color)\r\n            this.color(color);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async updateSerie() {\r\n\r\n        if (this.source.type == \"geoplot\" || !this.source.type) {\r\n\r\n            if (!this._graphCtx.serieCalculator) {\r\n                M.toast({ html: $string(\"$(msg-downloading-data)\") })\r\n                const model = await Api.loadStudioData();\r\n                this._graphCtx.serieCalculator = new IndicatorCalculator(new RangeDayAreaDataSet(model.data), InfectionDataSet, model.geo);\r\n            }\r\n\r\n            const daySource = this.source as IDayAreaSerieSource;\r\n\r\n            if (daySource.range) {\r\n                this._graphCtx.serieCalculator.data.startDay = daySource.range.start;\r\n                this._graphCtx.serieCalculator.data.endDay = daySource.range.end;\r\n            }\r\n            else {\r\n                this._graphCtx.serieCalculator.data.startDay = undefined;\r\n                this._graphCtx.serieCalculator.data.endDay = undefined;\r\n            }\r\n\r\n            this.importValues(this._graphCtx.serieCalculator.getSerie(daySource));\r\n\r\n            this._graphCtx.updateTable(this.getGraphId(\"table\"), this.values);\r\n            this.children.foreach(a => a.onParentChanged());\r\n\r\n            this.onSerieChanged();\r\n\r\n            M.toast({ html: $string(\"$(msg-update-complete)\") })\r\n        }\r\n        else\r\n            M.toast({ html: $string(\"$(msg-update-not-supported)\") })\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    zoom() {\r\n        const minX = linq(this.values).min(a => a.x as number);\r\n        const minY = linq(this.values).min(a => a.y);\r\n        const maxX = linq(this.values).max(a => a.x as number);\r\n        const maxY = linq(this.values).max(a => a.y);\r\n\r\n        this._graphCtx.calculator.setMathBounds({\r\n            top: maxY + (maxY - minY) * 0.1,\r\n            right: maxX + (maxX - minX) * 0.1,\r\n            bottom: minY - (maxY - minY) * 0.1,\r\n            left: minX - (maxX - minX) * 0.1,\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    color = ko.observable<string>();\r\n    offsetX = ko.observable<number>(0);\r\n    source: SerieSource;\r\n    values: IFunctionPoint[] = [];\r\n}","﻿import { ParameterViewModel } from \"../Pages/StudioPage\";\r\nimport { IFunctionPoint, ITextValue } from \"../Types\";\r\nimport { apply, linq } from \"../WebApp\";\r\nimport { BaseStudioItem, IStudioItemConfig, IStudioItemState } from \"./BaseStudioItem\";\r\nimport { GraphContext } from \"./GraphContext\";\r\nimport { IStudioSerieConfig, IStudioSerieState, StudioSerie } from \"./StudioSerie\";\r\nimport { ActionView } from \"./TreeView\";\r\n\r\ntype AggregateMode = \"none\" | \"sum\" | \"avg\";\r\n\r\nexport interface IStudioProjectConfig extends IStudioItemConfig {\r\n    aggregationMode?: AggregateMode;\r\n    children?: IStudioSerieState[];\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioProjectState extends IStudioProjectConfig, IStudioItemState {\r\n    time?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class StudioProject extends BaseStudioItem<IStudioProjectState, any, StudioSerie> {\r\n\r\n    constructor(config?: IStudioProjectConfig) {\r\n\r\n        super();\r\n\r\n        this.itemType = \"project\";\r\n        this.icon = \"folder\";\r\n        this.optionsTemplateName = \"ProjectOptionsTemplate\";\r\n\r\n        this.aggregationModes = [\r\n            {\r\n                text: $string(\"$(none)\"),\r\n                value: \"none\"\r\n            },\r\n            {\r\n                text: $string(\"$(sum)\"),\r\n                value: \"sum\"\r\n            },\r\n            {\r\n                text: $string(\"$(average)\"),\r\n                value: \"avg\",\r\n            }\r\n        ];\r\n\r\n        this._varsMap = {\r\n            \"time\": null,\r\n            \"xagg\": null,\r\n            \"yagg\": null\r\n        };\r\n\r\n        if (config)\r\n            this.setState(config);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    createActions(result: ActionView[]) {\r\n\r\n        super.createActions(result);\r\n\r\n        result.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(update-all-proj)\");\r\n            action.icon = \"autorenew\";\r\n            action.execute = () => this.updateAllSerie();\r\n        }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async updateAllSerie() {\r\n\r\n        for (let item of this.children)\r\n            await item.updateSerie();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canAccept(value: object): boolean {\r\n        return (value instanceof StudioSerie);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    canReadData(transfer: DataTransfer): boolean {\r\n        return transfer.types.indexOf(\"application/json+studio\") != -1;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    readData(transfer: DataTransfer) {\r\n\r\n        const textData = transfer.getData(\"application/json+studio\");\r\n        let serie = StudioSerie.fromText(textData);\r\n        if (serie) {\r\n            this.addSerie(serie);\r\n            this.node.isExpanded(true);\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getExpressions(): Desmos.Expression[] {\r\n\r\n        this._graphCtx.generateVars(this._varsMap);\r\n\r\n        const values: Desmos.Expression[] = [\r\n            {\r\n                type: \"folder\",\r\n                id: this.getGraphId(\"public\"),\r\n                title: this.name(),\r\n                collapsed: true\r\n            },\r\n            {\r\n                type: \"folder\",\r\n                id: this.getGraphId(\"private\"),\r\n                title: this.name(),\r\n                secret: true,\r\n                collapsed: true\r\n            },\r\n            {\r\n                type: \"expression\",\r\n                folderId: this.getGraphId(\"public\"),\r\n                id: this.getGraphId(\"time\"),\r\n                latex: this._varsMap[\"time\"] + \"=\" + this.time(),\r\n                slider: {\r\n                    hardMin: true,\r\n                    hardMax: true,\r\n                    min: \"0\",\r\n                    max: \"100\",\r\n                    step: \"1\"\r\n                }\r\n            },\r\n            {\r\n                type: \"table\",\r\n                id: this.getGraphId(\"aggregate\"),\r\n                folderId: this.getGraphId(\"private\"),\r\n                columns: [\r\n                    {\r\n                        id: this.getGraphId(\"table/xagg\"),\r\n                        latex: this._varsMap[\"xagg\"],\r\n                    },\r\n                    {\r\n                        id: this.getGraphId(\"table/yagg\"),\r\n                        latex: this._varsMap[\"yagg\"],\r\n                        lines: true,\r\n                        points: true\r\n                        //hidden: this.aggregationMode() == \"none\"\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n\r\n        return values;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    updateAggregate() {\r\n\r\n        const values: { [key: number]: number } = {};\r\n\r\n        const children = this.children.toArray();\r\n\r\n        for (var child of children) {\r\n            const ofs = parseInt(<any>child.offsetX());\r\n            for (var item of child.values) {\r\n                const xReal = item.x as number + ofs;\r\n                if (!(xReal in values))\r\n                    values[xReal] = item.y;\r\n                else\r\n                    values[xReal] += item.y;\r\n            }\r\n        }\r\n\r\n        const funValues = linq(values).orderBy(a => a.key).select(a => (<IFunctionPoint>{ x: <any>a.key, y: a.value })).toArray();\r\n        this._graphCtx.updateTable(this.getGraphId(\"aggregate\"), funValues);\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateColor() {\r\n        this._graphCtx.setColor(this.getGraphId(\"aggregate\"), this.color());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get mainExpression() {\r\n        return this.getGraphId(\"aggregate\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected createParameters(result: ParameterViewModel[]): boolean {\r\n        result.push(apply(new ParameterViewModel({ value: this.time, name: $string(\"$(day)\") }), p => {\r\n            p.max(100);\r\n            p.min(0);\r\n            p.step(1);\r\n        }));\r\n        return true;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setStateWork(state: IStudioProjectState) {\r\n        if (state.time != undefined)\r\n            this.time(state.time);\r\n        if (state.aggregationMode)\r\n            this.aggregationMode(state.aggregationMode);\r\n        else\r\n            this.aggregationMode(\"none\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected setChildrenStateWork(state: IStudioProjectState) {\r\n        if (state.children != undefined) {\r\n\r\n            this.children.foreach(a => a.remove());\r\n\r\n            state.children.forEach(a => {\r\n                const item = this.addSerie(null, false);\r\n                item.setState(a);\r\n            });\r\n        }\r\n        if (this.aggregationMode() != \"none\")\r\n            this.updateAggregate();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): IStudioProjectState {\r\n        const state = super.getState();\r\n        state.time = this.time();\r\n        state.children = this.children.select(a => a.getState()).toArray();\r\n        state.aggregationMode = this.aggregationMode();\r\n        return state;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onGraphChanged() {\r\n        /*\r\n        const item = this._graphCtx.calculator.expressionAnalysis[this.getGraphId(\"time\")];\r\n        if (item)\r\n            this.time(item.evaluation.value);*/\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    attachGraph(ctx: GraphContext) {\r\n        super.attachGraph(ctx);\r\n\r\n        this.time.subscribe(value =>\r\n            this._graphCtx.updateVariable(this.getGraphId(\"time\"), this._varsMap[\"time\"], this.time()));\r\n\r\n        this.aggregationMode.subscribe(a => this.updateAggregate());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addSerie(configOrSerie?: IStudioSerieConfig | StudioSerie, updateGraph = true): StudioSerie {\r\n        return this.addChildrenWork(configOrSerie instanceof StudioSerie ? configOrSerie : new StudioSerie(configOrSerie), updateGraph);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    time = ko.observable(0);\r\n    aggregationMode = ko.observable<AggregateMode>(\"none\");\r\n    aggregationModes: ITextValue<AggregateMode>[];\r\n}","﻿import { Api } from \"../Api\";\r\nimport { DataImportControl, IDataImportSerieSource } from \"../Components/DataImport\";\r\nimport { GraphContext } from \"../Components/GraphContext\";\r\nimport { IStudioProjectConfig, IStudioProjectState, StudioProject } from \"../Components/StudioProject\";\r\nimport { StudioSerieRegression } from \"../Components/StudioRegression\";\r\nimport { IStudioSerieState, StudioSerie } from \"../Components/StudioSerie\";\r\nimport { ActionView, ITreeItem, TreeNode, TreeView } from \"../Components/TreeView\";\r\nimport { IInfectionData } from \"../Data/InfectionDataSet\";\r\nimport * as Desmos from \"desmos\";\r\n\r\nimport { IDayAreaDataSet, IDayAreaSerieSource, IFunctionPoint, IGeoAreaSet } from \"../Types\";\r\nimport { apply, copyText, Guid, IDictionary, Linq, linq, Uri, uuidv4 } from \"../WebApp\";\r\n\r\ntype TData = IInfectionData;\r\n\r\nexport type StudioData = ISerieStudioData | ISerieStateStudioData;\r\n\r\nexport interface IStudioData {\r\n    version: number;\r\n}\r\n\r\nexport interface ISerieStudioData extends IStudioData {\r\n    type: \"serie\";\r\n    serie: IDayAreaSerieSource;\r\n    title: string;\r\n    values?: IFunctionPoint[];\r\n    color?: string;\r\n}\r\n\r\nexport interface ISerieStateStudioData extends IStudioData {\r\n    type: \"serieState\";\r\n    state: IStudioSerieState;\r\n}\r\n\r\n/****************************************/\r\n/* ParameterViewModel\r\n/****************************************/\r\n\r\ninterface IParameterConfig {\r\n    value: KnockoutObservable<number>;\r\n    name: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class ParameterViewModel {\r\n\r\n    constructor(config: IParameterConfig) {\r\n        this.value = config.value;\r\n        this.name = config.name;\r\n    }\r\n\r\n    name: string;\r\n    min = ko.observable<number>();\r\n    max = ko.observable<number>();\r\n    step = ko.observable<number>();\r\n    isSelected = ko.observable<boolean>(true);\r\n    value: KnockoutObservable<number>;\r\n}\r\n\r\n/****************************************/\r\n/* Page\r\n/****************************************/\r\n\r\ninterface IPageState {\r\n    version: number;\r\n    graphState?: Desmos.IGraphState;\r\n    projects?: IStudioProjectState[];\r\n    vars?: IDictionary<number>;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IStudioViewModel {\r\n    data: IDayAreaDataSet<TData>;\r\n    geo: IGeoAreaSet;\r\n}\r\n\r\n/****************************************/\r\n\r\n\r\nexport class StudioPage {\r\n\r\n    private _graphCtx: GraphContext;\r\n    private _projectId: Guid;\r\n\r\n    constructor(projectId: Guid) {\r\n\r\n        this._projectId = projectId;\r\n\r\n        this._graphCtx = new GraphContext();\r\n        this._graphCtx.calculator = Desmos.GraphingCalculator(document.getElementById(\"calculator\"), {\r\n            //xAxisArrowMode: Desmos.AxisArrowModes.BOTH,\r\n            pasteGraphLink: false,\r\n            pasteTableData: false,\r\n            expressionsCollapsed: true,\r\n            //lockViewport: false,\r\n            restrictedFunctions: true,\r\n            //restrictGridToFirstQuadrant: true,\r\n            administerSecretFolders: true,\r\n            authorIDE: true,\r\n            advancedStyling: true\r\n        });\r\n\r\n        this._graphCtx.calculator.controller.listModel.onSelectionChanged = item => this.onGraphSelectionChanged(item);\r\n\r\n        const actions: ActionView[] = [];\r\n        actions.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(new-project)\"),\r\n                action.icon = \"create_new_folder\";\r\n            action.execute = () => this.newProject();\r\n        }));\r\n        actions.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(save)\"),\r\n                action.icon = \"save\";\r\n            action.execute = () => this.saveState();\r\n        }));\r\n        actions.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(import)\"),\r\n                action.icon = \"import_export\";\r\n            action.execute = () => this.import();\r\n        }));\r\n        actions.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(share) Studio\"),\r\n                action.icon = \"share\";\r\n            action.execute = () => this.share();\r\n        }));\r\n        actions.push(apply(new ActionView(), action => {\r\n            action.text = $string(\"$(options)\"),\r\n            action.icon = \"settings\";\r\n            action.execute = () => this.showOptions();\r\n        }));\r\n\r\n        const root = new TreeNode<any>();\r\n        root.actions(actions);\r\n        this.items.setRoot(root);\r\n\r\n        document.body.addEventListener(\"paste\", async ev => {\r\n            if ((<HTMLElement>ev.target).tagName == \"INPUT\")\r\n                return;\r\n            if (await this.onPaste(ev.clipboardData))\r\n                ev.preventDefault();\r\n        });\r\n\r\n        M.Modal.init(document.getElementById(\"options\"), {\r\n            onCloseEnd: () => this.updateOptions()\r\n        });\r\n\r\n\r\n        setTimeout(() => this.init());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected onGraphSelectionChanged(item: { id: string, folderId?: string }) {\r\n        if (!item || !item.folderId)\r\n            return;\r\n        const folderGuid = item.folderId.split(\"/\")[0];\r\n        const treeItem = this._graphCtx.treeItems[folderGuid];\r\n        if (!treeItem)\r\n            return;\r\n        treeItem.node.select(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateOptions() {\r\n        const maxX = parseInt(<any>this.maxX());\r\n        const maxY = parseInt(<any>this.maxY());\r\n        this._graphCtx.calculator.setMathBounds({\r\n            bottom: -maxY / 10,\r\n            left: -maxX / 10,\r\n            right: maxX,\r\n            top: maxY\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async share() {\r\n        const projectId = uuidv4();\r\n        await Api.saveState(projectId, this.getState());\r\n        const url = Uri.absolute(\"~/\" + $language.split(\"-\")[0] + \"/Studio/\" + projectId);\r\n        await copyText(url);\r\n        M.toast({ html: $string(\"$(msg-shared)\") });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    showOptions() {\r\n        const bounds = this._graphCtx.calculator.graphpaperBounds;\r\n        this.maxX(Math.round(bounds.mathCoordinates.width));\r\n        this.maxY(Math.round(bounds.mathCoordinates.height));\r\n        const dialog = M.Modal.getInstance(document.getElementById(\"options\"));\r\n        dialog.open();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getSelectedProject(): StudioProject {\r\n        if (!this.items.selectedNode())\r\n            return;\r\n\r\n        const value = this.items.selectedNode().value();\r\n\r\n        if (value.itemType == \"project\")\r\n            return <StudioProject>value;\r\n\r\n        if (value.itemType == \"serie\")\r\n            return (<StudioSerie>value).parent;\r\n\r\n        if (value.itemType == \"regression\")\r\n            return (<StudioSerieRegression>value).parent.parent;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    newProject(): StudioProject {\r\n        const proj = this.addProject({ name: \"Project \" + (this.projects.count() + 1) });\r\n        proj.node.isSelected(true);\r\n        return proj;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    addProject(config?: IStudioProjectConfig, updateGraph = true): StudioProject {\r\n        const project = new StudioProject(config);\r\n        const node = new TreeNode(project);\r\n        this.items.root().addNode(node);\r\n        project.attachNode(node);\r\n        project.attachGraph(this._graphCtx);\r\n        if (updateGraph)\r\n            project.updateGraph();\r\n        return project;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    getState(): IPageState {\r\n\r\n        const result: IPageState = { version: 2 };\r\n        result.graphState = this._graphCtx.calculator.getState();\r\n        result.vars = this._graphCtx.vars;\r\n        result.projects = this.projects.select(a => a.getState()).toArray();\r\n        return result;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setState(value: IPageState) {\r\n\r\n        if (!value)\r\n            return;\r\n\r\n        if (value.graphState) {\r\n            value.graphState.expressions.list = [];\r\n            this._graphCtx.calculator.setState(value.graphState);\r\n        }\r\n\r\n        if (value.projects != undefined) {\r\n            this.projects.toArray().forEach(a => a.remove());\r\n            value.projects.forEach(a => {\r\n                const proj = this.addProject(null, false);\r\n                proj.setState(a);\r\n            });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async loadState() {\r\n        if (this._projectId) {\r\n            let result = await Api.loadState<IPageState>(this._projectId);\r\n            this.setState(result);\r\n        }\r\n        else {\r\n            const json = localStorage.getItem(\"studio\");\r\n            if (json)\r\n                this.setState(JSON.parse(json));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async saveState() {\r\n\r\n        if (this._projectId) {\r\n            await Api.saveState(this._projectId, this.getState());\r\n            M.toast({ html: $string(\"$(msg-saved)\") });\r\n        }\r\n        else {\r\n            localStorage.setItem(\"studio\", JSON.stringify(this.getState()));\r\n            M.toast({ html: $string(\"$(msg-saved-device)\") });\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected demo() {\r\n        const proj = this.addProject({ name: \"Project 1\" });\r\n        this.addProject({ name: \"Project 2\" });\r\n        this.addProject({ name: \"Project 3\" });\r\n\r\n        proj.addSerie({\r\n            name: \"Serie 1\"\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async onPaste(data: DataTransfer): Promise<boolean> {\r\n\r\n        const text = data.getData(\"text/plain\").toString();\r\n        if (text)\r\n            return await this.importText(text);\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async import() {\r\n        //var text = await (await fetch(\"https://raw.githubusercontent.com/datasets/covid-19/master/data/countries-aggregated.csv\")).text();\r\n        let project = this.getSelectedProject();\r\n        const data = await this.dataImport.show();\r\n        this.addImportedData(data, project);\r\n        return true;\r\n    }\r\n    /****************************************/\r\n\r\n    async importText(text: string): Promise<boolean> {\r\n\r\n        let project = this.getSelectedProject();\r\n        if (!project && !this.projects.any())\r\n            project = this.newProject();\r\n\r\n        if (!project) {\r\n            M.toast({ html: $string(\"$(msg-select-project)\") });\r\n            return false;\r\n        }\r\n\r\n        const serie = StudioSerie.fromText(text);\r\n        if (serie) {\r\n            project.addSerie(serie);\r\n            project.node.isExpanded(true);\r\n            serie.node.isExpanded(true);\r\n            serie.zoom();\r\n            const reg = serie.addRegression(null, false);\r\n            reg.updateGraph();\r\n            reg.node.isSelected(true);\r\n            return true;\r\n        }\r\n\r\n        try {\r\n\r\n            if (await this.dataImport.importText(text))\r\n                await this.import();\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n\r\n        M.toast({ html: $string(\"$(msg-format-not-reconized)\") });\r\n\r\n        return false;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected addImportedData(data: IDataImportSerieSource[], project: StudioProject) {\r\n\r\n        if (data.length == 1) {\r\n            if (this.items.selectedNode() && this.items.selectedNode().value() instanceof StudioSerie) {\r\n                if (confirm($string(\"$(msg-replace-serie)\"))) {\r\n                    const serie = <StudioSerie>this.items.selectedNode().value();\r\n                    serie.source = data[0];\r\n                    serie.importValues(data[0].serie.values);\r\n                    serie.updateGraph(true);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        project.node.isExpanded(true);\r\n\r\n        for (let item of data) {\r\n\r\n            const serie = new StudioSerie({\r\n                name: item.serie.name,\r\n                values: item.serie.values,\r\n                source: item\r\n            });\r\n\r\n            project.addSerie(serie);\r\n            serie.node.isExpanded(true);\r\n\r\n            const reg = serie.addRegression(null, false);\r\n            reg.updateGraph();\r\n            reg.node.isSelected(true);\r\n        }\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    get projects(): Linq<StudioProject> {\r\n\r\n        function* items(this: StudioPage) {\r\n            for (let node of this.items.root().nodes())\r\n                yield (<StudioProject>node.value());\r\n        }\r\n\r\n        return linq(items.apply(this));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async init() {\r\n        this.loadState();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    items = new TreeView<ITreeItem>();\r\n\r\n    maxX = ko.observable<number>();\r\n\r\n    maxY = ko.observable<number>();\r\n\r\n    dataImport = new DataImportControl();\r\n}","﻿import { GeoAreaType } from \"../Types\";\r\n\r\nexport type ViewMode = \"district\" | \"region\" | \"country\" | \"details\";\r\n\r\ninterface IViewModeData {\r\n    label: { singular: string, plural: string };\r\n    mapGroup: string;\r\n    areaType: GeoAreaType;\r\n    validateId: (id: string) => boolean;\r\n    tab: string;\r\n}\r\n\r\nexport var ViewModes: { [K in ViewMode]: IViewModeData } = {\r\n    \"district\": {\r\n        label: {\r\n            singular: $string(\"$(district)\"),\r\n            plural: $string(\"$(districts)\")\r\n        },\r\n        mapGroup: \"group_district\",\r\n        tab: \"districtTab\",\r\n        areaType: GeoAreaType.District,\r\n        validateId: (id: string) => id[0].toLowerCase() == 'd'\r\n    },\r\n    \"region\": {\r\n        label: {\r\n            singular: $string(\"$(region)\"),\r\n            plural: $string(\"$(regions)\")\r\n        },\r\n        mapGroup: \"group_region\",\r\n        tab: \"regionTab\",\r\n        areaType: GeoAreaType.Region,\r\n        validateId: (id: string) => id[0].toLowerCase() == 'r'\r\n    },\r\n    \"country\": {\r\n        label: {\r\n            singular: $string(\"$(italian)\"),\r\n            plural: $string(\"$(italians)\")\r\n        },\r\n        mapGroup: \"group_country\",\r\n        tab: \"italyTab\",\r\n        areaType: GeoAreaType.Country,\r\n        validateId: (id: string) => id.toLowerCase() == 'it'\r\n    },\r\n    'details': {\r\n        label: {\r\n            singular: $string(\"$(area-details)\"),\r\n            plural: $string(\"$(area-details)\")\r\n        },\r\n        mapGroup: \"group_municipality\",\r\n        tab: \"detailsTab\",\r\n        areaType: GeoAreaType.Municipality,\r\n        validateId: (id: string) => id[0].toLowerCase() == 'm'\r\n    }\r\n}","﻿import { addClass, centerElement, Dictionary, DictionaryOf, linq, removeClass, safeCall } from \"../WebApp\";\r\n\r\ninterface IShowTipOptions {\r\n    onClose?: () => void;\r\n    timeout?: number;\r\n    override?: boolean;\r\n    force?: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface IViewActionTip {\r\n    html: string;\r\n    featureName: string;\r\n    elementSelector?: string;\r\n    showAfter: number;\r\n    showAction?: () => void;\r\n    order: number;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class TipViewModel {\r\n\r\n    private _closeTimeoutId: number;\r\n    private _element: HTMLElement;\r\n    private _closeAfter: number;\r\n\r\n    constructor(value: IViewActionTip, closeAfter?: number) {\r\n        this.value = value;\r\n        this._closeAfter = closeAfter;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    dontShowAgain() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onActionExecuted() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    executeAction() {\r\n        if (this.value.showAction)\r\n            this.value.showAction();\r\n        setTimeout(() => this.startPulse());\r\n        this.onActionExecuted();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    startPulse() {\r\n        this._element = document.querySelector(this.value.elementSelector);\r\n        if (!this._element)\r\n            return;\r\n        let relY = centerElement(this._element);\r\n\r\n        addClass(this._element, \"pulse\")\r\n\r\n        let tipElement = document.querySelector(\".tip-container\");\r\n        if (relY < (tipElement.clientTop + tipElement.clientHeight))\r\n            this.isTransparent(true);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    stopPulse() {\r\n\r\n        if (!this._element)\r\n            return;\r\n        removeClass(this._element, \"pulse\");\r\n        this.isTransparent(false);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    next() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    understood() {\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    onClose() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    close() {\r\n        clearTimeout(this._closeTimeoutId);\r\n        this.stopPulse();\r\n        this.isVisible(false);\r\n        this.onClose();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    show() {\r\n        if (this._closeTimeoutId)\r\n            clearTimeout(this._closeTimeoutId);\r\n        this.isVisible(true);\r\n        if (this._closeAfter)\r\n            this._closeTimeoutId = setTimeout(() => this.close(), this._closeAfter) as any;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value: IViewActionTip;\r\n    isVisible = ko.observable(false);\r\n    isTransparent = ko.observable(false);\r\n}\r\n\r\n/****************************************/\r\n\r\nexport interface ITipPreferences<TActions extends Dictionary<number>> {\r\n    showTips: boolean\r\n    actions: TActions;\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class TipManager<TActions extends Dictionary<number>> {\r\n\r\n    private _getPreferences: () => ITipPreferences<TActions>;\r\n\r\n    private _tips: DictionaryOf<TActions, IViewActionTip>;\r\n\r\n    constructor(tips: DictionaryOf<TActions, IViewActionTip>, getPreferences: () => ITipPreferences<TActions>, savePreferences: () => void) {\r\n\r\n        this._getPreferences = getPreferences;\r\n        this._tips = tips;\r\n        this.savePreferences = savePreferences;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get preferences(): ITipPreferences<TActions> {\r\n        return this._getPreferences();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    savePreferences() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    markAction(actionId: keyof TActions, label?: string) {\r\n\r\n        this.preferences.actions[actionId]++;\r\n        this.savePreferences();\r\n\r\n        if (!window[\"gtag\"])\r\n            return;\r\n\r\n        safeCall(() => gtag(\"event\", actionId, {\r\n            event_category: \"GeoPlot\",\r\n            event_label: label,\r\n            value: this.preferences.actions[actionId]\r\n        }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected markTip(tipId: keyof TActions, action: string) {\r\n        if (!window[\"gtag\"])\r\n            return;\r\n\r\n        safeCall(() => gtag(\"event\", action, {\r\n            event_category: \"GeoPlot/Tip\",\r\n            event_label: tipId\r\n        }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    engageUser() {\r\n\r\n        if (this.preferences.showTips != undefined && !this.preferences.showTips)\r\n            return;\r\n\r\n        const nextTip = linq(this._tips).where(a => a.value.showAfter > 0 && this.preferences.actions[a.key] == 0).first();\r\n\r\n        if (!this.showTip(nextTip.key, {\r\n            onClose: () => this.engageUser(),\r\n            timeout: nextTip.value.showAfter,\r\n        })) {\r\n            this.engageUser();\r\n        }\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    showTip(tipId: keyof TActions, options?: IShowTipOptions) {\r\n\r\n        if (this.preferences.showTips != undefined && !this.preferences.showTips)\r\n            return false;\r\n\r\n        if ((!options || !options.override) && this.tip() && this.tip().isVisible())\r\n            return false;\r\n\r\n        if ((!options || !options.force) && this.preferences.actions[tipId])\r\n            return false;\r\n\r\n        const tip = this._tips[tipId];\r\n\r\n        const model = new TipViewModel(tip);\r\n\r\n        model.onActionExecuted = () => {\r\n            this.markTip(tipId, \"how\");\r\n        }\r\n\r\n        model.dontShowAgain = () => {\r\n            this.preferences.showTips = false;\r\n            this.savePreferences();\r\n            model.close();\r\n            this.markTip(tipId, \"dontShowAgain\");\r\n        }\r\n\r\n        model.understood = () => {\r\n            this.preferences.actions[tipId]++;\r\n            this.savePreferences();\r\n            model.close();\r\n            this.markTip(tipId, \"understood\");\r\n        };\r\n\r\n        model.onClose = () => {\r\n            //this.tip(null);\r\n            if (options && options.onClose)\r\n                options.onClose();\r\n        }\r\n\r\n        let nextTip = linq(this._tips).where(a => a.value.order > tip.order && this.preferences.actions[a.key] == 0).first();\r\n\r\n        if (nextTip) {\r\n            model.next = () => {\r\n                model.close();\r\n                this.preferences.actions[tipId]++;\r\n                this.showTip(nextTip.key);\r\n                this.markTip(tipId, \"next\");\r\n            }\r\n        }\r\n        else\r\n            model.next = null;\r\n\r\n        this.tip(model);\r\n\r\n        setTimeout(() => model.show(), options && options.timeout ? options.timeout * 1000 : 0);\r\n\r\n        return true;\r\n    }\r\n\r\n    tip = ko.observable<TipViewModel>();\r\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'meno di un secondo',\n    other: 'meno di {{count}} secondi'\n  },\n  xSeconds: {\n    one: 'un secondo',\n    other: '{{count}} secondi'\n  },\n  halfAMinute: 'alcuni secondi',\n  lessThanXMinutes: {\n    one: 'meno di un minuto',\n    other: 'meno di {{count}} minuti'\n  },\n  xMinutes: {\n    one: 'un minuto',\n    other: '{{count}} minuti'\n  },\n  aboutXHours: {\n    one: \"circa un'ora\",\n    other: 'circa {{count}} ore'\n  },\n  xHours: {\n    one: \"un'ora\",\n    other: '{{count}} ore'\n  },\n  xDays: {\n    one: 'un giorno',\n    other: '{{count}} giorni'\n  },\n  aboutXWeeks: {\n    one: 'circa una settimana',\n    other: 'circa {{count}} settimane'\n  },\n  xWeeks: {\n    one: 'una settimana',\n    other: '{{count}} settimane'\n  },\n  aboutXMonths: {\n    one: 'circa un mese',\n    other: 'circa {{count}} mesi'\n  },\n  xMonths: {\n    one: 'un mese',\n    other: '{{count}} mesi'\n  },\n  aboutXYears: {\n    one: 'circa un anno',\n    other: 'circa {{count}} anni'\n  },\n  xYears: {\n    one: 'un anno',\n    other: '{{count}} anni'\n  },\n  overXYears: {\n    one: 'più di un anno',\n    other: 'più di {{count}} anni'\n  },\n  almostXYears: {\n    one: 'quasi un anno',\n    other: 'quasi {{count}} anni'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'tra ' + result;\n    } else {\n      return result + ' fa';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE d MMMM y',\n  long: 'd MMMM y',\n  medium: 'd MMM y',\n  short: 'dd/MM/y'\n};\nvar timeFormats = {\n  full: 'HH:mm:ss zzzz',\n  long: 'HH:mm:ss z',\n  medium: 'HH:mm:ss',\n  short: 'HH:mm'\n};\nvar dateTimeFormats = {\n  full: '{{date}} {{time}}',\n  long: '{{date}} {{time}}',\n  medium: '{{date}} {{time}}',\n  short: '{{date}} {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function isSameUTCWeek(dirtyDateLeft, dirtyDateRight, options) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfWeek = startOfUTCWeek(dirtyDateLeft, options);\n  var dateRightStartOfWeek = startOfUTCWeek(dirtyDateRight, options);\n  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime();\n}","import isSameUTCWeek from \"../../../../_lib/isSameUTCWeek/index.js\";\nvar weekdays = ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato'];\n\nfunction lastWeek(day) {\n  switch (day) {\n    case 0:\n      return \"'domenica scorsa alle' p\";\n\n    default:\n      return \"'\" + weekdays[day] + \" scorso alle' p\";\n  }\n}\n\nfunction thisWeek(day) {\n  return \"'\" + weekdays[day] + \" alle' p\";\n}\n\nfunction nextWeek(day) {\n  switch (day) {\n    case 0:\n      return \"'domenica prossima alle' p\";\n\n    default:\n      return \"'\" + weekdays[day] + \" prossimo alle' p\";\n  }\n}\n\nvar formatRelativeLocale = {\n  lastWeek: function (date, baseDate, options) {\n    var day = date.getUTCDay();\n\n    if (isSameUTCWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return lastWeek(day);\n    }\n  },\n  yesterday: \"'ieri alle' p\",\n  today: \"'oggi alle' p\",\n  tomorrow: \"'domani alle' p\",\n  nextWeek: function (date, baseDate, options) {\n    var day = date.getUTCDay();\n\n    if (isSameUTCWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return nextWeek(day);\n    }\n  },\n  other: 'P'\n};\nexport default function formatRelative(token, date, baseDate, options) {\n  var format = formatRelativeLocale[token];\n\n  if (typeof format === 'function') {\n    return format(date, baseDate, options);\n  }\n\n  return format;\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex; // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n\n    return valuesArray[index];\n  };\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['aC', 'dC'],\n  abbreviated: ['a.C.', 'd.C.'],\n  wide: ['avanti Cristo', 'dopo Cristo']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['T1', 'T2', 'T3', 'T4'],\n  wide: ['1º trimestre', '2º trimestre', '3º trimestre', '4º trimestre']\n};\nvar monthValues = {\n  narrow: ['G', 'F', 'M', 'A', 'M', 'G', 'L', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['gen', 'feb', 'mar', 'apr', 'mag', 'giu', 'lug', 'ago', 'set', 'ott', 'nov', 'dic'],\n  wide: ['gennaio', 'febbraio', 'marzo', 'aprile', 'maggio', 'giugno', 'luglio', 'agosto', 'settembre', 'ottobre', 'novembre', 'dicembre']\n};\nvar dayValues = {\n  narrow: ['D', 'L', 'M', 'M', 'G', 'V', 'S'],\n  short: ['dom', 'lun', 'mar', 'mer', 'gio', 'ven', 'sab'],\n  abbreviated: ['dom', 'lun', 'mar', 'mer', 'gio', 'ven', 'sab'],\n  wide: ['domenica', 'lunedì', 'martedì', 'mercoledì', 'giovedì', 'venerdì', 'sabato']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'm.',\n    pm: 'p.',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'mattina',\n    afternoon: 'pomeriggio',\n    evening: 'sera',\n    night: 'notte'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'mattina',\n    afternoon: 'pomeriggio',\n    evening: 'sera',\n    night: 'notte'\n  },\n  wide: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'mattina',\n    afternoon: 'pomeriggio',\n    evening: 'sera',\n    night: 'notte'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'm.',\n    pm: 'p.',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'di mattina',\n    afternoon: 'del pomeriggio',\n    evening: 'di sera',\n    night: 'di notte'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'di mattina',\n    afternoon: 'del pomeriggio',\n    evening: 'di sera',\n    night: 'di notte'\n  },\n  wide: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'mezzanotte',\n    noon: 'mezzogiorno',\n    morning: 'di mattina',\n    afternoon: 'del pomeriggio',\n    evening: 'di sera',\n    night: 'di notte'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber) {\n  var number = Number(dirtyNumber);\n  return number + 'º';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n\n  return undefined;\n}","import buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nimport buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(º)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(aC|dC)/i,\n  abbreviated: /^(a\\.?\\s?C\\.?|a\\.?\\s?e\\.?\\s?v\\.?|d\\.?\\s?C\\.?|e\\.?\\s?v\\.?)/i,\n  wide: /^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i\n};\nvar parseEraPatterns = {\n  any: [/^a/i, /^(d|e)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^t[1234]/i,\n  wide: /^[1234](º)? trimestre/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[gfmalsond]/i,\n  abbreviated: /^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,\n  wide: /^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^g/i, /^f/i, /^m/i, /^a/i, /^m/i, /^g/i, /^l/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ge/i, /^f/i, /^mar/i, /^ap/i, /^mag/i, /^gi/i, /^l/i, /^ag/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[dlmgvs]/i,\n  short: /^(do|lu|ma|me|gi|ve|sa)/i,\n  abbreviated: /^(dom|lun|mar|mer|gio|ven|sab)/i,\n  wide: /^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^g/i, /^v/i, /^s/i],\n  any: [/^d/i, /^l/i, /^ma/i, /^me/i, /^g/i, /^v/i, /^s/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|m\\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,\n  any: /^([ap]\\.?\\s?m\\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mezza/i,\n    noon: /^mezzo/i,\n    morning: /mattina/i,\n    afternoon: /pomeriggio/i,\n    evening: /sera/i,\n    night: /notte/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary Italian locale.\n * @language Italian\n * @iso-639-2 ita\n * @author Alberto Restifo [@albertorestifo]{@link https://github.com/albertorestifo}\n * @author Giovanni Polimeni [@giofilo]{@link https://github.com/giofilo}\n * @author Vincenzo Carrese [@vin-car]{@link https://github.com/vin-car}\n */\n\nvar locale = {\n  code: 'it',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1\n    /* Monday */\n    ,\n    firstWeekContainsDate: 4\n  }\n};\nexport default locale;","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\n\nvar formatDistance = function (token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n};\n\nexport default formatDistance;","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\n\nvar formatRelative = function (token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\n\nexport default formatRelative;","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n}; // Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\n\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nvar ordinalNumber = function (dirtyNumber, _options) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n};\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","﻿import { Chart, Plugin } from \"chart.js\";\r\nimport { IInfectionData, InfectionDataSet } from \"../Data/InfectionDataSet\";\r\nimport { RangeDayAreaDataSet } from \"../Data/RangeDayAreaDataSet\";\r\nimport { ViewMode, ViewModes } from \"../Data/ViewModes\";\r\nimport { LinearGradient } from \"../Framework/Graphics\";\r\nimport { ITipPreferences, IViewActionTip, TipManager } from \"../Framework/TipManager\";\r\nimport { IndicatorCalculator } from \"../Indicators\";\r\nimport { IDayAreaDataSet, IFactor, IFunctionPoint, IGeoArea, IGeoAreaSet, IIndicator } from \"../Types\";\r\nimport { Dictionary, DictionaryOf, discretize, exponential, formatDate, IDictionary, isNaNOrNull, linq, Signal, delayAsync, parseDate, App, copyText, round  } from \"../WebApp\";\r\nimport { StudioData } from \"./StudioPage\";\r\nimport { it, enUS } from \"date-fns/locale\";\r\n\r\ntype TData = IInfectionData; \r\n\r\ninterface IDayData {\r\n    topAreas?: AreaViewModel[];\r\n}\r\n\r\ninterface IDataRange {\r\n    startDay?: Date;\r\n    endDay?: Date;\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\ninterface ISpecialDate {\r\n    date: Date;\r\n    visible?: boolean;\r\n    label?: string;\r\n    color?: string;\r\n    width?: number;\r\n    dash?: number[];\r\n    dashOffset?: number;\r\n}\r\n\r\ninterface IPageState {\r\n    day?: number;\r\n    area?: string;\r\n    view?: ViewMode;\r\n    maxFactor?: number;\r\n    indicator?: keyof TData | string;\r\n    factor?: string;\r\n    dayDelta?: boolean;\r\n    groupSize?: number;\r\n    startDay?: number;\r\n    logScale?: boolean;\r\n    showEnvData?: boolean;\r\n    excludedArea?: string[];\r\n    detailsArea?: string;\r\n    dateRangeId?: number;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IOverviewViewActions extends Dictionary<number> {\r\n\r\n    areaSelected: number;\r\n    indicatorChanged: number;\r\n    indicatorSelected: number;\r\n    dayChanged: number;\r\n    viewChanged: number;\r\n    groupChanged: number;\r\n    scaleChanged: number;\r\n    topAreasOpened: number;\r\n    chartActionExecuted: number;\r\n    factorChanged: number;\r\n    maxFactorChanged: number;\r\n    deltaSelected: number;\r\n    regionExcluded: number;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IViewPreferences extends ITipPreferences<IOverviewViewActions> {\r\n    isFirstView: boolean;\r\n    version: number;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IGeoPlotViewModel {\r\n    geo: IGeoAreaSet;\r\n    data: IDayAreaDataSet<TData>;\r\n    debugMode: boolean;\r\n}\r\n\r\n/****************************************/\r\n\r\ninterface IGroupDay {\r\n    number: number;\r\n    value: Date;\r\n    text: string;\r\n}\r\n\r\n/****************************************/\r\n\r\nclass IndicatorViewModel {\r\n\r\n    select() {\r\n\r\n    }\r\n\r\n    indicator: IIndicator<TData>;\r\n    value = ko.observable<number>();\r\n}\r\n\r\n/****************************************/\r\n\r\nclass AreaViewModel {\r\n\r\n    select() {\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    value: IGeoArea;\r\n\r\n    data = ko.observable<TData>();\r\n    factor = ko.observable<number>();\r\n    indicator = ko.observable<number>();\r\n    reference = ko.observable<any>();\r\n    indicators = ko.observable<IndicatorViewModel[]>();\r\n}\r\n\r\n/****************************************/\r\n\r\nexport class GeoPlotPage {\r\n\r\n    private readonly _mainData: RangeDayAreaDataSet<TData>;\r\n    private readonly _mainGeo: IGeoAreaSet;\r\n    private _detailsData: RangeDayAreaDataSet<TData>;\r\n    private _detailsGeo: IGeoAreaSet;\r\n\r\n    private _selectedArea: IGeoArea; ù\r\n    private _chart: Chart;\r\n    private _daysData: IDayData[];\r\n    private _topAreasVisible: boolean = false;\r\n    private _mapSvg: SVGSVGElement;\r\n    private _execludedArea = new Map<string, IGeoArea>();\r\n    private _dataSet = InfectionDataSet;\r\n    private _keepState = false;\r\n    private _debugMode = false;\r\n    private _preferences: IViewPreferences;\r\n    private _calculator: IndicatorCalculator<TData>;\r\n\r\n    private _tips: DictionaryOf<IOverviewViewActions, IViewActionTip> = {\r\n        areaSelected: {\r\n            order: 0,\r\n            featureName: \"Zone\",\r\n            html: \"Puoi vedere i dati relativi ad una particolare area selezionadoli sulla mappa.\",\r\n            elementSelector: \".card-map .center-align\",\r\n            showAfter: 3,\r\n            showAction: () => {\r\n                this.viewMode(\"region\");\r\n                this.selectedArea = this._calculator.geo.areas[\"r10\"];\r\n            }\r\n        },\r\n        indicatorSelected: {\r\n            order: 1,\r\n            featureName: \"Indicatori\",\r\n            html: \"Puoi vedere il grafico associato all'indicatore, facendo click sull'indicatore.\",\r\n            elementSelector: \".indicators .summary-field\",\r\n            showAfter: 15,\r\n            showAction: () => {\r\n                if (!this.currentArea())\r\n                    this._tips.areaSelected.showAction();\r\n                this.selectedIndicator(linq(this._dataSet.indicators).first(a => a.id == \"totalDeath\"));\r\n            }\r\n        },\r\n        dayChanged: {\r\n            order: 2,\r\n            featureName: \"Cronologia\",\r\n            html: \"Puoi vedere gli indicatori dei giorni precedenti muovendo la slide.\",\r\n            elementSelector: \".day input[type=range]\",\r\n            showAfter: 20,\r\n            showAction: () => {\r\n                this.dayNumber(5);\r\n            }\r\n        },\r\n        indicatorChanged: {\r\n            order: 3,\r\n            featureName: \"Indicatori\",\r\n            html: \"Puoi cambiare l'indicatore scegliendolo dal filtro nell'elenco.\",\r\n            elementSelector: \".filter-indicator\",\r\n            showAfter: 0\r\n        },\r\n        viewChanged: {\r\n            order: 4,\r\n            featureName: \"Zone\",\r\n            html: \"Puoi vedere gli indicatori a livello regionale, nazionale o provinciale.\",\r\n            elementSelector: \"#areaTabs\",\r\n            showAfter: 0,\r\n            showAction: () => {\r\n                this.viewMode(\"district\");\r\n            }\r\n        },\r\n        topAreasOpened: {\r\n            order: 5,\r\n            featureName: \"Zone\",\r\n            html: \"Puo vedere le zone più colpite di un qualsiasi indicatore scelto.\",\r\n            elementSelector: \"#topCases .card-title\",\r\n            showAfter: 20,\r\n            showAction: () => {\r\n                if (this.viewMode() == \"country\")\r\n                    this.viewMode(\"region\");\r\n                M.Collapsible.getInstance(document.getElementById(\"topCases\")).open(0);\r\n            }\r\n        },\r\n        deltaSelected: {\r\n            order: 5.5,\r\n            featureName: \"Indicatori\",\r\n            html: \"Puoi vedere l'incremento giornaliero dell'indicatore anzichè il valore totale.\",\r\n            elementSelector: \".day-delta\",\r\n            showAfter: 20,\r\n            showAction: () => {\r\n                if (!this.currentArea())\r\n                    this._tips.areaSelected.showAction();\r\n                this.isDayDelta(true);\r\n            }\r\n        },\r\n        factorChanged: {\r\n            order: 6,\r\n            featureName: \"Indicatori\",\r\n            html: \"Puoi mettere in relazione qualsiasi indicatore a numerosi parametri (es. % Positivi su Tamponi).\",\r\n            elementSelector: \".filter-factor\",\r\n            showAfter: 30,\r\n            showAction: () => {\r\n                if (!this.currentArea())\r\n                    this._tips.areaSelected.showAction();\r\n                this.selectedIndicator(linq(this._dataSet.indicators).first(a => a.id == \"totalPositive\"));\r\n                this.selectedFactor(linq(this._dataSet.factors).first(a => a.id == \"population\"));\r\n            }\r\n        },\r\n        groupChanged: {\r\n            order: 7,\r\n            featureName: \"Grafico\",\r\n            html: \"Puo raggruppare i dati del grafico in gruppi da 1 a 7 giorni. Puoi anche scegliere la data d'inizio.\",\r\n            elementSelector: \".row-chart-group .select-wrapper\",\r\n            showAfter: 30,\r\n            showAction: () => {\r\n                if (!this.currentArea())\r\n                    this._tips.areaSelected.showAction();\r\n                var element = document.querySelector(\".chart-options\");\r\n                if (element.classList.contains(\"closed\"))\r\n                    element.classList.remove(\"closed\");\r\n                this.groupSize(2);\r\n                M.FormSelect.init(document.querySelectorAll(\".row-chart-group select\"));\r\n            }\r\n        },\r\n        chartActionExecuted: {\r\n            order: 8,\r\n            featureName: \"Grafico\",\r\n            html: \"Puoi portare il grafico a schermo interno, copiarlo, o copiare la serie numerico e incollarla in excel.\",\r\n            elementSelector: \".chart .actions\",\r\n            showAfter: 30\r\n        },\r\n        scaleChanged: {\r\n            order: 9,\r\n            featureName: \"Grafico\",\r\n            html: \"Puoi cambiare da scala logaritmica a scala lineare.\",\r\n            elementSelector: \".log-scale\",\r\n            showAfter: 210,\r\n            showAction: () => {\r\n                this.isLogScale(true);\r\n            }\r\n        },\r\n        maxFactorChanged: {\r\n            order: 10,\r\n            featureName: \"Mappa\",\r\n            html: \"Puoi cambiare il riferimento rispetto al quale la mappa viene colorata. Normalmente è in base al valore massimo che si ha avuto globalmente.\",\r\n            elementSelector: \".max-factor\",\r\n            showAfter: 60,\r\n            showAction: () => {\r\n                if (!this.currentArea())\r\n                    this._tips.areaSelected.showAction();\r\n                this.selectedIndicator(linq(this._dataSet.indicators).first(a => a.id == \"totalPositive\"));\r\n                this.autoMaxFactor(false);\r\n                this.maxFactor(1000);\r\n            }\r\n        },\r\n        regionExcluded: {\r\n            order: 11,\r\n            featureName: \"Mappa\",\r\n            html: \"Nella vista nazionale puoi escludere dagli indicatori il valore di una o più regioni cliccando sulla mappa.\",\r\n            elementSelector: \".card-map .center-align\",\r\n            showAfter: 0,\r\n            showAction: () => {\r\n                if (this.viewMode() != \"country\")\r\n                    this.viewMode(\"country\");\r\n                this._execludedArea.set(\"R8\", this._calculator.geo.areas[\"r8\"]);\r\n                this.updateIndicator();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _specialDates: IDictionary<ISpecialDate> = {\r\n        current: {\r\n            date: undefined,\r\n            color: \"#000\",\r\n            width: 0.5,\r\n            label: \"Giorno corrente\"\r\n        },\r\n        \"dpcm8\": {\r\n            date: new Date(2020, 2, 7),\r\n            color: \"#000\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: true,\r\n            label: \"DPCM 8 Marzo (italia zona rossa)\"\r\n        },\r\n        \"dpcm9\": {\r\n            date: new Date(2020, 2, 9),\r\n            color: \"#000\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: true,\r\n            label: \"DPCM 9 Marzo (italia zona rossa)\"\r\n        },\r\n        \"dpcm11\": {\r\n            date: new Date(2020, 2, 11),\r\n            color: \"#000\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: true,\r\n            label: \"DPCM 11 Marzo (chiusura attività)\"\r\n        },\r\n        \"mds20\": {\r\n            date: new Date(2020, 2, 20),\r\n            color: \"#070\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: false,\r\n            label: \"MDS 20 Marzo (chiura parchi, motoria nelle vicinane)\"\r\n        },\r\n        \"dpcm22\": {\r\n            date: new Date(2020, 2, 21),\r\n            color: \"#000\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: true,\r\n            label: \"DPCM 22 Marzo (chiusura ulteriore attività)\"\r\n        },\r\n        \"dpcm25\": {\r\n            date: new Date(2020, 2, 24),\r\n            color: \"#000\",\r\n            dash: [5, 5],\r\n            width: 1,\r\n            visible: true,\r\n            label: \"DPCM 25 Marzo (maggiori sanzioni)\"\r\n        }\r\n    };\r\n\r\n    _dataRanges: IDataRange[] = [\r\n        {\r\n            id: 0,\r\n            name: \"$(all)\",\r\n        },\r\n        {\r\n            id: 1,\r\n            name: \"1° $(wave)\",\r\n            endDay: new Date(2020, 7, 31)\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"2° $(wave)\",\r\n            startDay: new Date(2020, 8, 1)\r\n        },\r\n        {\r\n            id: 3,\r\n            name: \"3° $(wave)\",\r\n            startDay: new Date(2021, 5, 23)\r\n        },\r\n    ]\r\n\r\n    constructor(model: IGeoPlotViewModel) {\r\n\r\n        this._mainData = new RangeDayAreaDataSet(model.data);\r\n        this._mainGeo = model.geo;\r\n        this._debugMode = model.debugMode;\r\n        this._calculator = new IndicatorCalculator(this._mainData, this._dataSet, this._mainGeo);\r\n\r\n        this.dataRange.subscribe(value => {\r\n\r\n            const findDayIndex = (date: Date) => {\r\n                return this._mainData.days.indexOf(a => parseDate(a.date).getTime() >= date.getTime());\r\n            };\r\n\r\n            this._mainData.startDay = undefined;\r\n            this._mainData.endDay = undefined;\r\n\r\n            this._mainData.startDay = value.startDay ? findDayIndex(value.startDay) : undefined;\r\n            this._mainData.endDay = value.endDay ? findDayIndex(value.endDay) : undefined;\r\n\r\n            this.updateDays();\r\n            this.dayNumber(this._mainData.count - 1);\r\n        });\r\n\r\n        this.dayNumber.subscribe(value => {\r\n            if (value != this._calculator.data.count - 1)\r\n                this.tipManager.markAction(\"dayChanged\");\r\n            this.updateDayData();\r\n            this._specialDates.current.date = new Date(this._calculator.data.get(value).date);\r\n            this.updateChart();\r\n        });\r\n\r\n        this._mapSvg = document.getElementsByTagName(\"svg\").item(0);\r\n        this._mapSvg.addEventListener(\"click\", e => this.onMapClick(e, false))\r\n        this._mapSvg.addEventListener(\"dblclick\", e => this.onMapClick(e, true))\r\n\r\n        this.updateDays();\r\n\r\n        const areaTabs = M.Tabs.init(document.getElementById(\"areaTabs\"));\r\n\r\n        areaTabs.options.onShow = (el: HTMLDivElement) => {\r\n\r\n            this.setViewMode(<ViewMode>el.dataset[\"viewMode\"]);\r\n        };\r\n\r\n        const topCasesView = M.Collapsible.init(document.getElementById(\"topCases\"));\r\n\r\n        topCasesView.options.onOpenStart = () => {\r\n            if (!this._daysData)\r\n                this.updateTopAreas();\r\n            this._topAreasVisible = true;\r\n            this.tipManager.markAction(\"topAreasOpened\");\r\n        }\r\n\r\n        topCasesView.options.onCloseEnd = () => {\r\n            this._topAreasVisible = false;\r\n        }\r\n\r\n        this.indicators = ko.computed(() => linq(this._dataSet.indicators)\r\n            .where(a => !a.validFor || a.validFor.indexOf(this.viewMode()) != -1)\r\n            .toArray());\r\n\r\n        this.factors = ko.computed(() => linq(this._dataSet.factors)\r\n            .where(a => !a.validFor || a.validFor.indexOf(this.viewMode()) != -1)\r\n            .toArray());\r\n\r\n        this.detailsArea.subscribe(value => {\r\n            this.updateDetailsArea();\r\n        });\r\n\r\n        this.selectedIndicator.subscribe(value => {\r\n            if (!value)\r\n                return;\r\n            this.updateIndicator();\r\n            if (value.id != \"totalPositive\")\r\n                this.tipManager.markAction(\"indicatorChanged\", value.id);\r\n        });\r\n\r\n        this.selectedFactor.subscribe(value => {\r\n            if (!value)\r\n                return;\r\n            this.updateIndicator();\r\n            if (value.id != \"none\")\r\n                this.tipManager.markAction(\"factorChanged\", value.id);\r\n            setTimeout(() => M.FormSelect.init(document.querySelectorAll(\".row-chart-group select\")));\r\n        });\r\n\r\n        this.autoMaxFactor.subscribe(value => {\r\n            if (value) {\r\n                this.updateMaxFactor();\r\n                this.updateMap();\r\n            }\r\n            this.updateUrl();\r\n        });\r\n\r\n        this.maxFactor.subscribe(value => {\r\n            if (!this.autoMaxFactor()) {\r\n                this.updateMap();\r\n                this.tipManager.markAction(\"maxFactorChanged\", value.toString());\r\n            }\r\n            this.updateUrl();\r\n        });\r\n\r\n        this.baseFactor.subscribe(value => {\r\n            if (!this.autoMaxFactor()) {\r\n                this.updateMap();\r\n            }\r\n            this.updateUrl();\r\n        });\r\n\r\n        this.isDayDelta.subscribe(value => {\r\n            this.computeStartDayForGroup();\r\n            this.updateIndicator();\r\n            if (value)\r\n                this.tipManager.markAction(\"deltaSelected\");\r\n\r\n        });\r\n\r\n        this.isAvg.subscribe(value => {\r\n            this.computeStartDayForGroup();\r\n            this.updateIndicator();\r\n            this.updateUrl();\r\n        });\r\n\r\n        this.isLogScale.subscribe(value => {\r\n            this.updateChart();\r\n            this.updateUrl();\r\n            if (value)\r\n                this.tipManager.markAction(\"scaleChanged\");\r\n        });\r\n\r\n        this.isZoomChart.subscribe(value => {\r\n            this.updateChart();\r\n        });\r\n\r\n        this.groupSize.subscribe(value => {\r\n            this.computeStartDayForGroup();\r\n            this.updateChart();\r\n            this.updateUrl();\r\n            if (value > 1)\r\n                this.tipManager.markAction(\"groupChanged\", value.toString());\r\n        });\r\n\r\n        this.startDay.subscribe(value => {\r\n            this.updateChart();\r\n            this.updateUrl();\r\n        });\r\n\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const stateRaw = urlParams.get(\"state\");\r\n        this._keepState = urlParams.get(\"keepState\") == \"true\";\r\n\r\n        this.loadPreferences();\r\n\r\n        this.tipManager = new TipManager<IOverviewViewActions>(this._tips, () => this._preferences, () => this.savePreferences());\r\n\r\n        this.tipManager.engageUser();\r\n\r\n        let state: IPageState;\r\n\r\n        if (stateRaw && this._keepState)\r\n            state = <IPageState>JSON.parse(atob(stateRaw));\r\n        else\r\n            state = {};\r\n\r\n        setTimeout(() => this.loadState(state), 0);\r\n\r\n        if (!this._debugMode)\r\n            window.addEventListener(\"beforeunload\", () => this.savePreferences());\r\n\r\n        //Templating.template(document.querySelector(\"#template\"), \"TestComponent\", Templating.model({ isChecked: false }));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected isDefaultState(state: IPageState) {\r\n        return (!state.day || state.day == this._calculator.data.count - 1) &&\r\n            (!state.view || state.view == \"region\") &&\r\n            !state.area &&\r\n            (!state.indicator || state.indicator == \"totalPositive\") &&\r\n            (!state.factor || state.factor == \"none\") &&\r\n            !state.maxFactor &&\r\n            !state.dayDelta &&\r\n            !state.logScale &&\r\n            !state.showEnvData &&\r\n            state.dateRangeId == 0,\r\n            (!state.groupSize || state.groupSize == 1) &&\r\n            (state.startDay == undefined || state.startDay == 0) &&\r\n            (!state.excludedArea) &&\r\n            (!state.detailsArea);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadState(state: IPageState) {\r\n\r\n        if (!state.view)\r\n            state.view = \"region\";\r\n\r\n        const viewTabs = M.Tabs.getInstance(document.getElementById(\"areaTabs\"));\r\n        viewTabs.select(ViewModes[state.view].tab);\r\n\r\n        document.body.scrollTop = 0;\r\n\r\n        if (!state.dateRangeId)\r\n            this.dataRange(this.dataRanges[0]);\r\n        else\r\n            this.dataRange(linq(this.dataRanges).first(a => a.id == state.dateRangeId));\r\n\r\n        if (state.logScale != undefined)\r\n            this.isLogScale(state.logScale);\r\n\r\n        if (state.groupSize)\r\n            this.groupSize(state.groupSize);\r\n\r\n        if (state.startDay != undefined)\r\n            this.startDay(state.startDay);\r\n\r\n        if (state.dayDelta != undefined)\r\n            this.isDayDelta(state.dayDelta);\r\n\r\n        if (state.showEnvData != undefined)\r\n            this.isShowEnvData(state.showEnvData);\r\n\r\n        if (state.maxFactor) {\r\n            this.autoMaxFactor(false);\r\n            this.maxFactor(state.maxFactor);\r\n        }\r\n\r\n        this.dayNumber(state.day != undefined ? state.day : this._calculator.data.count - 1);\r\n\r\n        if (state.excludedArea) {\r\n            this._execludedArea.clear();\r\n            for (let areaId of state.excludedArea)\r\n                this._execludedArea.set(areaId, this._calculator.geo.areas[areaId.toLowerCase()]);\r\n        }\r\n\r\n        if (state.indicator)\r\n            this.selectedIndicator(linq(this._dataSet.indicators).first(a => a.id == state.indicator));\r\n\r\n        if (state.factor)\r\n            this.selectedFactor(linq(this._dataSet.factors).first(a => a.id == state.factor));\r\n\r\n        if (state.area)\r\n            this.selectedArea = this._calculator.geo.areas[state.area.toLowerCase()];\r\n\r\n        if (state.detailsArea)\r\n            this.detailsArea(this._calculator.geo.areas[state.detailsArea]);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    saveStata(): IPageState {\r\n\r\n        return {\r\n            view: this.viewMode() == \"region\" ? undefined : this.viewMode(),\r\n            indicator: this.selectedIndicator() ? this.selectedIndicator().id : undefined,\r\n            factor: this.selectedFactor() ? this.selectedFactor().id : undefined,\r\n            dayDelta: this.isDayDelta() ? true : undefined,\r\n            maxFactor: this.autoMaxFactor() ? undefined : this.maxFactor(),\r\n            day: this.dayNumber() == this._calculator.data.count - 1 ? undefined : this.dayNumber(),\r\n            area: this.selectedArea ? this.selectedArea.id : undefined,\r\n            groupSize: this.groupSize() == 1 ? undefined : this.groupSize(),\r\n            startDay: this.startDay() == 0 ? undefined : this.startDay(),\r\n            logScale: this.isLogScale() ? true : undefined,\r\n            excludedArea: this._execludedArea.size > 0 ? linq(this._execludedArea.keys()).toArray() : undefined,\r\n            showEnvData: this.isShowEnvData() ? true : undefined,\r\n            detailsArea: this.detailsArea() ? this.detailsArea().id : undefined,\r\n            dateRangeId: this.dataRange().id\r\n        };\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    loadPreferences() {\r\n        let json = localStorage.getItem(\"preferences\");\r\n\r\n        if (json) {\r\n\r\n            try {\r\n                this._preferences = JSON.parse(json);\r\n            }\r\n            catch {\r\n            }\r\n\r\n            if (!this._preferences || this._preferences.version != 1) {\r\n                this._preferences = this.getDefaultPreferences();\r\n                this._preferences.isFirstView = false;\r\n                this._preferences.showTips = false;\r\n                this.savePreferences();\r\n            }\r\n        }\r\n        else\r\n            this._preferences = this.getDefaultPreferences();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getDefaultPreferences(): IViewPreferences {\r\n        return ({\r\n            isFirstView: true,\r\n            showTips: true,\r\n            version: 1,\r\n            actions: {\r\n                areaSelected: 0,\r\n                indicatorSelected: 0,\r\n                indicatorChanged: 0,\r\n                dayChanged: 0,\r\n                viewChanged: 0,\r\n                chartActionExecuted: 0,\r\n                factorChanged: 0,\r\n                groupChanged: 0,\r\n                maxFactorChanged: 0,\r\n                scaleChanged: 0,\r\n                topAreasOpened: 0,\r\n                deltaSelected: 0,\r\n                regionExcluded: 0\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    savePreferences() {\r\n        this._preferences.isFirstView = false;\r\n        localStorage.setItem(\"preferences\", JSON.stringify(this._preferences));\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    toggleChartZoom() {\r\n\r\n        this._preferences.actions.chartActionExecuted++;\r\n        this.isZoomChart(!this.isZoomChart());\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async copyMap() {\r\n        const element = document.querySelector(\"svg.map\");\r\n        const svgText = element.outerHTML;\r\n        const blob = new Blob([svgText], { type: \"image/svg+xml\" });\r\n\r\n        if (navigator[\"clipboard\"] && navigator[\"clipboard\"][\"write\"]) {\r\n            const svgImage = document.createElement('img');\r\n            svgImage.style.width = element.clientWidth + \"px\";\r\n            svgImage.style.height = element.clientHeight + \"px\";\r\n            svgImage.onload = function () {\r\n\r\n                const canvas = document.createElement(\"canvas\");\r\n                canvas.width = element.clientWidth;\r\n                canvas.height = element.clientHeight;\r\n\r\n                const ctx = canvas.getContext(\"2d\");\r\n                ctx.fillStyle = \"white\";\r\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n                ctx.drawImage(svgImage, 0, 0);\r\n\r\n                canvas.toBlob(async pngBlob => {\r\n                    let item = new ClipboardItem({ [pngBlob.type]: pngBlob });\r\n                    await navigator.clipboard.write([item]);\r\n                    M.toast({ html: $string(\"$(msg-map-copied)\") })\r\n                })\r\n            }\r\n            svgImage.src = window.URL.createObjectURL(blob);\r\n        }\r\n        else {\r\n            const element = document.createElement(\"a\");\r\n            element.href = window.URL.createObjectURL(blob);\r\n            element.target = \"_blan\";\r\n            element.download = \"map.svg\";\r\n            element.click();\r\n            M.toast({ html: $string(\"$(msg-no-copy)\") })\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    copyChart() {\r\n        this._chart.canvas.toBlob(async blob => {\r\n            if (navigator[\"clipboard\"] && navigator[\"clipboard\"][\"write\"]) {\r\n                let item = new ClipboardItem({ [blob.type]: blob });\r\n                await navigator.clipboard.write([item]);\r\n                M.toast({ html: $string(\"$(msg-chart-copied)\") })\r\n            }\r\n            else {\r\n                const url = window.URL.createObjectURL(blob);\r\n                const element = document.createElement(\"a\");\r\n                element.href = url;\r\n                element.target = \"_blan\";\r\n                element.download = this._chart.options.plugins.title.text + \".png\";\r\n                element.click();\r\n                M.toast({ html: $string(\"$(msg-no-copy)\") })\r\n            }\r\n        });\r\n        this.tipManager.markAction(\"chartActionExecuted\", \"copy\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async copySerie() {\r\n\r\n        const data = this._chart.data.datasets[0].data as unknown as IFunctionPoint[];\r\n        let text = \"\";\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (i > 0)\r\n                text += \"\\n\";\r\n            text += formatDate(data[i].x as Date, $string(\"$(date-format)\")) + \"\\t\" + i + \"\\t\" + round(data[i].y, 1);\r\n        }\r\n\r\n        copyText(text);\r\n\r\n        M.toast({ html: $string(\"$(msg-serie-copied)\") })\r\n        this.tipManager.markAction(\"chartActionExecuted\", \"copySerie\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    async copySerieForStudio() {\r\n\r\n        let obj: StudioData = {\r\n            type: \"serie\",\r\n            version: 1,\r\n            color: this.selectedIndicator().colorLight,\r\n            serie: {\r\n                type: \"geoplot\",\r\n                areaId: this.selectedArea.id,\r\n                indicatorId: this.selectedIndicator().id,\r\n                xAxis: \"dayNumber\",\r\n                exeludedAreaIds: linq(this._execludedArea.keys()).toArray(),\r\n                factorId: this.selectedFactor().id,\r\n                groupSize: this.groupSize(),\r\n                isDelta: this.isDayDelta(),\r\n                startDay: this.startDay(),\r\n                range: {\r\n                    start: this._calculator.data.startDay,\r\n                    end: this._calculator.data.endDay,\r\n                }\r\n            },\r\n            title: this.factorDescription()\r\n        };\r\n\r\n        obj.values = this._calculator.getSerie(obj.serie);\r\n\r\n        copyText(JSON.stringify(obj));\r\n\r\n        M.toast({ html: $string(\"$(msg-serie-copied-studio)\") })\r\n\r\n        this.tipManager.markAction(\"chartActionExecuted\", \"copySerieForStudio\");\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    play() {\r\n        if (this.dayNumber() == this._calculator.data.count - 1)\r\n            this.dayNumber(0);\r\n        this.isPlaying(true);\r\n        this.nextFrame();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    pause() {\r\n        this.isPlaying(false);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    setViewMode(mode: ViewMode, fromModel = false) {\r\n\r\n        if (fromModel) {\r\n            const areaTabs = M.Tabs.getInstance(document.getElementById(\"areaTabs\"));\r\n            areaTabs.select(ViewModes[mode].tab);\r\n        }\r\n\r\n        if (mode == \"details\") {\r\n\r\n            if (this._detailsGeo && this._detailsData) {\r\n                this._calculator.geo = this._detailsGeo;\r\n                this._calculator.data = this._detailsData;\r\n            }\r\n        }\r\n        else {\r\n            this._calculator.geo = this._mainGeo;\r\n            this._calculator.data = this._mainData;\r\n        }\r\n\r\n        this.totalDays(this._calculator.data.count - 1);\r\n\r\n        if (mode != \"region\")\r\n            this.tipManager.markAction(\"viewChanged\", mode);\r\n\r\n        this.viewMode(mode);\r\n\r\n        const districtGroup = document.getElementById(\"group_district\");\r\n\r\n        if (mode == \"district\" || mode == \"details\")\r\n            districtGroup.style.removeProperty(\"display\");\r\n        else\r\n            districtGroup.style.display = \"none\";\r\n\r\n        this.selectedArea = null;\r\n\r\n        this._chart = null;\r\n\r\n        this._execludedArea.clear();\r\n\r\n        this.clearMap();\r\n\r\n        this.updateMaxFactor();\r\n\r\n        this.updateDayData();\r\n\r\n        if (this.viewMode() == \"country\") {\r\n            this.selectedArea = this._calculator.geo.areas[\"it\"];\r\n            this.tipManager.showTip(\"regionExcluded\", { timeout: 5 });\r\n        }\r\n        else {\r\n            if (this._topAreasVisible)\r\n                this.updateTopAreas();\r\n            else\r\n                this._daysData = undefined;\r\n        }\r\n\r\n        setTimeout(() =>\r\n            M.FormSelect.init(document.querySelectorAll(\".row-indicator select\")));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    get selectedArea() {\r\n        return this._selectedArea;\r\n    }\r\n\r\n    set selectedArea(value: IGeoArea) {\r\n        if (value == this._selectedArea)\r\n            return;\r\n\r\n        if (this._selectedArea) {\r\n            const element = document.getElementById(this._selectedArea.id.toUpperCase());\r\n            if (element)\r\n                element.classList.remove(\"selected\");\r\n        }\r\n\r\n        this._selectedArea = value;\r\n\r\n        if (this._selectedArea) {\r\n            const element = document.getElementById(this._selectedArea.id.toUpperCase());\r\n            if (element) {\r\n                element.classList.add(\"selected\");\r\n                const parent = element.parentElement;\r\n                element.remove();\r\n                parent.appendChild(element);\r\n            }\r\n        }\r\n        this.changeArea();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getFactorValue(dayNumberOrGroup: number | number[], areaOrId: string | IGeoArea): number {\r\n\r\n        return this._calculator.getFactorValue({\r\n            dayNumberOrGroup: dayNumberOrGroup,\r\n            areaOrId: areaOrId,\r\n            factorId: this.selectedFactor().id,\r\n            indicatorId: this.selectedIndicator().id,\r\n            isDayDelta: this.isDayDelta(),\r\n            isAvg: this.isAvg(),\r\n            execludedAreas: linq(this._execludedArea.keys()).toArray()\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected getIndicatorValue(dayNumber: number, areaOrId: string | IGeoArea, indicatorId: keyof TData | string): number {\r\n\r\n        return this._calculator.getIndicatorValue({\r\n            dayNumber: dayNumber,\r\n            areaOrId: areaOrId,\r\n            indicatorId: indicatorId,\r\n            isDayDelta: this.isDayDelta(),\r\n            execludedAreas: linq(this._execludedArea.keys()).toArray()\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected computeStartDayForGroup() {\r\n\r\n        let totDays = this._calculator.data.count - this.startDay();\r\n        const module = (totDays % this.groupSize());\r\n        if (module != 0) {\r\n            const invModule = this.groupSize() - module;\r\n            if (this.startDay() - invModule >= 0)\r\n                this.startDay(this.startDay() - invModule);\r\n            else if (this.startDay() + module < this._calculator.data.count - 1)\r\n                this.startDay(this.startDay() + module);\r\n\r\n            M.FormSelect.init(document.querySelectorAll(\".row-chart-group select\"));\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    private onMapClick(e: MouseEvent, isDouble: boolean) {\r\n\r\n        const item = <SVGPolygonElement>e.target;\r\n        const areaId = item.parentElement.id;\r\n        const area = this._calculator.geo.areas[areaId.toLowerCase()];\r\n\r\n        if (!area)\r\n            return;\r\n\r\n        if (!isDouble) {\r\n            if (this.viewMode() == \"country\") {\r\n                if (this._execludedArea.has(areaId))\r\n                    this._execludedArea.delete(areaId);\r\n                else {\r\n                    this._execludedArea.set(areaId, area);\r\n                    M.toast({ html: $string(\"$(msg-region-ex)\").replace(\"[region]\", area.name) });\r\n                }\r\n                this.updateIndicator();\r\n            }\r\n            else {\r\n                //if (item.parentElement.classList.contains(this.viewMode()))\r\n                this.selectedArea = area;\r\n            }\r\n\r\n            this.tipManager.markAction(\"areaSelected\", area.name);\r\n        }\r\n        else {\r\n            if (this.viewMode() == \"region\" || this.viewMode() == \"district\")\r\n                this.detailsArea(area);\r\n        }\r\n    }\r\n\r\n\r\n        /****************************************/top\r\n\r\n    protected nextFrame() {\r\n\r\n        if (!this.isPlaying())\r\n            return;\r\n\r\n        if (this.dayNumber() >= this._calculator.data.count - 1)\r\n            this.pause();\r\n        else\r\n            this.dayNumber(parseInt(this.dayNumber().toString()) + 1);\r\n\r\n        setTimeout(() => this.nextFrame(), 200);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected changeArea() {\r\n        if (this._selectedArea == null)\r\n            this.currentArea(null);\r\n        else {\r\n            var isEmptyArea = !this.currentArea();\r\n\r\n            const area = new AreaViewModel();\r\n\r\n            area.value = this._selectedArea;\r\n\r\n            this.updateArea(area);\r\n\r\n            this.currentArea(area)\r\n\r\n            this.updateFactorDescription();\r\n\r\n            this.updateAreaIndicators();\r\n\r\n            this.updateChart();\r\n\r\n            if (isEmptyArea) {\r\n                M.FormSelect.init(document.querySelectorAll(\".row-chart-group select\"));\r\n                M.Tooltip.init(document.querySelectorAll(\".row-chart-group .tooltipped\"));\r\n            }\r\n        }\r\n\r\n        this.updateUrl();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateAreaIndicators() {\r\n        if (!this.currentArea())\r\n            return;\r\n        if (!this.currentArea().indicators()) {\r\n            const items: IndicatorViewModel[] = [];\r\n            for (let indicator of this.indicators()) {\r\n\r\n                if (indicator.showInFavorites === false)\r\n                    continue;\r\n\r\n                let item = new IndicatorViewModel();\r\n                item.indicator = indicator;\r\n                item.select = () => {\r\n                    this.tipManager.markAction(\"indicatorSelected\", item.indicator.id);\r\n                    this.selectedIndicator(indicator);\r\n                    setTimeout(() =>\r\n                        M.FormSelect.init(document.querySelectorAll(\".row-indicator select\")));\r\n                }\r\n                items.push(item);\r\n            }\r\n            this.currentArea().indicators(items);\r\n        }\r\n\r\n        const areaId = this.currentArea().value.id.toLowerCase();\r\n\r\n        for (let item of this.currentArea().indicators())\r\n            item.value(this.getIndicatorValue(this.dayNumber(), areaId, item.indicator.id))\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateFactorDescription() {\r\n\r\n        let desc = \"\";\r\n\r\n        if (this.isDayDelta())\r\n            desc = \"$(new) \";\r\n\r\n        desc += this.selectedFactor().description.replace(\"[indicator]\", this.selectedIndicator().name);\r\n        if (this.currentArea())\r\n            desc += \" - \" + this.currentArea().value.name;\r\n\r\n        if (this._execludedArea.size > 0) {\r\n            desc += \" - $(except) (\";\r\n            let i = 0;\r\n            for (let key of this._execludedArea.keys()) {\r\n                if (i > 0)\r\n                    desc += \", \";\r\n                desc += this._execludedArea.get(key).name;\r\n                i++;\r\n            }\r\n            desc += \")\";\r\n        }\r\n\r\n        this.factorDescription($string(desc));\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateIndicator() {\r\n\r\n        if (!this.selectedIndicator() || !this.selectedFactor())\r\n            return;\r\n\r\n        this.updateFactorDescription();\r\n\r\n        /*\r\n        if (this.selectedFactor().id != \"none\") {\r\n \r\n            if (this.groupSize() != 1)\r\n                this.groupSize(1);\r\n        }*/\r\n\r\n        this.updateMaxFactor();\r\n        this.updateDayData();\r\n        this.updateChart();\r\n        this.updateUrl();\r\n\r\n        if (this._topAreasVisible)\r\n            this.updateTopAreas();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateMaxFactor() {\r\n\r\n        if (!this.selectedFactor() || !this.selectedIndicator() || !this.autoMaxFactor())\r\n            return;\r\n\r\n        let result = Number.NEGATIVE_INFINITY;\r\n        let curView = ViewModes[this.viewMode()];\r\n\r\n\r\n        let count = 0;\r\n        let list = [];\r\n        this._calculator.data.days.foreach((day, i) => {\r\n            for (let areaId in day.values) {\r\n                if (!curView.validateId(areaId))\r\n                    continue;\r\n                if (!this._calculator.geo.areas[areaId])\r\n                    continue;\r\n\r\n                const factor = Math.abs(this.getFactorValue(i, areaId));\r\n                if (!isNaNOrNull(factor) && factor != Number.POSITIVE_INFINITY && factor > result)\r\n                    result = factor;\r\n\r\n                if (factor != 0)\r\n                    list.push(factor);\r\n            }\r\n        });\r\n        /*\r\n        list = linq(list).orderBy(a => a).toArray();\r\n        var index = Math.floor(list.length / 2);\r\n        result = list[index];*/\r\n\r\n        this.maxFactor(parseFloat(result.toFixed(1)));\r\n    }\r\n\r\n\r\n    /****************************************/\r\n\r\n    protected initChart() {\r\n        const canvas = <HTMLCanvasElement>document.querySelector(\"#areaGraph\");\r\n\r\n        const referencesPlugIn: Plugin<any> = {\r\n            id: \"lines\",\r\n            afterDraw: chart => {\r\n\r\n                const data = chart.data.datasets[0].data;\r\n\r\n                if (!data || data.length == 0)\r\n                    return;\r\n\r\n                const xScale = chart.scales.xAxes;\r\n                const ctx = chart.ctx;\r\n\r\n                for (let key in this._specialDates) {\r\n\r\n                    let item = this._specialDates[key];\r\n                    if (!item.date || item.visible === false)\r\n                        continue;\r\n                    \r\n                    let offset = xScale.getPixelForValue(item.date.getTime());\r\n\r\n                    ctx.lineWidth = item.width || 1;\r\n\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(offset, chart.chartArea.top);\r\n                    ctx.lineTo(offset, chart.chartArea.bottom);\r\n                    ctx.strokeStyle = item.color || \"#000\";\r\n\r\n                    if (item.dash)\r\n                        ctx.setLineDash(item.dash);\r\n                    else\r\n                        ctx.setLineDash([]);\r\n                    if (item.dashOffset)\r\n                        ctx.lineDashOffset = item.dashOffset;\r\n                    ctx.stroke();\r\n                }\r\n            }\r\n        };\r\n\r\n        const bkPlugin: Plugin<any> = {\r\n            id: \"bk\",\r\n            beforeDraw: function (chart, args, options) {\r\n                var ctx = chart.ctx;\r\n                ctx.fillStyle = \"white\";\r\n                ctx.fillRect(0, 0, chart.width, chart.height);\r\n            }\r\n        };\r\n\r\n        this._chart = new Chart(canvas, {\r\n            plugins: [bkPlugin, referencesPlugIn],\r\n            type: \"line\",\r\n            data: {\r\n                datasets: [\r\n                    {\r\n                        fill: \"origin\",\r\n                        data: [],\r\n                        borderWidth: 1\r\n                    }\r\n                ]\r\n            },\r\n            options: {\r\n                maintainAspectRatio: false,\r\n                plugins: {\r\n                    title: {\r\n                        display: false\r\n                    },\r\n                    legend: {\r\n                        display: true,\r\n                        position: \"bottom\"\r\n                    },\r\n                    tooltip: {\r\n                        callbacks: {\r\n                            label: item => {\r\n                                return round(item.parsed.y, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n \r\n                scales: {\r\n                    xAxes: {\r\n                        type: \"time\",\r\n                        adapters: {\r\n                            date: {\r\n                                locale: $language == \"it-IT\" ? it : enUS,\r\n                            }\r\n                        },\r\n                        time: {\r\n                            unit: \"day\",\r\n                            tooltipFormat: \"dd/MMM\"\r\n                        }\r\n\r\n                    },\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateDays() {\r\n        const days = [];\r\n        this._calculator.data.days.foreach((day, i) =>\r\n            days.push({ number: i, value: new Date(day.date), text: formatDate(day.date, $string(\"$(date-format-short)\")) })\r\n        );\r\n        this.days(days);\r\n        this.totalDays(this._calculator.data.count - 1);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateChart() {\r\n\r\n        if (!this.selectedIndicator() || !this.currentArea() || !this.selectedFactor())\r\n            return;\r\n\r\n        if (this._chart == null)\r\n            this.initChart();\r\n\r\n        const area = this.currentArea().value;\r\n\r\n        this._chart.data.datasets[0].label = this.factorDescription();\r\n        this._chart.options.plugins.title.text = this._chart.data.datasets[0].label;\r\n\r\n        if (this.isLogScale())\r\n            this._chart.options.scales.y.type = \"logarithmic\";\r\n        else\r\n            this._chart.options.scales.y.type = \"linear\";\r\n\r\n        this._chart.options.scales.y.min = 0;\r\n\r\n        this._chart.data.datasets[0].borderColor = this.selectedIndicator().colorDark;\r\n        this._chart.data.datasets[0].backgroundColor = this.selectedIndicator().colorLight;\r\n\r\n        const data = this._calculator.getSerie({\r\n            type: \"geoplot\",\r\n            areaId: area.id,\r\n            indicatorId: this.selectedIndicator().id,\r\n            xAxis: \"date\",\r\n            startDay: this.startDay(),\r\n            exeludedAreaIds: linq(this._execludedArea.keys()).toArray(),\r\n            factorId: this.selectedFactor().id,\r\n            groupSize: this.groupSize(),\r\n            isDelta: this.isDayDelta(),\r\n            isAvg: this.isAvg()\r\n        });\r\n\r\n              \r\n        const orderedData = linq(data).select(a => a.y).where(a=> !isNaN(a)).orderBy(a => a).toArray();\r\n\r\n        this._chart.options.scales.y.min = orderedData[0] * 1.1;\r\n        this._chart.options.scales.y.max = orderedData[orderedData.length - 1] * 1.1;\r\n\r\n\r\n        this._chart.data.datasets[0].data = data as any;\r\n        this._chart.update();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateArea(value: AreaViewModel, dayNumber?: number) {\r\n\r\n        if (!value || !this.selectedIndicator() || !this.selectedFactor())\r\n            return;\r\n\r\n        if (dayNumber == undefined)\r\n            dayNumber = parseInt(this.dayNumber() as any);\r\n\r\n        const id = value.value.id.toLowerCase();\r\n        const area = value.value;\r\n\r\n        /*\r\n        if (!day || !day.values[id]) {\r\n            M.toast({\r\n                html: $string(\"$(msg-no-data)\")});\r\n            return;\r\n        }*/\r\n\r\n        value.data(this._calculator.getDataAtDay(dayNumber, id));\r\n\r\n        value.indicator(this.getIndicatorValue(dayNumber, id, this.selectedIndicator().id));\r\n\r\n        value.factor(this.getFactorValue(dayNumber, area));\r\n\r\n        value.reference(this.selectedFactor().reference(value.data(), area));\r\n\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected async updateDetailsArea() {\r\n\r\n        const detailsEl = <HTMLElement>document.querySelector(\".details-map\");\r\n\r\n        if (!this.detailsArea()) {\r\n            this.setViewMode(\"region\");\r\n            detailsEl.innerHTML = \"\";\r\n        }\r\n        else {\r\n\r\n            await this.detailsLoading.waitFor();\r\n\r\n            this.detailsLoading.reset();\r\n\r\n            try {\r\n\r\n                this.setViewMode(\"details\", true);\r\n\r\n                await delayAsync(0);\r\n\r\n                detailsEl.innerHTML = \"<span class = 'loading'><i class ='material-icons'>loop</i></span>\";\r\n\r\n                document.getSelection().empty();\r\n\r\n                const mainData = <IGeoPlotViewModel>JSON.parse(await (await fetch(App.baseUrl + \"AreaData/\" + this.detailsArea().id)).text());\r\n                const mapData = await (await fetch(App.baseUrl + \"AreaMap/\" + this.detailsArea().id)).text();\r\n\r\n                detailsEl.innerHTML = mapData;\r\n\r\n                var svgMap = <HTMLElement>document.querySelector(\".details-map svg\");\r\n                svgMap.addEventListener(\"click\", e => this.onMapClick(e, false));\r\n\r\n                svgMap.querySelector(\"#group_municipality\").classList.add(\"active\");\r\n\r\n                this._detailsData = new RangeDayAreaDataSet(mainData.data);\r\n                this._detailsGeo = mainData.geo;\r\n\r\n                this.setViewMode(\"details\", true);\r\n            }\r\n            finally {\r\n\r\n                this.detailsLoading.set();\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateTopAreas() {\r\n\r\n        this._daysData = [];\r\n\r\n        this._calculator.data.days.foreach((day, i) => {\r\n\r\n            const item: IDayData = {};\r\n\r\n            const isInArea = ViewModes[this.viewMode()].validateId;\r\n\r\n            item.topAreas = linq(day.values).select(a => ({\r\n                factor: this.getFactorValue(i, a.key),\r\n                value: a\r\n            })).where(a => !isNaNOrNull(a.factor))\r\n                .orderByDesc(a => a.factor).where(a => isInArea(a.value.key)).select(a => {\r\n\r\n                    const area = new AreaViewModel();\r\n\r\n                    area.value = this._calculator.geo.areas[a.value.key.toLowerCase()];\r\n\r\n                    area.select = () => this.selectedArea = area.value;\r\n\r\n                    this.updateArea(area, i);\r\n\r\n                    return area;\r\n\r\n                }).take(25).toArray();\r\n\r\n            this._daysData.push(item);\r\n        });\r\n\r\n        this.topAreas(this._daysData[this.dayNumber()].topAreas);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateDayData() {\r\n\r\n        const day = this._calculator.data.get(this.dayNumber());\r\n\r\n        if (!day) {\r\n            console.warn(\"No day data: \" + this.dayNumber());\r\n            return;\r\n        }\r\n\r\n        this.currentData(formatDate(day.date, $string(\"$(date-format)\")));\r\n\r\n        this.updateMap();\r\n\r\n        this.updateArea(this.currentArea());\r\n\r\n        this.updateAreaIndicators();\r\n\r\n        if (this._daysData && this._topAreasVisible)\r\n            this.topAreas(this._daysData[this.dayNumber()].topAreas);\r\n\r\n        this.updateUrl();\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateUrl() {\r\n        if (!this._keepState)\r\n            return;\r\n        const state = this.saveStata();\r\n        let url = App.baseUrl + \"Overview\";\r\n        if (!this.isDefaultState(state))\r\n            url += \"?state=\" + encodeURIComponent(btoa(JSON.stringify(state))) + \"&keepState=true\";\r\n        history.replaceState(null, null, url);\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected clearMap() {\r\n\r\n        const day = this._calculator.data.get(this.dayNumber());\r\n\r\n        if (!day || !day.values) {\r\n            console.warn(\"No day data: \" + this.dayNumber());\r\n            return;\r\n        }\r\n\r\n        for (const key in day.values) {\r\n            const element = document.getElementById(key.toUpperCase());\r\n            if (element) {\r\n                //element.style.fillOpacity = \"1\";\r\n                element.style.removeProperty(\"fill\");\r\n            }\r\n        }\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    protected updateMap() {\r\n\r\n        if (!this.selectedIndicator() || !this.selectedFactor())\r\n            return;\r\n\r\n\r\n        if (this.viewMode() != \"country\") {\r\n\r\n            const day = this._calculator.data.get(this.dayNumber());\r\n\r\n            var indicator = this.selectedIndicator();\r\n\r\n            const gradient = indicator.gradient ? indicator.gradient : new LinearGradient(\"#fff\", indicator.colorDark);\r\n\r\n            for (const key in day.values) {\r\n                const element = document.getElementById(key.toUpperCase());\r\n                if (element) {\r\n\r\n                    const area = this._calculator.geo.areas[key];\r\n\r\n                    if (area.type != ViewModes[this.viewMode()].areaType)\r\n                        continue;\r\n\r\n\r\n                    let factor = this.getFactorValue(parseInt(this.dayNumber() as any), area);\r\n                    if (factor == Number.POSITIVE_INFINITY)\r\n                        factor = NaN;\r\n\r\n                    if (indicator.canBeNegative)\r\n                        factor = 0.5 + ((factor - this.baseFactor()) / (this.maxFactor() * 2));\r\n                    else\r\n                        factor = (factor - this.baseFactor()) / this.maxFactor();\r\n\r\n\r\n                    factor = Math.min(1, Math.max(0, factor));\r\n\r\n                    if (isNaNOrNull(factor)) {\r\n                        if (element.classList.contains(\"valid\"))\r\n                            element.classList.remove(\"valid\");\r\n                        element.style.removeProperty(\"fill\");\r\n                    }\r\n                    else {\r\n                        if (!element.classList.contains(\"valid\"))\r\n                            element.classList.add(\"valid\");\r\n\r\n                        let value: number;\r\n                        if (!indicator.canBeNegative)\r\n                            value = discretize(exponential(factor), 20);\r\n                        else\r\n                            value = discretize(factor, 20);\r\n                        element.style.fill = gradient.valueAt(value).toString();\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (this.viewMode() != \"details\") {\r\n            linq(document.querySelectorAll(\".main-map g.region\")).foreach((element: HTMLElement) => {\r\n                if (this._execludedArea.has(element.id))\r\n                    element.style.fill = \"#444\";\r\n                else\r\n                    element.style.fill = \"#FFF\";\r\n            });\r\n        }\r\n    }\r\n\r\n    get dataRanges() {\r\n        return this._dataRanges;\r\n    }\r\n\r\n    /****************************************/\r\n\r\n    dayNumber = ko.observable(0);\r\n    totalDays = ko.observable(0);\r\n    detailsLoading = new Signal(true);\r\n    detailsArea = ko.observable<IGeoArea>();\r\n    currentData = ko.observable<string>();\r\n    currentArea = ko.observable<AreaViewModel>();\r\n    topAreas = ko.observable<AreaViewModel[]>();\r\n    viewMode = ko.observable<ViewMode>(\"district\");\r\n    selectedIndicator = ko.observable<IIndicator<TData>>();\r\n    selectedFactor = ko.observable<IFactor<TData>>();\r\n    autoMaxFactor = ko.observable<boolean>(true);\r\n    maxFactor = ko.observable<number>();\r\n    baseFactor = ko.observable<number>(0);\r\n    isPlaying = ko.observable(false);\r\n    isLogScale = ko.observable<boolean>(false);\r\n    isDayDelta = ko.observable<boolean>(false);\r\n    isAvg = ko.observable<boolean>(false);\r\n    isZoomChart = ko.observable<boolean>(false);\r\n    isShowEnvData = ko.observable<boolean>(false);\r\n    groupSize = ko.observable<number>(1);\r\n    startDay = ko.observable<number>(0);\r\n    dataRange = ko.observable<IDataRange>();\r\n    days = ko.observable<IGroupDay[]>();\r\n    tipManager: TipManager<IOverviewViewActions>;\r\n    isNoFactorSelected = ko.computed(() => this.selectedFactor() && this.selectedFactor().id == 'none');\r\n    groupDays = [1, 2, 3, 4, 5, 6, 7];\r\n    factorDescription = ko.observable<string>();\r\n    indicators: KnockoutObservable<IIndicator<TData>[]>;\r\n    factors: KnockoutObservable<IFactor<TData>[]>;\r\n\r\n}","﻿if (!HTMLCanvasElement.prototype.toBlob) {\r\n    Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n        value: function (callback, type, quality) {\r\n            let canvas = this;\r\n            setTimeout(() => {\r\n                const binStr = atob(canvas.toDataURL(type, quality).split(',')[1]);\r\n                const len = binStr.length;\r\n                const arr = new Uint8Array(len);\r\n\r\n                for (let i = 0; i < len; i++)\r\n                    arr[i] = binStr.charCodeAt(i);\r\n\r\n                callback(new Blob([arr], { type: type || 'image/png' }));\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/****************************************/\r\n\r\nexport function capitalizeFirst(value: string) {\r\n    return value.substr(0, 1).toUpperCase() + value.substr(1);\r\n}\r\n\r\n\r\n/****************************************/\r\n\r\nexport function expandCollapse(elment: HTMLElement) {\r\n    let container = elment.parentElement;\r\n    let content = <HTMLElement>container.querySelector(\".section-content\");\r\n    if (container.classList.contains(\"closed\")) {\r\n        content.style.removeProperty(\"display\");\r\n        container.classList.remove(\"closed\");\r\n    }\r\n    else {\r\n        container.classList.add(\"closed\");\r\n        setTimeout(() => content.style.display = \"none\", 300);\r\n    }\r\n}\r\n\r\ndeclare global {\r\n\r\n    const $language: string;\r\n\r\n    function formatNumber(value: number, emptyValue?: string): string;\r\n\r\n    function $string(format: string): string;\r\n}\r\n","﻿export * from \"./Application\"\r\nexport * from \"./Pages/StudioPage\"\r\nexport * from \"./Pages/GeoPlotPage\"\r\nexport * from \"./WebApp\"\r\nexport * from \"./Data/ViewModes\"\r\nexport * from \"./Global\"\r\nexport * from \"./Components/ColorPicker\"\r\n\r\nimport \"./Framework/Bindings\" "],"names":[],"sourceRoot":""}